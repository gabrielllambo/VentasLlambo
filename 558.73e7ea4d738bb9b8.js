"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[558],{4690:(y,f,o)=>{o.d(f,{a:()=>p});var c=o(4740);class p{static isEmptyInputValue(v){return null==v||v.length===c.Q6.Cero||""==v}static mustMatch(v,i){return g=>{const I=g.get(v),u=g.get(i);if(!I||!u||(u.hasError("mustMatch")&&(delete u.errors.mustMatch,u.updateValueAndValidity()),this.isEmptyInputValue(u.value)||I.value===u.value))return null;const w={mustMatch:!0};return u.setErrors(w),w}}}},308:(y,f,o)=>{o.d(f,{J:()=>c,T:()=>p});const c={Tittle:"\xa1Ups!",Transaction:"No se pudo completar la operaci\xf3n. Por favor, contacta al soporte t\xe9cnico"},p={Tittle:"\xa1Advertencia!",Transaction:"Algo sali\xf3 mal. Por favor, revisa tus datos e int\xe9ntalo de nuevo",StockInsuficiente:"Producto no cuenta con Stock. No se puede agregar m\xe1s unidades, ",StockLimite:"Lleg\xf3 al limite del Stock. No se puede agregar m\xe1s unidades, ",InvalidCorreo:"Ingrese una direcci\xf3n de Correo v\xe1lida",InvalidCelular:"Ingrese un n\xfamero de celular valido",InvalidTipoDocumento:"Seleccione un Tipo de Documento",InvalidNumeroDocumento:"Ingrese un n\xfamero de documento",InvalidId:"Ocurri\xf3 un error al validar los datos",InvalidGenero:"Seleccione un g\xe9nero v\xe1lido",InvalidMoneda:"Seleccione una moneda v\xe1lida",InvalidTerminosCondiciones:"Debe de aceptar los t\xe9rminos y condiciones",InvalidOcupacion:"Seleccione una ocupaci\xf3n v\xe1lida",InvalidMontoReal:"Ingrese un monto v\xe1lido",InvalidFechaReal:"Ingrese una fecha v\xe1lida",InvalidMarca:"Seleccione una marca v\xe1lida",InvalidVenta:"Seleccione una venta v\xe1lida",InvalidCategoria:"Seleccione una categor\xeda v\xe1lida",InvalidProducto:"Seleccione un producto v\xe1lido",InvalidMedida:"Seleccione una medida v\xe1lida",InvalidMetodoPago:"Seleccione una m\xe9todo de pago v\xe1lido",InvalidCodigo:"Ingrese un c\xf3digo v\xe1lido",InvalidNombre:"Ingrese un Nombre v\xe1lido",InvalidPrecioCompra:"Ingrese un precio de compra",InvalidPrecioVenta:"Ingrese un precio de venta",InvalidPrecioStock:"Ingrese un stock",InvalidNombres:"Ingrese nombres v\xe1lidos",InvalidApellidos:"Ingrese apellidos v\xe1lidos",InvalidRazonSocial:"Ingrese una raz\xf3n social v\xe1lida",InvalidRUC:"Ingrese RUC v\xe1lido",InvalidPermisos:"No cuenta con los permisos para realizar esta operaci\xf3n",InvalidFechaNacimiento:"Ingrese una fecha de nacimiento v\xe1lida",InvalidFechaRegistroVenta:"Ingrese una fecha de venta v\xe1lida",InvalidApellido:"Ingrese un apellido v\xe1lido",InvalidUsuarioMinLength:"El usuario debe contener un m\xednimo de 12 caracteres",InvalidUsuarioMaxLength:"El usuario debe contener un m\xe1ximo de 40 caracteres",InvalidUsuarioContraseniaMinLength:"La contrase\xf1a debe contener un m\xednimo de 12 caracteres",InvalidUsuarioContraseniaMaxLength:"La contrase\xf1a debe contener un m\xe1ximo de 80 caracteres",InvalidColor:"Debe de seleccionar un color",InvalidOrigenRegistro:"Origen del registro no v\xe1lida",InvalidCodigoOTP:"C\xf3digo OTP no v\xe1lido",InvalidToken:"Token no v\xe1lido",InvalidOrigenActualizacion:"Origen de actualizaci\xf3n no v\xe1lida",InvalidUIdUsuario:"Usuario no v\xe1lido",InvalidUIdUsuarioSelected:"Usuario seleccionado no v\xe1lido",InvalidIdCliente:"Cliente no v\xe1lido",InvalidUsuarioSalt:"usuario S. no v\xe1lido",InvalidLocalizacion:"Localizaci\xf3n no v\xe1lida",InvalidContraseniaSegura:"Requisitos de contrase\xf1a:<br />- M\xednimo 12 caracteres. <br />- Debe incluir al menos una letra may\xfascula, una min\xfascula, un n\xfamero y un s\xedmbolo especial. <br />",ContraseniaNotEquals:"Las contrase\xf1as no coinciden. Vuelve a intentarlo",InvalidContrasenia:"Ingrese una contrase\xf1a v\xe1lida",AllowMinTwelveLength:"Longitud m\xednima permitida 12",AllowMinTwoLength:"Longitud m\xednima permitida 2",AllowMaxTwoHundredFiftyLength:"Longitud m\xe1xima permitida 250",AllowMaxFiftyLength:"Longitud m\xe1xima permitida 50",ExcedeTamanioArchivos:"El tama\xf1o de la foto excede el l\xedmite permitido 250KB.",NoExisteCliente:"Cliente no existe con el n\xfamero o correo ingresado",IngreseNumDocumentoCorreo:"Ingrese el Correo o N\xfamero de Documento del Cliente",NohayClienteIngresadoOProductosSeleccionados:"No hay productos seleccionados o cliente",RequiredNombre:"Ingrese su Nombre",RequiredCorreo:"Ingrese su Correo Electr\xf3nico",NoEncontrado:"No se ha encontrado ning\xfan producto que coincida con el filtro especificado."}},5742:(y,f,o)=>{o.d(f,{o:()=>w});var c=o(4740),p=o(5037),C=o(9397),v=o(2734),i=o(9212),g=o(4928),I=o(2425),u=o(4855);let w=(()=>{class e{constructor(s,r,m){this.apiService=s,this._toastService=r,this._securityService=m,this.warningDisplayed=!1,this.sortingActivoData=(h,x)=>"activarDesactivar"===x?h.activo?c.Q6.Uno:c.Q6.Cero:h[x]}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}GetExchangeRateAsync(s){return this.apiService.post(v.UA.GetExchangeRateAsync,s).pipe((0,C.b)(r=>r))}getTimeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}getLocale(){return Intl.DateTimeFormat().resolvedOptions().locale}getDateTimeNow(){return new Date}getuserInfoLogueadoCultureInfo(){return this.obtenerInfoMoneda().cultureInfo}showWarning(s,r){this.warningDisplayed||(this.warningDisplayed=!0,this._toastService.warning(s,r,{positionClass:"toast-bottom-right"}),setTimeout(()=>{this.warningDisplayed=!1},3e3))}showError(s,r){this._toastService.error(s,"",{positionClass:"toast-bottom-right"})}showInfo(s,r){this._toastService.info(s,"",{positionClass:"toast-bottom-right"})}showSuccess(s,r){this._toastService.success(s,"",{positionClass:"toast-bottom-right"})}getNameOfMonth(s){const r=p.ou.fromJSDate(new Date(s)).setLocale(this.getuserInfoLogueadoCultureInfo()),m=r.toFormat("LLLL"),h=r.toFormat("yyyy");return`${m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()}, ${h}`}getCurrencyNumberFormat(s){const r=this.getuserInfoLogueadoCultureInfo();return new Intl.NumberFormat(r,{style:"currency",currency:s,currencyDisplay:"code",minimumFractionDigits:2,maximumFractionDigits:2})}formatoFecha(s){const r=this.getuserInfoLogueadoCultureInfo();return new Date(s).toLocaleDateString(r)}getMaxDate(){return new Date}getMinDateFIlter(){return new Date(2e3,0,1)}getMaxDateFIlter(){return new Date(2100,0,1)}getStartDateOfMonth(){const s=p.ou.now(),r=this.getuserInfoLogueadoCultureInfo();return s.setLocale(r).startOf("month").startOf("day").toJSDate()}getEndDateOfMonth(){const s=p.ou.now(),r=this.getuserInfoLogueadoCultureInfo();return s.setLocale(r).endOf("month").startOf("day").plus({days:c.Q6.Uno}).toJSDate()}isMobilSize(){return window.screen.width<1100}static#e=this.\u0275fac=function(r){return new(r||e)(i.LFG(g.s),i.LFG(I._W),i.LFG(u.I))};static#t=this.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},7558:(y,f,o)=>{o.r(f),o.d(f,{ResetPasswordModule:()=>j});var c=o(6223),p=o(7485),C=o(4690);class v{}var i=o(4740),g=o(308),I=o(653),u=o(8645),w=o(9773),e=o(9212),R=o(5742),s=o(2964),r=o(6593),m=o(2787),h=o(6814),x=o(2032),T=o(5683),U=o(5940),A=o(2296),L=o(617),P=o(9925);function Z(t,d){if(1&t&&(e.TgZ(0,"fuse-alert",7),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),e.xp6(1),e.hij(" ",n.alert.message," ")}}function b(t,d){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"img",5),e.qZA(),e.YNc(5,Z,2,5,"fuse-alert",6),e.qZA()()()),2&t){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.showAlert)}}function E(t,d){if(1&t&&(e.TgZ(0,"fuse-alert",7),e._UZ(1,"div",10),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),e.xp6(1),e.Q6J("innerHTML",n.alert.message,e.oJD)}}function O(t,d){1&t&&(e.TgZ(0,"mat-icon",25),e._uU(1,"visibility_off"),e.qZA())}function N(t,d){1&t&&(e.TgZ(0,"mat-icon",25),e._uU(1,"visibility"),e.qZA())}function J(t,d){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Contrase\xf1a es requerido "),e.qZA())}function Q(t,d){1&t&&(e.TgZ(0,"mat-icon",25),e._uU(1,"visibility_off"),e.qZA())}function V(t,d){1&t&&(e.TgZ(0,"mat-icon",25),e._uU(1,"visibility"),e.qZA())}function B(t,d){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Las contrase\xf1as no coinciden "),e.qZA())}function k(t,d){1&t&&(e.TgZ(0,"span"),e._uU(1," Restablecer contrase\xf1a "),e.qZA())}function z(t,d){1&t&&e._UZ(0,"mat-progress-spinner",26),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}const S=()=>["/sign-in"];function K(t,d){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"img",5),e.qZA(),e.TgZ(5,"div",8),e._uU(6,"Restablece tu contrase\xf1a"),e.qZA(),e.TgZ(7,"div",9),e._uU(8,"Crea una nueva contrase\xf1a para su cuenta "),e._UZ(9,"b",10),e.qZA(),e.YNc(10,E,2,5,"fuse-alert",6),e.TgZ(11,"form",11,12)(13,"mat-form-field",13)(14,"mat-label"),e._uU(15,"Contrase\xf1a"),e.qZA(),e._UZ(16,"input",14,15),e.TgZ(18,"button",16),e.NdJ("click",function(){e.CHM(n);const a=e.MAs(17);return e.KtG(a.type="password"===a.type?"text":"password")}),e.YNc(19,O,2,0,"mat-icon",17)(20,N,2,0,"mat-icon",17),e.qZA(),e.YNc(21,J,2,0,"mat-error",18),e.qZA(),e.TgZ(22,"mat-form-field",13)(23,"mat-label"),e._uU(24,"Confirmar contrase\xf1a"),e.qZA(),e._UZ(25,"input",19,20),e.TgZ(27,"button",16),e.NdJ("click",function(){e.CHM(n);const a=e.MAs(26);return e.KtG(a.type="password"===a.type?"text":"password")}),e.YNc(28,Q,2,0,"mat-icon",17)(29,V,2,0,"mat-icon",17),e.qZA(),e.YNc(30,B,2,0,"mat-error",18),e.qZA(),e.TgZ(31,"button",21),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.RestablecerContraseniaAsync())}),e.YNc(32,k,2,0,"span",18)(33,z,1,2,"mat-progress-spinner",22),e.qZA(),e.TgZ(34,"div",23)(35,"span"),e._uU(36,"Volver para"),e.qZA(),e.TgZ(37,"a",24),e._uU(38,"Iniciar sesi\xf3n "),e.qZA()()()()()()}if(2&t){const n=e.MAs(17),l=e.MAs(26),a=e.oxw();e.xp6(9),e.Q6J("innerHTML",a.validateTokenDataSource.value,e.oJD),e.xp6(1),e.Q6J("ngIf",a.showAlert),e.xp6(1),e.Q6J("formGroup",a.resetPasswordForm),e.xp6(5),e.Q6J("formControlName","txtContrasenia"),e.xp6(3),e.Q6J("ngIf","password"===n.type),e.xp6(1),e.Q6J("ngIf","text"===n.type),e.xp6(1),e.Q6J("ngIf",null==a.resetPasswordForm?null:a.resetPasswordForm.get("txtContrasenia").hasError("required")),e.xp6(4),e.Q6J("formControlName","txtConfirmarContrasenia"),e.xp6(3),e.Q6J("ngIf","password"===(null==l?null:l.type)),e.xp6(1),e.Q6J("ngIf","text"===(null==l?null:l.type)),e.xp6(1),e.Q6J("ngIf",a.resetPasswordForm.get("txtConfirmarContrasenia").hasError("mustMatch")),e.xp6(1),e.Q6J("color","primary")("disabled",a.resetPasswordForm.invalid||a.isCallingService),e.xp6(1),e.Q6J("ngIf",!a.resetPasswordForm.disabled),e.xp6(1),e.Q6J("ngIf",a.resetPasswordForm.disabled),e.xp6(4),e.Q6J("routerLink",e.DdM(16,S))}}function Y(t,d){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"img",5),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"div",23)(7,"span"),e._uU(8,"Volver para"),e.qZA(),e.TgZ(9,"a",24),e._uU(10,"Iniciar sesi\xf3n "),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(5),e.Q6J("innerHTML",n.response.message,e.oJD),e.xp6(4),e.Q6J("routerLink",e.DdM(2,S))}}const W=[{path:"",children:[{path:"",component:(()=>{class t{constructor(n,l,a,D){this._toolService=n,this._formBuilder=l,this._authService=a,this.metaService=D,this.alert={type:"success",message:""},this.isCallingService=i.vU.False,this.showAlert=!1,this.pasosRestablecerContrasenia=i.Fc.VALIDAR_CODIGO_TOKEN,this._unsubscribeAll=new u.x}ngOnInit(){this.metaService.updateTag({name:"robots",content:"noindex, nofollow"}),this._authService.responseValidateToken$.pipe((0,w.R)(this._unsubscribeAll)).subscribe(n=>{if(this.validateTokenDataSource=n,n.success)return this.pasosRestablecerContrasenia=i.Fc.INGRESO_CONTRASENIA,void this.initForm();this.alert={type:"warning",message:n.message},this.showAlert=i.vU.ShowFuseAlert})}initForm(){this.resetPasswordForm=this._formBuilder.group({txtContrasenia:["",[c.kI.required,c.kI.maxLength(i.Q6.Ochenta)]],txtConfirmarContrasenia:["",[c.kI.required,c.kI.maxLength(i.Q6.Ochenta)]]},{validators:C.a.mustMatch("txtContrasenia","txtConfirmarContrasenia")})}RestablecerContraseniaAsync(){if(this.resetPasswordForm.invalid)return;this.showAlert=i.vU.HideFuseAlert;const n=new v,l=this._toolService.getTimeZone(),a=this.resetPasswordForm.get("txtConfirmarContrasenia").value,q=window.location.href.split("reset-password/")[1],F=decodeURIComponent(q);return C.a.isEmptyInputValue(l)?(this.alert={type:"warning",message:g.T.InvalidLocalizacion},void(this.showAlert=i.vU.ShowFuseAlert)):I.$.isValidContrasenia(a)?C.a.isEmptyInputValue(F)?(this.alert={type:"warning",message:g.T.InvalidToken},void(this.showAlert=i.vU.ShowFuseAlert)):(n.destinationTimeZoneIdActualizacion=l,n.token=F,n.contrasenia=a,this.resetPasswordForm.disable(),this.isCallingService=i.vU.True,void this._authService.RestablecerContraseniaAsync(n).subscribe(_=>{if(_.success)return this.response=_,this.isCallingService=i.vU.False,void(this.pasosRestablecerContrasenia=i.Fc.CONTRASENIA_RESTABLECIDA);this.alert={type:"warning",message:_.message},this.showAlert=i.vU.ShowFuseAlert,this.isCallingService=i.vU.False,this.resetPasswordForm.enable()},_=>{this._toolService.showError(g.J.Transaction,g.J.Tittle),this.isCallingService=i.vU.False,this.resetPasswordForm.enable(),console.log(_)})):(this.alert={type:"warning",message:g.T.InvalidContraseniaSegura},void(this.showAlert=i.vU.ShowFuseAlert))}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(R.o),e.Y36(c.QS),e.Y36(s.e),e.Y36(r.h_))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["reset-password-classic"]],decls:3,vars:3,consts:[["class","flex flex-col flex-auto items-center sm:justify-center min-w-0 bg-card sm:bg-transparent"],[1,"flex","flex-col","flex-auto","items-center","sm:justify-center","min-w-0","bg-card","sm:bg-transparent"],[1,"w-full","sm:w-auto","py-8","px-4","sm:p-12","sm:rounded-2xl","sm:shadow","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],["src","assets/images/logo/logo.svg"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"mt-0.5","font-medium"],[3,"innerHTML"],[1,"mt-8",3,"formGroup"],["resetPasswordNgForm","ngForm"],["appearance","outline",1,"w-full"],["autocomplete","off","matInput","","required","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","material-icons-outlined color-icon","matSuffix","",4,"ngIf"],[4,"ngIf"],["autocomplete","off","matInput","","type","password",3,"formControlName"],["passwordConfirmField",""],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-3",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8","text-md","font-medium","text-secondary"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],["matSuffix","",1,"material-icons-outlined","color-icon"],[3,"diameter","mode"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight",3,"innerHTML"]],template:function(l,a){1&l&&e.YNc(0,b,6,1,"div",0)(1,K,39,17,"div",0)(2,Y,11,3,"div",0),2&l&&(e.um2(0,"ValidarCodigoToken"===a.pasosRestablecerContrasenia?0:-1),e.xp6(1),e.um2(1,"IngresoContrasenia"===a.pasosRestablecerContrasenia?1:-1),e.xp6(1),e.um2(2,"ContraseniaRestablecida"===a.pasosRestablecerContrasenia?2:-1))},dependencies:[m.rH,h.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,x.Nt,T.KE,T.hX,T.TO,T.R9,U.Ou,A.lW,A.RK,L.Hw,P.W],encapsulation:2,data:{animation:p.L}})}return t})(),data:{title:"ResetPassword"},resolve:{tokenData:()=>(0,e.f3M)(s.e).VerifyTokenRestablecerContraseniaAsync()}}]}];let G=(()=>{class t{static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(W),m.Bz]})}return t})();var H=o(1389);let j=(()=>{class t{static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[G,H.m]})}return t})()}}]);