"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[315],{308:(M,f,t)=>{t.d(f,{J:()=>h,T:()=>c});const h={Tittle:"\xa1Ups!",Transaction:"No se pudo completar la operaci\xf3n. Por favor, contacta al soporte t\xe9cnico"},c={Tittle:"\xa1Advertencia!",Transaction:"Algo sali\xf3 mal. Por favor, revisa tus datos e int\xe9ntalo de nuevo",StockInsuficiente:"Producto no cuenta con Stock. No se puede agregar m\xe1s unidades, ",StockLimite:"Lleg\xf3 al limite del Stock. No se puede agregar m\xe1s unidades, ",InvalidCorreo:"Ingrese una direcci\xf3n de Correo v\xe1lida",InvalidCelular:"Ingrese un n\xfamero de celular valido",InvalidTipoDocumento:"Seleccione un Tipo de Documento",InvalidNumeroDocumento:"Ingrese un n\xfamero de documento",InvalidId:"Ocurri\xf3 un error al validar los datos",InvalidGenero:"Seleccione un g\xe9nero v\xe1lido",InvalidMoneda:"Seleccione una moneda v\xe1lida",InvalidTerminosCondiciones:"Debe de aceptar los t\xe9rminos y condiciones",InvalidOcupacion:"Seleccione una ocupaci\xf3n v\xe1lida",InvalidMontoReal:"Ingrese un monto v\xe1lido",InvalidFechaReal:"Ingrese una fecha v\xe1lida",InvalidMarca:"Seleccione una marca v\xe1lida",InvalidVenta:"Seleccione una venta v\xe1lida",InvalidCategoria:"Seleccione una categor\xeda v\xe1lida",InvalidProducto:"Seleccione un producto v\xe1lido",InvalidMedida:"Seleccione una medida v\xe1lida",InvalidMetodoPago:"Seleccione una m\xe9todo de pago v\xe1lido",InvalidCodigo:"Ingrese un c\xf3digo v\xe1lido",InvalidNombre:"Ingrese un Nombre v\xe1lido",InvalidPrecioCompra:"Ingrese un precio de compra",InvalidPrecioVenta:"Ingrese un precio de venta",InvalidPrecioStock:"Ingrese un stock",InvalidNombres:"Ingrese nombres v\xe1lidos",InvalidApellidos:"Ingrese apellidos v\xe1lidos",InvalidRazonSocial:"Ingrese una raz\xf3n social v\xe1lida",InvalidRUC:"Ingrese RUC v\xe1lido",InvalidPermisos:"No cuenta con los permisos para realizar esta operaci\xf3n",InvalidFechaNacimiento:"Ingrese una fecha de nacimiento v\xe1lida",InvalidFechaRegistroVenta:"Ingrese una fecha de venta v\xe1lida",InvalidApellido:"Ingrese un apellido v\xe1lido",InvalidUsuarioMinLength:"El usuario debe contener un m\xednimo de 12 caracteres",InvalidUsuarioMaxLength:"El usuario debe contener un m\xe1ximo de 40 caracteres",InvalidUsuarioContraseniaMinLength:"La contrase\xf1a debe contener un m\xednimo de 12 caracteres",InvalidUsuarioContraseniaMaxLength:"La contrase\xf1a debe contener un m\xe1ximo de 80 caracteres",InvalidColor:"Debe de seleccionar un color",InvalidOrigenRegistro:"Origen del registro no v\xe1lida",InvalidCodigoOTP:"C\xf3digo OTP no v\xe1lido",InvalidToken:"Token no v\xe1lido",InvalidOrigenActualizacion:"Origen de actualizaci\xf3n no v\xe1lida",InvalidUIdUsuario:"Usuario no v\xe1lido",InvalidUIdUsuarioSelected:"Usuario seleccionado no v\xe1lido",InvalidIdCliente:"Cliente no v\xe1lido",InvalidUsuarioSalt:"usuario S. no v\xe1lido",InvalidLocalizacion:"Localizaci\xf3n no v\xe1lida",InvalidContraseniaSegura:"Requisitos de contrase\xf1a:<br />- M\xednimo 12 caracteres. <br />- Debe incluir al menos una letra may\xfascula, una min\xfascula, un n\xfamero y un s\xedmbolo especial. <br />",ContraseniaNotEquals:"Las contrase\xf1as no coinciden. Vuelve a intentarlo",InvalidContrasenia:"Ingrese una contrase\xf1a v\xe1lida",AllowMinTwelveLength:"Longitud m\xednima permitida 12",AllowMinTwoLength:"Longitud m\xednima permitida 2",AllowMaxTwoHundredFiftyLength:"Longitud m\xe1xima permitida 250",AllowMaxFiftyLength:"Longitud m\xe1xima permitida 50",ExcedeTamanioArchivos:"El tama\xf1o de la foto excede el l\xedmite permitido 250KB.",NoExisteCliente:"Cliente no existe con el n\xfamero o correo ingresado",IngreseNumDocumentoCorreo:"Ingrese el Correo o N\xfamero de Documento del Cliente",NohayClienteIngresadoOProductosSeleccionados:"No hay productos seleccionados o cliente",RequiredNombre:"Ingrese su Nombre",RequiredCorreo:"Ingrese su Correo Electr\xf3nico",NoEncontrado:"No se ha encontrado ning\xfan producto que coincida con el filtro especificado."}},5742:(M,f,t)=>{t.d(f,{o:()=>U});var h=t(4740),c=t(5037),A=t(9397),F=t(2734),n=t(9212),I=t(4928),y=t(2425),e=t(4855);let U=(()=>{class d{constructor(r,a,g){this.apiService=r,this._toastService=a,this._securityService=g,this.warningDisplayed=!1,this.sortingActivoData=(m,C)=>"activarDesactivar"===C?m.activo?h.Q6.Uno:h.Q6.Cero:m[C]}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}GetExchangeRateAsync(r){return this.apiService.post(F.UA.GetExchangeRateAsync,r).pipe((0,A.b)(a=>a))}getTimeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}getLocale(){return Intl.DateTimeFormat().resolvedOptions().locale}getDateTimeNow(){return new Date}getuserInfoLogueadoCultureInfo(){return this.obtenerInfoMoneda().cultureInfo}showWarning(r,a){this.warningDisplayed||(this.warningDisplayed=!0,this._toastService.warning(r,a,{positionClass:"toast-bottom-right"}),setTimeout(()=>{this.warningDisplayed=!1},3e3))}showError(r,a){this._toastService.error(r,"",{positionClass:"toast-bottom-right"})}showInfo(r,a){this._toastService.info(r,"",{positionClass:"toast-bottom-right"})}showSuccess(r,a){this._toastService.success(r,"",{positionClass:"toast-bottom-right"})}getNameOfMonth(r){const a=c.ou.fromJSDate(new Date(r)).setLocale(this.getuserInfoLogueadoCultureInfo()),g=a.toFormat("LLLL"),m=a.toFormat("yyyy");return`${g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()}, ${m}`}getCurrencyNumberFormat(r){const a=this.getuserInfoLogueadoCultureInfo();return new Intl.NumberFormat(a,{style:"currency",currency:r,currencyDisplay:"code",minimumFractionDigits:2,maximumFractionDigits:2})}formatoFecha(r){const a=this.getuserInfoLogueadoCultureInfo();return new Date(r).toLocaleDateString(a)}getMaxDate(){return new Date}getMinDateFIlter(){return new Date(2e3,0,1)}getMaxDateFIlter(){return new Date(2100,0,1)}getStartDateOfMonth(){const r=c.ou.now(),a=this.getuserInfoLogueadoCultureInfo();return r.setLocale(a).startOf("month").startOf("day").toJSDate()}getEndDateOfMonth(){const r=c.ou.now(),a=this.getuserInfoLogueadoCultureInfo();return r.setLocale(a).endOf("month").startOf("day").plus({days:h.Q6.Uno}).toJSDate()}isMobilSize(){return window.screen.width<1100}static#e=this.\u0275fac=function(a){return new(a||d)(n.LFG(I.s),n.LFG(y._W),n.LFG(e.I))};static#t=this.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},3315:(M,f,t)=>{t.r(f),t.d(f,{AuthSignInModule:()=>W});var h=t(1389),c=t(6223),A=t(7485);class F{}var n=t(4740),I=t(308),y=t(653),e=t(9212),U=t(5742),d=t(2787),T=t(4855),r=t(6593),a=t(6814),g=t(2032),m=t(5683),C=t(5940),L=t(2296),D=t(617),x=t(9925),O=t(5986);const E=["signInNgForm"];function N(o,p){if(1&o&&(e.TgZ(0,"fuse-alert",20),e._uU(1),e.qZA()),2&o){const i=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",i.alert.type)("@shake","error"===i.alert.type),e.xp6(1),e.hij(" ",i.alert.message," ")}}function b(o,p){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Correo electr\xf3nico es requerido "),e.qZA())}function _(o,p){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Ingrese un correo v\xe1lido. "),e.qZA())}function Z(o,p){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","heroicons_solid:eye")}function P(o,p){1&o&&e._UZ(0,"mat-icon",21),2&o&&e.Q6J("svgIcon","heroicons_solid:eye-slash")}function J(o,p){1&o&&(e.TgZ(0,"span"),e._uU(1," Iniciar sesi\xf3n "),e.qZA())}function R(o,p){1&o&&e._UZ(0,"mat-progress-spinner",22),2&o&&e.Q6J("diameter",24)("mode","indeterminate")}const Q=()=>["/forgot-password"];const z=[{path:"",children:[{path:"",component:(()=>{class o{constructor(i,s,l,u,v,S){this._toolService=i,this._activatedRoute=s,this._securityService=l,this._formBuilder=u,this._router=v,this.metaService=S,this.alert={type:"success",message:""},this.showAlert=n.vU.HideFuseAlert,this.initCorreo="",this.initClave="",this.initCheck=n.vU.False,this.isCallingService=n.vU.False}ngOnInit(){this.metaService.updateTag({name:"robots",content:"noindex, nofollow"});const i=localStorage.getItem("rememberuserInfoLogueado"),s=JSON.parse(i);i&&(this.initCheck=!0,this.initCorreo=s.correo,this.initClave=s.clave),this.signInForm=this._formBuilder.group({correo:["",[c.kI.required,y.j.invalidEmail()]],password:["",[c.kI.required,c.kI.minLength(n.Q6.Doce),c.kI.maxLength(n.Q6.Ochenta)]],rememberMe:[this.initCheck]})}signIn(){if(this.signInForm.invalid)return;this.showAlert=n.vU.HideFuseAlert;const i=new F,s=this.signInForm.value.correo;if(!this.validarUsuario(s))return this.alert={type:"warning",message:I.T.InvalidCorreo},void(this.showAlert=n.vU.ShowFuseAlert);const l=this.signInForm.value.password;if(!y.$.isValidContrasenia(l))return this.alert={type:"warning",message:I.T.InvalidContrasenia},void(this.showAlert=n.vU.ShowFuseAlert);i.correo=s,i.clave=l,this.signInForm.disable(),this.isCallingService=n.vU.True,this._securityService.IniciaSesionAsync(i).subscribe(u=>{if(u.response.success){this.setRememberMe(this.signInForm.value.rememberMe,i.correo,i.clave);const v=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(v)}else this.signInForm.enable(),this.signInNgForm.resetForm(),u.response.code==n.Pc.Advertencia&&(this.alert={type:"warning",message:u.response.message}),u.response.code==n.Pc.Error&&(this.alert={type:"error",message:u.response.message}),this.showAlert=n.vU.ShowFuseAlert,this.isCallingService=n.vU.False},u=>{this.alert={type:"error",message:I.J.Transaction},this.showAlert=n.vU.ShowFuseAlert,this.signInForm.enable(),this.isCallingService=n.vU.False,console.log(u)})}validarUsuario(i){return i.length<n.Q6.Doce?(this.alert={type:"warning",message:I.T.InvalidUsuarioMinLength},this.showAlert=n.vU.ShowFuseAlert,n.vU.False):i.length>n.Q6.Cuarenta?(this.alert={type:"warning",message:I.T.InvalidUsuarioMaxLength},this.showAlert=n.vU.ShowFuseAlert,n.vU.False):(this.showAlert=n.vU.HideFuseAlert,n.vU.True)}setRememberMe(i,s,l){i?localStorage.setItem("rememberuserInfoLogueado",JSON.stringify({correo:s,clave:l})):localStorage.removeItem("rememberuserInfoLogueado")}isMobilSize(){return this._toolService.isMobilSize()}static#e=this.\u0275fac=function(s){return new(s||o)(e.Y36(U.o),e.Y36(d.gz),e.Y36(T.I),e.Y36(c.QS),e.Y36(d.F0),e.Y36(r.h_))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["auth-sign-in"]],viewQuery:function(s,l){if(1&s&&e.Gf(E,5),2&s){let u;e.iGM(u=e.CRH())&&(l.signInNgForm=u.first)}},decls:33,vars:16,consts:[[1,"flex","flex-col","flex-auto","items-center","sm:justify-center","min-w-0","bg-card","sm:bg-transparent"],[1,"w-full","sm:w-auto","py-8","px-4","sm:p-12","sm:rounded-2xl","sm:shadow","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-20"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],["appearance","outline",1,"w-full","mb-2"],["autocomplete","off","id","correo","matInput","",3,"formControlName"],[4,"ngIf"],["autocomplete","off","id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"inline-flex","items-center","justify-between","w-full","mt-1.5"],[1,"-ml-2",3,"color","formControlName"],[1,"text-md","font-medium","text-primary-500","hover:underline",3,"routerLink"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(s,l){if(1&s){const u=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._uU(5,"Iniciar sesi\xf3n"),e.qZA(),e.YNc(6,N,2,5,"fuse-alert",5),e.TgZ(7,"form",6,7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Correo electr\xf3nico"),e.qZA(),e._UZ(12,"input",9),e.YNc(13,b,2,0,"mat-error",10)(14,_,2,0,"mat-error",10),e.qZA(),e.TgZ(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"Contrase\xf1a"),e.qZA(),e._UZ(18,"input",11,12),e.TgZ(20,"button",13),e.NdJ("click",function(){e.CHM(u);const S=e.MAs(19);return e.KtG(S.type="password"===S.type?"text":"password")}),e.YNc(21,Z,1,1,"mat-icon",14)(22,P,1,1,"mat-icon",14),e.qZA(),e.TgZ(23,"mat-error"),e._uU(24," Contrase\xf1a es requerido "),e.qZA()(),e.TgZ(25,"div",15)(26,"mat-checkbox",16),e._uU(27," Recu\xe9rdame "),e.qZA(),e.TgZ(28,"a",17),e._uU(29,"\xbfOlvidaste tu contrase\xf1a? "),e.qZA()(),e.TgZ(30,"button",18),e.NdJ("click",function(){return l.signIn()}),e.YNc(31,J,2,0,"span",10)(32,R,1,2,"mat-progress-spinner",19),e.qZA()()()()()}if(2&s){const u=e.MAs(19);let v;e.xp6(6),e.Q6J("ngIf",l.showAlert),e.xp6(1),e.Q6J("formGroup",l.signInForm),e.xp6(5),e.Q6J("formControlName","correo"),e.xp6(1),e.Q6J("ngIf",l.signInForm.get("correo").hasError("required")&&l.signInForm.get("correo").touched),e.xp6(1),e.Q6J("ngIf",null==(v=l.signInForm.get("correo"))?null:v.hasError("invalidEmail")),e.xp6(4),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===u.type),e.xp6(1),e.Q6J("ngIf","text"===u.type),e.xp6(4),e.Q6J("color","primary")("formControlName","rememberMe"),e.xp6(2),e.Q6J("routerLink",e.DdM(15,Q)),e.xp6(2),e.Q6J("color","primary")("disabled",l.signInForm.invalid||l.isCallingService),e.xp6(1),e.Q6J("ngIf",!l.signInForm.disabled),e.xp6(1),e.Q6J("ngIf",l.signInForm.disabled)}},dependencies:[d.rH,a.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,g.Nt,m.KE,m.hX,m.TO,m.R9,C.Ou,L.lW,L.RK,D.Hw,x.W,O.oG],encapsulation:2,data:{animation:A.L}})}return o})()}]}];let B=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(z),d.Bz]})}return o})(),W=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[B,h.m]})}return o})()}}]);