"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[703],{4690:(J,S,a)=>{a.d(S,{a:()=>y});var f=a(4740);class y{static isEmptyInputValue(_){return null==_||_.length===f.Q6.Cero||""==_}static mustMatch(_,C){return b=>{const U=b.get(_),h=b.get(C);if(!U||!h||(h.hasError("mustMatch")&&(delete h.errors.mustMatch,h.updateValueAndValidity()),this.isEmptyInputValue(h.value)||U.value===h.value))return null;const Z={mustMatch:!0};return h.setErrors(Z),Z}}}},308:(J,S,a)=>{a.d(S,{J:()=>f,T:()=>y});const f={Tittle:"\xa1Ups!",Transaction:"No se pudo completar la operaci\xf3n. Por favor, contacta al soporte t\xe9cnico"},y={Tittle:"\xa1Advertencia!",Transaction:"Algo sali\xf3 mal. Por favor, revisa tus datos e int\xe9ntalo de nuevo",StockInsuficiente:"Producto no cuenta con Stock. No se puede agregar m\xe1s unidades, ",StockLimite:"Lleg\xf3 al limite del Stock. No se puede agregar m\xe1s unidades, ",InvalidCorreo:"Ingrese una direcci\xf3n de Correo v\xe1lida",InvalidCelular:"Ingrese un n\xfamero de celular valido",InvalidTipoDocumento:"Seleccione un Tipo de Documento",InvalidNumeroDocumento:"Ingrese un n\xfamero de documento",InvalidId:"Ocurri\xf3 un error al validar los datos",InvalidGenero:"Seleccione un g\xe9nero v\xe1lido",InvalidMoneda:"Seleccione una moneda v\xe1lida",InvalidTerminosCondiciones:"Debe de aceptar los t\xe9rminos y condiciones",InvalidOcupacion:"Seleccione una ocupaci\xf3n v\xe1lida",InvalidMontoReal:"Ingrese un monto v\xe1lido",InvalidFechaReal:"Ingrese una fecha v\xe1lida",InvalidMarca:"Seleccione una marca v\xe1lida",InvalidVenta:"Seleccione una venta v\xe1lida",InvalidCategoria:"Seleccione una categor\xeda v\xe1lida",InvalidProducto:"Seleccione un producto v\xe1lido",InvalidMedida:"Seleccione una medida v\xe1lida",InvalidMetodoPago:"Seleccione una m\xe9todo de pago v\xe1lido",InvalidCodigo:"Ingrese un c\xf3digo v\xe1lido",InvalidNombre:"Ingrese un Nombre v\xe1lido",InvalidPrecioCompra:"Ingrese un precio de compra",InvalidPrecioVenta:"Ingrese un precio de venta",InvalidPrecioStock:"Ingrese un stock",InvalidNombres:"Ingrese nombres v\xe1lidos",InvalidApellidos:"Ingrese apellidos v\xe1lidos",InvalidRazonSocial:"Ingrese una raz\xf3n social v\xe1lida",InvalidRUC:"Ingrese RUC v\xe1lido",InvalidPermisos:"No cuenta con los permisos para realizar esta operaci\xf3n",InvalidFechaNacimiento:"Ingrese una fecha de nacimiento v\xe1lida",InvalidFechaRegistroVenta:"Ingrese una fecha de venta v\xe1lida",InvalidApellido:"Ingrese un apellido v\xe1lido",InvalidUsuarioMinLength:"El usuario debe contener un m\xednimo de 12 caracteres",InvalidUsuarioMaxLength:"El usuario debe contener un m\xe1ximo de 40 caracteres",InvalidUsuarioContraseniaMinLength:"La contrase\xf1a debe contener un m\xednimo de 12 caracteres",InvalidUsuarioContraseniaMaxLength:"La contrase\xf1a debe contener un m\xe1ximo de 80 caracteres",InvalidColor:"Debe de seleccionar un color",InvalidOrigenRegistro:"Origen del registro no v\xe1lida",InvalidCodigoOTP:"C\xf3digo OTP no v\xe1lido",InvalidToken:"Token no v\xe1lido",InvalidOrigenActualizacion:"Origen de actualizaci\xf3n no v\xe1lida",InvalidUIdUsuario:"Usuario no v\xe1lido",InvalidUIdUsuarioSelected:"Usuario seleccionado no v\xe1lido",InvalidIdCliente:"Cliente no v\xe1lido",InvalidUsuarioSalt:"usuario S. no v\xe1lido",InvalidLocalizacion:"Localizaci\xf3n no v\xe1lida",InvalidContraseniaSegura:"Requisitos de contrase\xf1a:<br />- M\xednimo 12 caracteres. <br />- Debe incluir al menos una letra may\xfascula, una min\xfascula, un n\xfamero y un s\xedmbolo especial. <br />",ContraseniaNotEquals:"Las contrase\xf1as no coinciden. Vuelve a intentarlo",InvalidContrasenia:"Ingrese una contrase\xf1a v\xe1lida",AllowMinTwelveLength:"Longitud m\xednima permitida 12",AllowMinTwoLength:"Longitud m\xednima permitida 2",AllowMaxTwoHundredFiftyLength:"Longitud m\xe1xima permitida 250",AllowMaxFiftyLength:"Longitud m\xe1xima permitida 50",ExcedeTamanioArchivos:"El tama\xf1o de la foto excede el l\xedmite permitido 250KB.",NoExisteCliente:"Cliente no existe con el n\xfamero o correo ingresado",IngreseNumDocumentoCorreo:"Ingrese el Correo o N\xfamero de Documento del Cliente",NohayClienteIngresadoOProductosSeleccionados:"No hay productos seleccionados o cliente",RequiredNombre:"Ingrese su Nombre",RequiredCorreo:"Ingrese su Correo Electr\xf3nico",NoEncontrado:"No se ha encontrado ning\xfan producto que coincida con el filtro especificado."}},5742:(J,S,a)=>{a.d(S,{o:()=>Z});var f=a(4740),y=a(5037),e=a(9397),_=a(2734),C=a(9212),b=a(4928),U=a(2425),h=a(4855);let Z=(()=>{class x{constructor(m,g,I){this.apiService=m,this._toastService=g,this._securityService=I,this.warningDisplayed=!1,this.sortingActivoData=(c,T)=>"activarDesactivar"===T?c.activo?f.Q6.Uno:f.Q6.Cero:c[T]}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}GetExchangeRateAsync(m){return this.apiService.post(_.UA.GetExchangeRateAsync,m).pipe((0,e.b)(g=>g))}getTimeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}getLocale(){return Intl.DateTimeFormat().resolvedOptions().locale}getDateTimeNow(){return new Date}getuserInfoLogueadoCultureInfo(){return this.obtenerInfoMoneda().cultureInfo}showWarning(m,g){this.warningDisplayed||(this.warningDisplayed=!0,this._toastService.warning(m,g,{positionClass:"toast-bottom-right"}),setTimeout(()=>{this.warningDisplayed=!1},3e3))}showError(m,g){this._toastService.error(m,"",{positionClass:"toast-bottom-right"})}showInfo(m,g){this._toastService.info(m,"",{positionClass:"toast-bottom-right"})}showSuccess(m,g){this._toastService.success(m,"",{positionClass:"toast-bottom-right"})}getNameOfMonth(m){const g=y.ou.fromJSDate(new Date(m)).setLocale(this.getuserInfoLogueadoCultureInfo()),I=g.toFormat("LLLL"),c=g.toFormat("yyyy");return`${I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()}, ${c}`}getCurrencyNumberFormat(m){const g=this.getuserInfoLogueadoCultureInfo();return new Intl.NumberFormat(g,{style:"currency",currency:m,currencyDisplay:"code",minimumFractionDigits:2,maximumFractionDigits:2})}formatoFecha(m){const g=this.getuserInfoLogueadoCultureInfo();return new Date(m).toLocaleDateString(g)}getMaxDate(){return new Date}getMinDateFIlter(){return new Date(2e3,0,1)}getMaxDateFIlter(){return new Date(2100,0,1)}getStartDateOfMonth(){const m=y.ou.now(),g=this.getuserInfoLogueadoCultureInfo();return m.setLocale(g).startOf("month").startOf("day").toJSDate()}getEndDateOfMonth(){const m=y.ou.now(),g=this.getuserInfoLogueadoCultureInfo();return m.setLocale(g).endOf("month").startOf("day").plus({days:f.Q6.Uno}).toJSDate()}isMobilSize(){return window.screen.width<1100}static#e=this.\u0275fac=function(g){return new(g||x)(C.LFG(b.s),C.LFG(U._W),C.LFG(h.I))};static#t=this.\u0275prov=C.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},6703:(J,S,a)=>{a.r(S),a.d(S,{ConfiguracionModule:()=>Ue});var f=a(6814),y=a(1389),e=a(9212),_=a(2787),C=a(8645),b=a(9773),U=a(9236),h=a(1527),Z=a(6063),x=a(4855),w=a(5742),m=a(2651),g=a(2296),I=a(617),c=a(6223),T=a(4690),q=a(1327),r=a(4740),v=a(308),F=a(653),R=a(2964),Q=a(3680),M=a(2032),A=a(5683),B=a(8525),E=a(5940),N=a(8034),L=a(9925);function Y(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"img",38),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("src",(null==n.selectedFiles?null:n.selectedFiles.length)>0?n.selectedFiles:n.foto,e.LSH)}}function G(t,u){if(1&t&&(e.TgZ(0,"span",42),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Oqu(n.iniciales)}}function j(t,u){if(1&t&&(e.TgZ(0,"div",39)(1,"span",40),e._uU(2,"SIN IMAGEN"),e.qZA(),e.YNc(3,G,2,1,"span",41),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.iniciales)}}function K(t,u){if(1&t){const n=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.eliminarFoto())}),e._UZ(1,"mat-icon",44),e.qZA()}2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"))}function W(t,u){if(1&t&&(e.TgZ(0,"fuse-alert",45),e._UZ(1,"div",46),e.qZA()),2&t){const n=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("type",n.alert.type)("@shake","error"===n.alert.type),e.xp6(1),e.Q6J("innerHTML",n.alert.message,e.oJD)}}function H(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombres son requeridos "),e.qZA())}function V(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Ingrese nombres v\xe1lidos, sin caracteres especiales o n\xfameros "),e.qZA())}function $(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Apellidos son requeridos "),e.qZA())}function X(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Ingrese apellidos v\xe1lidos, sin caracteres especiales o n\xfameros "),e.qZA())}function ee(t,u){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function te(t,u){1&t&&e._UZ(0,"mat-progress-spinner",47),2&t&&e.Q6J("diameter",24)}function ie(t,u){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function ne(t,u){1&t&&e._UZ(0,"mat-progress-spinner",48),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}let z=(()=>{class t{constructor(n,o,i,s,d,l){this._formBuilder=n,this._authService=o,this._usuarioService=i,this.cdr=s,this._securityService=d,this._toolService=l,this._unsubscribeAll=new C.x,this.isCallingService=r.vU.False,this.showAlert=r.vU.HideFuseAlert}ngOnInit(){this.foto=this.usuarioDetalleInput.urlFoto,this._authService.countries$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(n=>{this.countries=n,this.cdr.markForCheck()}),this.actualizaUsuarioForm=this._formBuilder.group({nombres:[{value:this.usuarioDetalleInput.nombres,disabled:r.vU.Deshabilitado}],apellidos:[{value:this.usuarioDetalleInput.apellidos,disabled:r.vU.Deshabilitado}],genero:[{value:this.usuarioDetalleInput.genero.id,disabled:r.vU.Deshabilitado}],correoElectronico:[{value:this.usuarioDetalleInput.correoElectronico,disabled:r.vU.Deshabilitado}],tipoDocumento:[{value:this.usuarioDetalleInput.tipoDocumento.id,disabled:r.vU.Deshabilitado}],rol:[{value:this.usuarioDetalleInput.rol.id,disabled:r.vU.Deshabilitado}],numeroDocumento:[{value:this.usuarioDetalleInput.numeroDocumento,disabled:r.vU.Deshabilitado}],direccion:[this.usuarioDetalleInput.direccion,[c.kI.minLength(r.Q6.Dos),c.kI.maxLength(r.Q6.Cien)]],celular:[this.usuarioDetalleInput.celular,[c.kI.minLength(r.Q6.Dos),c.kI.maxLength(r.Q6.Cincuenta),F.j.onlyPhoneNumbersForm()]],fechaNacimiento:[{value:this.usuarioDetalleInput.fechaNacimiento,disabled:r.vU.Deshabilitado}],fechaRegistro:[{value:this.usuarioDetalleInput.fechaRegistro,disabled:r.vU.Deshabilitado}]})}UpdateUsuarioDetalleAsync(){if(this.actualizaUsuarioForm.invalid)return;const n=this._toolService.getTimeZone(),o=this.usuarioDetalleInput.usuarioID.idUsuarioGuid,i=this.actualizaUsuarioForm.get("rol").value,s=this.actualizaUsuarioForm.get("celular").value,d=this.actualizaUsuarioForm.get("direccion").value;if(T.a.isEmptyInputValue(n))return void this._toolService.showWarning(v.T.InvalidLocalizacion,v.T.Tittle);if(T.a.isEmptyInputValue(o))return void this._toolService.showWarning(v.T.InvalidUIdUsuario,v.T.Tittle);const l=new q.i;l.destinationTimeZoneIdActualizacion=n,l.idUsuario=o,l.idUsuarioSeleccionado=o,l.idRol=i,l.celular=s,l.direccion=d,l.nombreArchivo=this.nombreArchivo,l.foto=this.foto,this.actualizaUsuarioForm.disable(),this.isCallingService=r.vU.True,this._usuarioService.UpdateAsync(l).subscribe(p=>{if(p.success==r.vU.SuccessTransaction){this._toolService.showSuccess(p.message,p.titleMessage),this.actualizaUsuarioForm.enable(),this.isCallingService=r.vU.False;const D=this._securityService.getDecodetoken();return D.urlfoto=p.value,void this._securityService.setDecodeTokenStorage(D)}if(p.code==r.Pc.Advertencia)return this._toolService.showWarning(p.message,p.titleMessage),this.actualizaUsuarioForm.enable(),void(this.isCallingService=r.vU.False)},p=>{this._toolService.showError(v.J.Transaction,v.J.Tittle),this.actualizaUsuarioForm.enable(),this.isCallingService=r.vU.False,console.log(p)})}isMobilSize(){return this._toolService.isMobilSize()}onFileSelected(n){if(this.excedeTamanioFiles(n.target.files))return n.target.value="",this.selectedFiles=null,void this._toolService.showWarning(v.T.ExcedeTamanioArchivos,v.T.Tittle);const o=n.target.files;if(o.length>r.Q6.Cero){const i=o[0],s=new FileReader;s.onload=d=>{this.selectedFiles=d.target.result,this.foto=d.target.result.split(",")[1],this.nombreArchivo=i.name,this.cdr.detectChanges()},s.readAsDataURL(i)}}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}excedeTamanioFiles(n){let o=r.Q6.Cero;for(let d=r.Q6.Cero;d<n.length;d++)o+=n[d].size;return o/1024>250?r.vU.True:r.vU.False}eliminarFoto(){this.selectedFiles=null,this.nombreArchivo=null,this.foto=null}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(c.QS),e.Y36(R.e),e.Y36(h.i),e.Y36(e.sBO),e.Y36(x.I),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["settings-account"]],inputs:{usuarioDetalleInput:"usuarioDetalleInput",parametrosGeneralesInput:"parametrosGeneralesInput"},decls:103,vars:47,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card","bg-gray-100","group"],[4,"ngIf","ngIfElse"],["noImage",""],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-10","opacity-0","group-hover:opacity-100","transition-opacity"],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["id","avatar-file-input","type","file",1,"hidden",3,"accept","change"],["mat-icon-button","","class","ml-2 text-white hover:text-red-500","aria-label","Eliminar avatar",3,"click",4,"ngIf"],[1,"text-center","mt-2","text-sm","text-gray-500"],[1,"w-full","mt-6"],[1,"text-xl"],[1,"text-secondary"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"sm:col-span-2"],["appearance","outline",1,"w-full",3,"subscriptSizing"],["formControlName","tipoDocumento"],[3,"value"],["autocomplete","off","matInput","",3,"formControlName"],["formControlName","rol","required",""],["formControlName","genero","required",""],["matInput","",3,"formControlName"],[4,"ngIf"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],["fechaRegistroPicker",""],[1,"sm:col-span-4"],[1,"mt-10","mb-5"],[1,"w-full","flex","justify-between","lg:hidden"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn","w-40","flex","justify-center","items-center",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[1,"hidden","lg:flex","justify-end","mt-2"],["mat-flat-button","","type","button",1,"ml-3","w-40","h-10","flex","items-center","justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"flex","flex-col","items-center","justify-center","w-full","h-full","bg-gray-200","text-gray-600"],[1,"text-lg","font-semibold"],["class","text-4xl font-bold uppercase",4,"ngIf"],[1,"text-4xl","font-bold","uppercase"],["mat-icon-button","","aria-label","Eliminar avatar",1,"ml-2","text-white","hover:text-red-500",3,"click"],["aria-hidden","true",1,"text-white",3,"svgIcon"],[1,"mt-8",3,"appearance","showIcon","type"],[3,"innerHTML"],["mode","indeterminate",3,"diameter"],[3,"diameter","mode"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e.YNc(4,Y,2,1,"ng-container",4)(5,j,4,1,"ng-template",null,5,e.W1O),e.TgZ(7,"div",6)(8,"label",7),e._UZ(9,"mat-icon",8),e.qZA(),e.TgZ(10,"input",9),e.NdJ("change",function(d){return i.onFileSelected(d)}),e.qZA(),e.YNc(11,K,2,1,"button",10),e.qZA()(),e.TgZ(12,"div",11)(13,"p"),e._uU(14,"Te recomendamos que uses una foto de 98 \xd7 98 p\xedxeles como m\xednimo y 250KB como m\xe1ximo. Usa un archivo PNG o GIF (sin animaciones)."),e.qZA()()(),e.TgZ(15,"div",12)(16,"div",13),e._uU(17,"Informaci\xf3n Personal"),e.qZA(),e.TgZ(18,"div",14),e._uU(19,"Despu\xe9s de cambiar su informaci\xf3n, necesitar\xe1s iniciar sesi\xf3n nuevamente"),e.qZA()(),e.YNc(20,W,2,6,"fuse-alert",15),e.TgZ(21,"div",2)(22,"div",16)(23,"mat-form-field",17)(24,"mat-label"),e._uU(25,"Tipo de Documento"),e.qZA(),e.TgZ(26,"mat-select",18)(27,"mat-option",19),e._uU(28),e.qZA()()()(),e.TgZ(29,"div",16)(30,"mat-form-field",17)(31,"mat-label"),e._uU(32,"N\xfamero de Documento"),e.qZA(),e._UZ(33,"input",20),e.qZA()(),e.TgZ(34,"div",16)(35,"mat-form-field",17)(36,"mat-label"),e._uU(37,"Rol"),e.qZA(),e.TgZ(38,"mat-select",21)(39,"mat-option",19),e._uU(40),e.qZA()()()(),e.TgZ(41,"div",16)(42,"mat-form-field",17)(43,"mat-label"),e._uU(44,"G\xe9nero"),e.qZA(),e.TgZ(45,"mat-select",22)(46,"mat-option",19),e._uU(47),e.qZA()()()(),e.TgZ(48,"div",16)(49,"mat-form-field",17)(50,"mat-label"),e._uU(51,"Nombres"),e.qZA(),e._UZ(52,"input",23),e.YNc(53,H,2,0,"mat-error",24)(54,V,2,0,"mat-error",24),e.qZA()(),e.TgZ(55,"div",16)(56,"mat-form-field",17)(57,"mat-label"),e._uU(58,"Apellidos"),e.qZA(),e._UZ(59,"input",23),e.YNc(60,$,2,0,"mat-error",24)(61,X,2,0,"mat-error",24),e.qZA()(),e.TgZ(62,"div",16)(63,"mat-form-field",17)(64,"mat-label"),e._uU(65,"Fecha de Nacimiento"),e.qZA(),e._UZ(66,"input",25)(67,"mat-datepicker-toggle",26)(68,"mat-datepicker",null,27),e.qZA()(),e.TgZ(70,"div",16)(71,"mat-form-field",17)(72,"mat-label"),e._uU(73,"Celular"),e.qZA(),e._UZ(74,"input",23),e.qZA()(),e.TgZ(75,"div",16)(76,"mat-form-field",17)(77,"mat-label"),e._uU(78,"Correo electr\xf3nico"),e.qZA(),e._UZ(79,"input",23),e.qZA()(),e.TgZ(80,"div",16)(81,"mat-form-field",17)(82,"mat-label"),e._uU(83,"Fecha de Registro "),e.qZA(),e._UZ(84,"input",25)(85,"mat-datepicker-toggle",26)(86,"mat-datepicker",null,28),e.qZA()(),e.TgZ(88,"div",29)(89,"mat-form-field",17)(90,"mat-label"),e._uU(91,"Direcci\xf3n"),e.qZA(),e._UZ(92,"textarea",23),e.qZA()()(),e._UZ(93,"div",30),e.TgZ(94,"div",31),e._UZ(95,"span",32),e.TgZ(96,"button",33),e.NdJ("click",function(){return i.UpdateUsuarioDetalleAsync()}),e.YNc(97,ee,2,0,"span",24)(98,te,1,1,"mat-progress-spinner",34),e.qZA()(),e.TgZ(99,"div",35)(100,"button",36),e.NdJ("click",function(){return i.UpdateUsuarioDetalleAsync()}),e.YNc(101,ie,2,0,"span",24)(102,ne,1,2,"mat-progress-spinner",37),e.qZA()()()()),2&o){const s=e.MAs(6),d=e.MAs(69),l=e.MAs(87);let p,D;e.xp6(1),e.Q6J("formGroup",i.actualizaUsuarioForm),e.xp6(3),e.Q6J("ngIf",(null==i.selectedFiles?null:i.selectedFiles.length)>0||i.foto)("ngIfElse",s),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("accept","image/jpeg, image/png"),e.xp6(1),e.Q6J("ngIf",(null==i.selectedFiles?null:i.selectedFiles.length)>0||i.foto),e.xp6(9),e.Q6J("ngIf",i.showAlert),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(4),e.Q6J("value",i.usuarioDetalleInput.tipoDocumento.id),e.xp6(1),e.hij(" ",i.usuarioDetalleInput.tipoDocumento.descripcion," "),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","numeroDocumento"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(4),e.Q6J("value",i.usuarioDetalleInput.rol.id),e.xp6(1),e.hij(" ",i.usuarioDetalleInput.rol.nombre," "),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(4),e.Q6J("value",i.usuarioDetalleInput.genero.id),e.xp6(1),e.hij(" ",i.usuarioDetalleInput.genero.descripcion," "),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","nombres"),e.xp6(1),e.Q6J("ngIf",i.actualizaUsuarioForm.get("nombres").hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(p=i.actualizaUsuarioForm.get("nombres"))?null:p.hasError("onlyLettersForm")),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","apellidos"),e.xp6(1),e.Q6J("ngIf",i.actualizaUsuarioForm.get("apellidos").hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(D=i.actualizaUsuarioForm.get("apellidos"))?null:D.hasError("onlyLettersForm")),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("matDatepicker",d)("formControlName","fechaNacimiento"),e.xp6(1),e.Q6J("for",d),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","celular"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","correoElectronico"),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("matDatepicker",l)("formControlName","fechaRegistro"),e.xp6(1),e.Q6J("for",l),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","direccion"),e.xp6(4),e.Q6J("disabled",i.actualizaUsuarioForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.actualizaUsuarioForm.disabled),e.xp6(1),e.Q6J("ngIf",i.actualizaUsuarioForm.disabled),e.xp6(2),e.Q6J("color","primary")("disabled",i.actualizaUsuarioForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.actualizaUsuarioForm.disabled),e.xp6(1),e.Q6J("ngIf",i.actualizaUsuarioForm.disabled)}},dependencies:[f.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,Q.wG,M.Nt,A.KE,A.hX,A.TO,A.R9,B.gD,Q.ey,E.Ou,g.lW,g.RK,I.Hw,N.Mq,N.hl,N.nW,L.W],encapsulation:2,changeDetection:0})}return t})();class oe{}function ae(t,u){if(1&t&&(e.TgZ(0,"fuse-alert",24),e._UZ(1,"div",25),e.qZA()),2&t){const n=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("type",n.alert.type)("@shake","error"===n.alert.type),e.xp6(1),e.Q6J("innerHTML",n.alert.message,e.oJD)}}function re(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Contrase\xf1a actual requerido "),e.qZA())}function se(t,u){1&t&&(e.TgZ(0,"mat-icon",26),e._uU(1,"visibility_off"),e.qZA())}function le(t,u){1&t&&(e.TgZ(0,"mat-icon",26),e._uU(1,"visibility"),e.qZA())}function ce(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Contrase\xf1a es requerido "),e.qZA())}function ue(t,u){1&t&&(e.TgZ(0,"mat-icon",26),e._uU(1,"visibility_off"),e.qZA())}function de(t,u){1&t&&(e.TgZ(0,"mat-icon",26),e._uU(1,"visibility"),e.qZA())}function me(t,u){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Las contrase\xf1as no coinciden "),e.qZA())}function ge(t,u){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function pe(t,u){1&t&&e._UZ(0,"mat-progress-spinner",27),2&t&&e.Q6J("diameter",24)}function fe(t,u){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function he(t,u){1&t&&e._UZ(0,"mat-progress-spinner",28),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}let O=(()=>{class t{constructor(n,o,i,s,d){this._formBuilder=n,this._securityService=o,this._toolService=i,this._usuarioService=s,this._router=d,this.isCallingService=r.vU.False,this.showAlert=r.vU.HideFuseAlert,this.alert={type:"success",message:""}}ngOnInit(){this.userlogin=this.obtenerInfouserInfoLogueado(),this.securityForm=this._formBuilder.group({txtContraseniaActual:["",[c.kI.required,c.kI.maxLength(r.Q6.Ochenta)]],txtContraseniaNueva:["",[c.kI.required,c.kI.maxLength(r.Q6.Ochenta)]],txtConfirmarContraseniaNueva:["",[c.kI.required,c.kI.maxLength(r.Q6.Ochenta)]]},{validators:T.a.mustMatch("txtContraseniaNueva","txtConfirmarContraseniaNueva")})}UpdateUsuarioContraseniaByIdAsync(){if(this.showAlert=r.vU.HideFuseAlert,this.securityForm.invalid)return;const n=this.securityForm.get("txtContraseniaActual").value;if(!F.$.isValidContrasenia(n))return this.alert={type:"warning",message:v.T.InvalidContraseniaSegura},void(this.showAlert=r.vU.ShowFuseAlert);const o=this.securityForm.get("txtContraseniaNueva").value;if(!F.$.isValidContrasenia(o))return this.alert={type:"warning",message:v.T.InvalidContraseniaSegura},void(this.showAlert=r.vU.ShowFuseAlert);const i=this.securityForm.get("txtConfirmarContraseniaNueva").value;if(!F.$.isValidContrasenia(i))return this.alert={type:"warning",message:v.T.InvalidContraseniaSegura},void(this.showAlert=r.vU.ShowFuseAlert);if(!F.$.isEqualString(o.value,i.value))return this.alert={type:"warning",message:v.T.ContraseniaNotEquals},void(this.showAlert=r.vU.ShowFuseAlert);const s=new oe,d=this.userlogin.idUsuario,l=this._toolService.getTimeZone();s.destinationTimeZoneIdActualizacion=l,s.idUsuario=d,s.contraseniaActual=n,s.contraseniaNueva=i,this.isCallingService=r.vU.True,this.securityForm.disable(),this._usuarioService.UpdateUsuarioContraseniaByIdAsync(s).subscribe(p=>p.success?(this._toolService.showSuccess(p.message,p.titleMessage),this._securityService.signOut(),void this._router.navigate(["sign-in"])):p.code==r.Pc.Advertencia?(this.alert={type:"warning",message:p.message},this.showAlert=r.vU.ShowFuseAlert,this.isCallingService=r.vU.False,void this.securityForm.enable()):void 0,p=>{this._toolService.showError(v.J.Transaction,v.J.Tittle),this.securityForm.enable(),this.isCallingService=r.vU.False,console.log(p)})}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(c.QS),e.Y36(x.I),e.Y36(w.o),e.Y36(h.i),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["settings-security"]],decls:45,vars:22,consts:[[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"text-secondary"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],["appearance","outline",1,"w-full",3,"subscriptSizing"],["type","password","matInput","",3,"formControlName"],[4,"ngIf"],["matInput","","required","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","material-icons-outlined color-icon","matSuffix","",4,"ngIf"],["repetirPasswordField",""],[1,"mt-10","mb-5"],[1,"w-full","flex","justify-between","lg:hidden"],[1,"w-4"],["disabled","true","mat-flat-button","","color","primary","type","button",1,"mobil-btn","w-40","flex","justify-center","items-center",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[1,"hidden","lg:flex","justify-end","mt-2"],["disabled","true","mat-flat-button","","type","button",1,"ml-3","w-40","h-10","flex","items-center","justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8",3,"appearance","showIcon","type"],[3,"innerHTML"],["matSuffix","",1,"material-icons-outlined","color-icon"],["mode","indeterminate",3,"diameter"],[3,"diameter","mode"]],template:function(o,i){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._uU(4,"Cambio de contrase\xf1a"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Despu\xe9s de cambiar su contrase\xf1a, necesitar\xe1s iniciar sesi\xf3n nuevamente"),e.qZA()(),e.YNc(7,ae,2,6,"fuse-alert",5),e.TgZ(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),e._uU(12,"Contrase\xf1a actual"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,re,2,0,"mat-error",10),e.qZA()(),e.TgZ(15,"div",7)(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Contrase\xf1a nueva"),e.qZA(),e._UZ(19,"input",11,12),e.TgZ(21,"button",13),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(20);return e.KtG(l.type="password"===l.type?"text":"password")}),e.YNc(22,se,2,0,"mat-icon",14)(23,le,2,0,"mat-icon",14),e.qZA(),e.YNc(24,ce,2,0,"mat-error",10),e.qZA()(),e.TgZ(25,"div",7)(26,"mat-form-field",8)(27,"mat-label"),e._uU(28,"Confirmar contrase\xf1a nueva"),e.qZA(),e._UZ(29,"input",11,15),e.TgZ(31,"button",13),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(30);return e.KtG(l.type="password"===l.type?"text":"password")}),e.YNc(32,ue,2,0,"mat-icon",14)(33,de,2,0,"mat-icon",14),e.qZA(),e.YNc(34,me,2,0,"mat-error",10),e.qZA()()(),e._UZ(35,"div",16),e.TgZ(36,"div",17),e._UZ(37,"span",18),e.TgZ(38,"button",19),e.NdJ("click",function(){return i.UpdateUsuarioContraseniaByIdAsync()}),e.YNc(39,ge,2,0,"span",10)(40,pe,1,1,"mat-progress-spinner",20),e.qZA()(),e.TgZ(41,"div",21)(42,"button",22),e.NdJ("click",function(){return i.UpdateUsuarioContraseniaByIdAsync()}),e.YNc(43,fe,2,0,"span",10)(44,he,1,2,"mat-progress-spinner",23),e.qZA()()()()}if(2&o){const s=e.MAs(20),d=e.MAs(30);e.xp6(1),e.Q6J("formGroup",i.securityForm),e.xp6(6),e.Q6J("ngIf",i.showAlert),e.xp6(3),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","txtContraseniaActual"),e.xp6(1),e.Q6J("ngIf",null==i.securityForm?null:i.securityForm.get("txtContraseniaActual").hasError("required")),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","txtContraseniaNueva"),e.xp6(3),e.Q6J("ngIf","password"===s.type),e.xp6(1),e.Q6J("ngIf","text"===s.type),e.xp6(1),e.Q6J("ngIf",null==i.securityForm?null:i.securityForm.get("txtContraseniaNueva").hasError("required")),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","txtConfirmarContraseniaNueva"),e.xp6(3),e.Q6J("ngIf","password"===d.type),e.xp6(1),e.Q6J("ngIf","text"===d.type),e.xp6(1),e.Q6J("ngIf",null==i.securityForm?null:i.securityForm.get("txtConfirmarContraseniaNueva").hasError("mustMatch")),e.xp6(4),e.Q6J("disabled",i.securityForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.securityForm.disabled),e.xp6(1),e.Q6J("ngIf",i.securityForm.disabled),e.xp6(2),e.Q6J("color","primary")("disabled",i.securityForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.securityForm.disabled),e.xp6(1),e.Q6J("ngIf",i.securityForm.disabled)}},dependencies:[f.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,M.Nt,A.KE,A.hX,A.TO,A.R9,E.Ou,g.lW,g.RK,I.Hw,L.W],encapsulation:2,changeDetection:0})}return t})();const ve=["drawer"],_e=(t,u)=>({"hover:bg-gray-100 dark:hover:bg-hover":t,"bg-primary-50 dark:bg-hover":u}),Ie=(t,u)=>({"text-hint":t,"text-primary dark:text-primary-500":u}),ye=t=>({"text-primary dark:text-primary-500":t});function Ce(t,u){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",19),e.NdJ("click",function(){const s=e.CHM(n).$implicit,d=e.oxw();return e.KtG(d.goToPanel(s.id))}),e._UZ(2,"mat-icon",20),e.TgZ(3,"div",21)(4,"div",22),e._uU(5),e.qZA(),e.TgZ(6,"div",23),e._uU(7),e.qZA()()(),e.BQk()}if(2&t){const n=u.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,_e,!o.selectedPanel||o.selectedPanel!==n.id,o.selectedPanel&&o.selectedPanel===n.id)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,Ie,!o.selectedPanel||o.selectedPanel!==n.id,o.selectedPanel&&o.selectedPanel===n.id))("svgIcon",n.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(12,ye,o.selectedPanel&&o.selectedPanel===n.id)),e.xp6(1),e.hij(" ",n.title," "),e.xp6(2),e.hij(" ",n.description," ")}}function xe(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"settings-account",24),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("usuarioDetalleInput",n.usuarioDetalleSource)}}function Se(t,u){if(1&t&&(e.ynx(0),e._UZ(1,"settings-security",24),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("usuarioDetalleInput",n.usuarioDetalleSource)}}const be=[{path:"configuracion",children:[{path:"",component:(()=>{class t{constructor(n,o,i,s,d,l){this._changeDetectorRef=n,this._fuseMediaWatcherService=o,this._usuarioService=i,this._parametrosService=s,this._securityService=d,this._toolService=l,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="account",this._unsubscribeAll=new C.x}ngOnInit(){this._usuarioService.usuarioData$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(n=>{this.usuarioDetalleSource=n}),this.panels=[{id:"account",icon:"heroicons_outline:user-circle",title:"Cuenta",description:"Administre su informaci\xf3n personal"},{id:"security",icon:"heroicons_outline:lock-closed",title:"Seguridad",description:"Administre su contrase\xf1a"}],this._fuseMediaWatcherService.onMediaChange$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{n.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(n){this.selectedPanel=n,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(n){return this.panels.find(o=>o.id===n)}trackByFn(n,o){return o.id||n}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(e.sBO),e.Y36(U.T),e.Y36(h.i),e.Y36(Z.M),e.Y36(x.I),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-configuracion-page"]],viewQuery:function(o,i){if(1&o&&e.Gf(ve,5),2&o){let s;e.iGM(s=e.CRH())&&(i.drawer=s.first)}},decls:23,vars:11,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mr-6","sm:my-10"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","bg-card"],[1,"flex-auto","px-6","pt-9","pb-12","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"mt-8"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"],[3,"usuarioDetalleInput"]],template:function(o,i){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6,"Configuraci\xf3n"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(3);return e.KtG(l.close())}),e._UZ(9,"mat-icon",8),e.qZA()()(),e.TgZ(10,"div",9),e.YNc(11,Ce,8,14,"ng-container",10),e.qZA()(),e.TgZ(12,"mat-drawer-content",11)(13,"div",12)(14,"div",13)(15,"button",14),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(3);return e.KtG(l.toggle())}),e._UZ(16,"mat-icon",8),e.qZA(),e.TgZ(17,"div",15),e._uU(18),e.qZA()(),e.TgZ(19,"div",16),e.ynx(20,17),e.YNc(21,xe,2,1,"ng-container",18)(22,Se,2,1,"ng-container",18),e.BQk(),e.qZA()()()()()}2&o&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",i.drawerMode)("opened",i.drawerOpened),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(2),e.Q6J("ngForOf",i.panels)("ngForTrackBy",i.trackByFn),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(2),e.hij(" ",i.getPanelInfo(i.selectedPanel).title," "),e.xp6(2),e.Q6J("ngSwitch",i.selectedPanel),e.xp6(1),e.Q6J("ngSwitchCase","account"),e.xp6(1),e.Q6J("ngSwitchCase","security"))},dependencies:[f.mk,f.sg,f.RF,f.n9,m.jA,m.kh,m.LW,g.RK,I.Hw,z,O]})}return t})(),data:{title:"Configuraci\xf3n"},resolve:{usuarioData:()=>(0,e.f3M)(h.i).GetPersonalInfoAsync()}}]}];let k=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(be),_.Bz]})}return t})();const Ae=[f.ez,y.m,k],Te=[{provide:Q.Ad,useFactory:t=>t.getuserInfoLogueadoCultureInfo(),deps:[w.o]}];let Ue=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({providers:[f.uU,Te],imports:[Ae,f.ez,y.m,k]})}return t})()}}]);