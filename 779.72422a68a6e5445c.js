(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[779],{779:(an,pe,_)=>{"use strict";_.r(pe),_.d(pe,{VentasModule:()=>en});var V=_(6814),at=_(1389),Se=_(3680),se=_(5742),M=_(2787),y=_(5313),ge=_(8645),h=_(308),m=_(4740);class le{}class he{}class wo{}class _o{}var ee=_(4690),Oe=_(3519),Ze=_.n(Oe);const bo={input(n,u){Ze().fire({title:n,input:"text",icon:"warning",showCancelButton:!0,confirmButtonColor:"#F88101",cancelButtonColor:"#81898b",cancelButtonText:"Cancelar",confirmButtonText:"Si"}).then(o=>{o.isConfirmed&&u(o.value)})},confirm(n,u,o){Ze().fire({title:"Confirmaci\xf3n",text:n,icon:u,showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#81898b",cancelButtonText:"No",confirmButtonText:"Si"}).then(l=>{l.isConfirmed&&o()})},success(n,u){Ze().fire(n,u,"success")},warning(n){Ze().fire("Mensaje",n,"warning")},error(n){Ze().fire("Mensaje",n,"error")}};var x=_(6223),e=_(9212),Tt=_(6278),ce=_(4855),ve=_(1427),xo=_(5846),ze=_(2734),Fe=_(9397),yo=_(4928);let nt=(()=>{class n{constructor(o){this.apiService=o}GetAllByFilterAsync(o){return this.apiService.post(ze.oM.GetAllByFilterAsync,o).pipe((0,Fe.b)(l=>l))}GetAllUsuariosAsync(){return this.apiService.query(ze.oM.GetAllUsuariosAsync,{}).pipe((0,Fe.b)(o=>o))}InsertAsync(o){return this.apiService.post(ze.oM.InsertAsync,o).pipe((0,Fe.b)(l=>l))}AnulaAsync(o){return this.apiService.post(ze.oM.AnulaAsync,o).pipe((0,Fe.b)(l=>l))}static#e=this.\u0275fac=function(l){return new(l||n)(e.LFG(yo.s))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var it=_(5110),Ie=_(2032),E=_(5683),At=_(9488),De=_(5940),b=_(2296),we=_(617),te=_(3566);function Vt(n,u){if(1&n&&e._UZ(0,"img",57),2&n){const o=e.oxw().$implicit;e.Q6J("alt","Imagen de "+o.nombre)("src",o.urlFoto,e.LSH)}}function Co(n,u){1&n&&(e.TgZ(0,"div",58),e._uU(1," SIN IMAGEN "),e.qZA())}const f=(n,u,o)=>({"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":n,"bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50":u,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":o});function To(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"tr",49),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.seleccionarProducto(d))}),e.TgZ(1,"td",50)(2,"div",33)(3,"div",51),e.YNc(4,Vt,1,2,"img",52)(5,Co,2,0,"div",53),e.qZA()()(),e.TgZ(6,"td",54),e._uU(7),e.qZA(),e.TgZ(8,"td",54),e._uU(9),e.qZA(),e.TgZ(10,"td",54)(11,"span",55)(12,"span",56),e._uU(13),e.qZA()()()()}if(2&n){const o=u.$implicit;e.xp6(4),e.Q6J("ngIf",o.urlFoto),e.xp6(1),e.Q6J("ngIf",!o.urlFoto),e.xp6(2),e.Oqu(o.codigo),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Q6J("ngClass",e.kEZ(6,f,(null==o?null:o.stock)<=0,(null==o?null:o.stock)>0&&(null==o?null:o.stock)<=5,(null==o?null:o.stock)>5)),e.xp6(2),e.Oqu(null==o?null:o.stock)}}function Le(n,u){if(1&n&&(e.TgZ(0,"div",44)(1,"table",45)(2,"thead",46)(3,"tr")(4,"th",47),e._uU(5,"Imagen"),e.qZA(),e.TgZ(6,"th",47),e._uU(7,"C\xf3digo"),e.qZA(),e.TgZ(8,"th",47),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"th",47),e._uU(11,"Stock"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,To,14,10,"tr",48),e.qZA()()()),2&n){const o=e.oxw();e.xp6(13),e.Q6J("ngForOf",o.allProductoDataSource.data)}}function kt(n,u){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-button-toggle",59)(2,"span",60),e._uU(3),e.qZA(),e.TgZ(4,"span",61),e._uU(5),e.qZA()(),e.BQk()),2&n){const o=u.$implicit;e.xp6(1),e.Q6J("value",o),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.hij("(",o.cantidadProductos,")")}}function rt(n,u){1&n&&(e.TgZ(0,"th",81),e._uU(1,"Imagen"),e.qZA())}function N(n,u){if(1&n&&e._UZ(0,"img",57),2&n){const o=e.oxw().$implicit;e.Q6J("alt","Imagen de "+(null==o?null:o.nombre))("src",null==o?null:o.urlFoto,e.LSH)}}function ue(n,u){1&n&&(e.TgZ(0,"div",58),e._uU(1," SIN IMAGEN "),e.qZA())}function Pt(n,u){if(1&n&&(e.TgZ(0,"td",82)(1,"div",33)(2,"div",51),e.YNc(3,N,1,2,"img",52)(4,ue,2,0,"div",53),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(3),e.Q6J("ngIf",null==o?null:o.urlFoto),e.xp6(1),e.Q6J("ngIf",!(null!=o&&o.urlFoto))}}function Ao(n,u){1&n&&(e.TgZ(0,"th",83),e._uU(1," Nombre "),e.qZA())}function Vo(n,u){if(1&n&&(e.TgZ(0,"td",84)(1,"span",33)(2,"span",85),e._uU(3),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(3),e.Oqu(o.nombre)}}function je(n,u){1&n&&(e.TgZ(0,"th",86),e._uU(1," Stock "),e.qZA())}function st(n,u){if(1&n&&(e.TgZ(0,"td",87)(1,"span",55)(2,"span",56),e._uU(3),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(1),e.Q6J("ngClass",e.kEZ(2,f,(null==o?null:o.stock)<=0,(null==o?null:o.stock)>0&&(null==o?null:o.stock)<=5,(null==o?null:o.stock)>5)),e.xp6(2),e.Oqu(null==o?null:o.stock)}}function Ue(n,u){1&n&&(e.TgZ(0,"th",88),e._uU(1," Precio "),e.qZA())}const _e=(n,u,o)=>[n,u,"code","",o];function Q(n,u){if(1&n&&(e.TgZ(0,"td",89)(1,"span",90),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const o=u.$implicit,l=e.oxw(2);e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,_e,o.precioVenta,l.monedaInfo.codigoMoneda,l.monedaInfo.cultureInfo))," ")}}function Me(n,u){1&n&&(e.TgZ(0,"th",81),e._uU(1,"Cantidad"),e.qZA())}function H(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"td",89)(1,"div",91)(2,"button",92),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.disminuirCantidad(d))}),e.TgZ(3,"mat-icon"),e._uU(4,"remove"),e.qZA()(),e.TgZ(5,"input",93),e.NdJ("ngModelChange",function(s){const g=e.CHM(o).$implicit;return e.KtG(g.cantidad=s)}),e.qZA(),e.TgZ(6,"button",92),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.aumentarCantidad(d))}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA()()()()}if(2&n){const o=u.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("disabled",l.isCallingInsertService),e.xp6(3),e.Q6J("disabled",l.isCallingInsertService)("ngModel",o.cantidad),e.xp6(1),e.Q6J("disabled",l.isCallingInsertService)}}function k(n,u){1&n&&(e.TgZ(0,"th",83),e._uU(1," Total "),e.qZA())}function Ee(n,u){if(1&n&&(e.TgZ(0,"td",89)(1,"span",90),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const o=u.$implicit,l=e.oxw(2);e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,_e,l.calcularTotalProducto(o),l.monedaInfo.codigoMoneda,l.monedaInfo.cultureInfo))," ")}}function ko(n,u){1&n&&(e.TgZ(0,"th",83),e._uU(1," Acciones "),e.qZA())}function St(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"td",89)(1,"button",94),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.quitarProducto(d))}),e._UZ(2,"mat-icon",95),e.qZA()()}if(2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("disabled",o.disabledAcciones||o.isCallingInsertService)}}function lt(n,u){1&n&&e._UZ(0,"tr",96)}function Zt(n,u){1&n&&e._UZ(0,"tr",97)}function ct(n,u){if(1&n&&(e.TgZ(0,"table",62,63),e.ynx(2,64),e.YNc(3,rt,2,0,"th",65)(4,Pt,5,2,"td",66),e.BQk(),e.ynx(5,67),e.YNc(6,Ao,2,0,"th",68)(7,Vo,4,1,"td",69),e.BQk(),e.ynx(8,70),e.YNc(9,je,2,0,"th",71)(10,st,4,6,"td",72),e.BQk(),e.ynx(11,73),e.YNc(12,Ue,2,0,"th",74)(13,Q,4,11,"td",75),e.BQk(),e.ynx(14,76),e.YNc(15,Me,2,0,"th",65)(16,H,9,4,"td",75),e.BQk(),e.ynx(17,77),e.YNc(18,k,2,0,"th",68)(19,Ee,4,11,"td",75),e.BQk(),e.ynx(20,78),e.YNc(21,ko,2,0,"th",68)(22,St,3,1,"td",75),e.BQk(),e.YNc(23,lt,1,0,"tr",79)(24,Zt,1,0,"tr",80),e.qZA()),2&n){const o=e.oxw();e.Q6J("dataSource",o.lstProductosSeleccionados)("trackBy",o.trackByFn),e.xp6(23),e.Q6J("matHeaderRowDef",o.productoTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.productoTableColumns)}}function Ye(n,u){if(1&n&&e._UZ(0,"img",107),2&n){const o=e.oxw().$implicit;e.Q6J("src",o.urlFoto,e.LSH)("alt",o.nombre)}}function W(n,u){1&n&&(e.TgZ(0,"div",108),e._uU(1," SIN IMAGEN "),e.qZA())}const be=(n,u,o)=>({"text-red-600":n,"text-orange-500":u,"text-green-600":o});function de(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"div",98)(1,"div",99),e.YNc(2,Ye,1,2,"img",100)(3,W,2,0,"ng-template",null,101,e.W1O),e.qZA(),e.TgZ(5,"h3",102),e._uU(6),e.qZA(),e.TgZ(7,"p",103)(8,"span",104),e._uU(9),e.ALo(10,"currency"),e.qZA()(),e.TgZ(11,"p",105),e._uU(12),e.qZA(),e.TgZ(13,"button",106),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw();return e.KtG(g.seleccionarProducto(d))}),e._uU(14," Agregar "),e.qZA()()}if(2&n){const o=u.$implicit,l=e.MAs(4),s=e.oxw();e.xp6(2),e.Q6J("ngIf",o.urlFoto)("ngIfElse",l),e.xp6(4),e.Oqu(o.nombre),e.xp6(3),e.Oqu(e.G7q(10,7,e.kEZ(13,_e,o.precioVenta,s.monedaInfo.codigoMoneda,s.monedaInfo.cultureInfo))),e.xp6(2),e.Q6J("ngClass",e.kEZ(17,be,o.stock<=0,o.stock>0&&o.stock<=5,o.stock>5)),e.xp6(1),e.hij(" Stock: ",o.stock," "),e.xp6(1),e.Q6J("disabled",s.isCallingInsertService)}}function Po(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Fecha Venta es requerido "),e.qZA())}function xe(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"div",109)(1,"button",110),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.quitarCliente())}),e._UZ(2,"mat-icon",111),e.qZA(),e.TgZ(3,"div",112),e._uU(4),e.qZA(),e.TgZ(5,"div",113)(6,"div",33),e._UZ(7,"mat-icon",114),e.TgZ(8,"div",115),e._uU(9),e.qZA()()()()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("disabled",o.isCallingInsertService),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:trash"),e.xp6(2),e.hij(" ",(null==o.clienteData?null:o.clienteData.numeroDocumento)||"N/D"," "),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(2),e.lnq(" ",(null==o.clienteData||null==o.clienteData.nombres?null:o.clienteData.nombres.trim())||""," ",(null==o.clienteData||null==o.clienteData.apellidos?null:o.clienteData.apellidos.trim())||""," ",(null==o.clienteData||null==o.clienteData.correoElectronico?null:o.clienteData.correoElectronico.trim())||""," ")}}function Re(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1," Pagar "),e.qZA())}function Ft(n,u){1&n&&e._UZ(0,"mat-progress-spinner",116),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}let qe=(()=>{class n{get totalVenta(){return this.lstProductosSeleccionados.data.reduce((o,l)=>o+l.precioVenta*l.cantidad,0)}constructor(o,l,s,d,g,v,S){this._fuseConfirmationService=o,this._formBuilder=l,this._securityService=s,this._inventarioService=d,this._clienteService=g,this._ventaService=v,this._toolService=S,this.isCallingInsertService=m.vU.False,this.isCallingSelecClienteService=m.vU.False,this.allProductoDataSource=new y.by,this.lstProductosSeleccionados=new y.by,this.isbuscandoProductosDisabled=!1,this.hayCliente=m.vU.False,this.productoTableColumns=["foto","nombre","stock","precioVenta","cantidad","total","acciones"],this.parametroBusquedaProducto="",this.parametroBusquedaCliente="",this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.userInfoLogueado=this.obtenerInfouserInfoLogueado(),this._unsubscribeAll=new ge.x,this.imgNoData=m.HZ.noDataGraficos}ngOnInit(){this.lstProductosSeleccionados.data=[],this.allProductoDataSource.data=[],this.formFiltros(),this.GetCategoriesWithProductsCountAsync()}GetCategoriesWithProductsCountAsync(){this._inventarioService.GetCategoriesWithProductsCountAsync().subscribe(o=>{this.allCategoriesDataSource=o},o=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(o)})}formFiltros(){this.filtroRegistroVentasForm=this._formBuilder.group({fechaRegistroVenta:[this._toolService.getDateTimeNow(),[x.kI.required]]})}aumentarCantidad(o){o.cantidad<o.stock?o.cantidad++:this._toolService.showWarning(h.T.StockLimite,h.J.Tittle)}onSelectCategoryProduct(o){this._inventarioService.GetAllProductsByCategoryAsync(o.value.idCategoria).subscribe(l=>{this.allProductByCategoryDataSource=l},l=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(l)})}InsertAsync(){const o=this._toolService.getTimeZone(),l=this.userInfoLogueado.idUsuario,s=this.clienteData?.id,d=this.filtroRegistroVentasForm.get("fechaRegistroVenta").value,g=this.lstProductosSeleccionados.data.map(S=>({idProducto:S?.id,urlFotoProducto:S?.urlFoto,nombreProducto:S?.nombre,colorProducto:S?.color,nombreCategoria:S?.categoria.nombre,colorCategoria:S?.categoria.color,nombreMarca:S?.marca.nombre,colorMarca:S?.marca.color,cantidad:S?.cantidad,nombreMedida:S?.categoria.medida.nombre,precioCompra:S?.precioCompra,precioVenta:S?.precioVenta}));this.lstProductosSeleccionados.data.length!=m.Q6.Cero?ee.a.isEmptyInputValue(o)?this._toolService.showWarning(h.T.InvalidLocalizacion,h.T.Tittle):ee.a.isEmptyInputValue(l)?this._toolService.showWarning(h.T.InvalidUIdUsuario,h.T.Tittle):ee.a.isEmptyInputValue(d)?this._toolService.showWarning(h.T.InvalidFechaRegistroVenta,h.T.Tittle):(this.configForm=this._formBuilder.group({title:"Confirmaci\xf3n de la Venta",message:"\xbfConforme con los datos ingresados?",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation-triangle",color:"primary"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Si",color:"primary"}),cancel:this._formBuilder.group({show:!0,label:"No"})}),dismissible:!0}),this._fuseConfirmationService.open(this.configForm.value).afterClosed().subscribe(S=>{if("confirmed"!=S)return;const I=new _o;I.destinationTimeZoneIdRegistro=o,I.idUsuario=l,I.idCliente=s,I.lstDetalleVenta=g,I.notaAdicional=this.notaAdicional,I.fechaRegistroVenta=d,I.flgEnviarComprobante=this.flgEnviarComprobante,this.isCallingInsertService=m.vU.Show,this._ventaService.InsertAsync(I).subscribe($=>{if($.success)return this.clienteData=new he,this.hayCliente=m.vU.False,this.lstProductosSeleccionados.data=[],this.allProductoDataSource.data=[],this.allProductByCategoryDataSource=[],this.isCallingInsertService=m.vU.Hide,this.notaAdicional="",window.open($.value,"_blank"),void bo.success($.titleMessage,$.message);this._toolService.showError(h.J.Transaction,h.J.Tittle),this.isbuscandoProductosDisabled=m.vU.False,this.isCallingInsertService=m.vU.Hide},$=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log($),this.isbuscandoProductosDisabled=m.vU.False,this.isCallingInsertService=m.vU.Hide,this.clienteData=new he,this.hayCliente=m.vU.False,this.lstProductosSeleccionados.data=[],this.allProductoDataSource.data=[],this.allProductByCategoryDataSource=[],this.isCallingInsertService=m.vU.Hide,this.notaAdicional=""})})):this._toolService.showWarning(h.T.NohayClienteIngresadoOProductosSeleccionados,h.J.Tittle)}buscarCliente(){if(!this.parametroBusquedaCliente&&""==this.parametroBusquedaCliente.trim())return;const o=new wo;o.idUsuario=this.decodeToken.idUsuario,o.parametro=this.parametroBusquedaCliente,this.isCallingSelecClienteService=m.vU.True,this._clienteService.GetByNumDocumentoCorreoAsync(o).subscribe(l=>{if(this.isCallingSelecClienteService=m.vU.False,l)return this.clienteData=l,this.hayCliente=m.vU.True,void(this.parametroBusquedaCliente="");this.clienteData=new he,this.hayCliente=m.vU.False,this._toolService.showWarning(h.T.NoExisteCliente,h.T.Tittle)},l=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(l),this.isCallingSelecClienteService=m.vU.False})}onEnviarComprobanteChange(o){const l=o.target.checked;if(l){const s=this.clienteData;if(!this.hayCliente||!s||!s.correoElectronico||""===s.correoElectronico.trim())return this._toolService.showWarning("Debe seleccionar un cliente con correo v\xe1lido para enviar el comprobante.","Advertencia"),o.target.checked=!1,void(this.flgEnviarComprobante=!1)}this.flgEnviarComprobante=l}quitarCliente(){this.clienteData=null,this.hayCliente=m.vU.False,this.flgEnviarComprobante=m.vU.False}disminuirCantidad(o){o.cantidad>1&&(o.cantidad--,this.lstProductosSeleccionados.data=[...this.lstProductosSeleccionados.data])}quitarProducto(o){this.lstProductosSeleccionados.data=this.lstProductosSeleccionados.data.filter(l=>l.id!==o.id)}calcularTotalProducto(o){return o.cantidad*o.precioVenta}filtrarProductos(o){const l=o.target.value;if(l.length>=m.Q6.Cuatro){const s=new le;return s.idUsuario=this.decodeToken.idUsuario,s.parametro=l,void this._inventarioService.GetProductoByCodeAsync(s).subscribe(d=>{d.length>m.Q6.Cero&&(this.allProductoDataSource.data=d)},d=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(d)})}this.allProductoDataSource.data=[]}keyupEnterProductos(o){const l=o.target.value,s=new le;s.idUsuario=this.decodeToken.idUsuario,s.parametro=l,this._inventarioService.GetProductoByCodeAsync(s).subscribe(d=>{d.length>m.Q6.Cero&&(this.allProductoDataSource.data=d)},d=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(d)})}seleccionarProducto(o){if(o.stock<=m.Q6.Cero)return void this._toolService.showWarning(h.T.StockInsuficiente,h.J.Tittle);const l=this.lstProductosSeleccionados.data.findIndex(s=>s.codigo===o.codigo);if(-1===l)o.cantidad=m.Q6.Uno,this.lstProductosSeleccionados.data=[...this.lstProductosSeleccionados.data,o];else{if(this.lstProductosSeleccionados.data[l].cantidad>=o.stock)return void this._toolService.showWarning(h.T.StockLimite,h.J.Tittle);this.lstProductosSeleccionados.data[l].cantidad++}this.lstProductosSeleccionados._updateChangeSubscription(),this.parametroBusquedaProducto="",this.allProductoDataSource.data=[]}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}trackByFn(o,l){return l.id||o}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(Tt.R),e.Y36(x.QS),e.Y36(ce.I),e.Y36(ve.I),e.Y36(xo.$),e.Y36(nt),e.Y36(se.o))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-registro-ventas-page"]],features:[e._Bn([])],decls:62,vars:37,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-2xl","md:text-3xl","font-semibold","tracking-tight","leading-8"],[1,"w-full","xl:col-span-2","mt-6","relative"],[1,"relative"],["maxlength","50","type","text","placeholder","Buscar Producto",1,"w-full","p-3","pl-10","border","border-gray-300","rounded-xl","bg-card","shadow","focus:ring","focus:ring-primary-300","focus:outline-none","placeholder:text-gray-500",3,"disabled","ngModel","ngModelChange","keyup.enter","input"],[1,"absolute","left-3","top-3","text-gray-500",3,"svgIcon","click"],["class","absolute w-auto mt-2 bg-white shadow-lg rounded-xl border border-gray-300 overflow-hidden max-h-72 overflow-y-auto z-50 transition-all duration-200 ease-in-out",4,"ngIf"],[1,"flex","flex-wrap","-m-2",3,"change"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","xl:grid-cols-4","gap-8","w-full","mt-8"],[1,"xl:col-span-3","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden","px-6","pt-6","pb-10"],[1,"overflow-x-auto","md:overflow-visible","mx-6"],["class","w-full bg-transparent","mat-table","","matSort","",3,"dataSource","trackBy",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-5","mt-6"],["class","bg-white rounded-2xl shadow-lg p-4 flex flex-col items-center transform transition-transform hover:scale-105 hover:shadow-xl border border-gray-200",4,"ngFor","ngForOf"],[1,"xl:col-span-1","flex","flex-col","flex-auto","p-6","bg-card","rounded-2xl","shadow-lg"],[1,"flex","flex-col"],[1,"grid","grid-cols-2","gap-4"],[1,"col-span-2","flex","flex-col","items-center","justify-center","py-6","px-4","rounded-2xl","bg-green-100","text-green-700","dark:bg-green-900","dark:text-green-300"],[1,"mt-1","text-2xl","font-semibold"],[1,"text-4xl","font-bold","leading-none","tracking-tight"],[3,"formGroup"],[1,"flex","items-center","mt-3"],[1,"text","font-medium","tracking-tight"],[1,"mt-3","relative"],[1,"w-full"],["required","","autocomplete","off","matInput","","autocomplete","false",3,"disabled","formControlName","matDatetimepicker","click"],["matPrefix","",3,"disabled","for"],["type","datetime","openOnFocus","true","timeInterval","5"],["fechaRegistroVenta",""],[4,"ngIf"],[1,"flex","items-center"],["type","text","placeholder","N\xfam. de Documento o Correo",1,"w-full","p-3","pl-12","border","border-gray-300","rounded-xl","bg-white","shadow","focus:ring","focus:ring-primary-300","focus:outline-none","dark:bg-gray-800","dark:text-white",3,"ngModel","disabled","ngModelChange","keyup.enter"],[1,"absolute","left-3","top-3","text-gray-500","cursor-pointer",3,"svgIcon","click"],["class","mt-3 p-2 border-t border-gray-300 bg-gray-100 rounded-lg shadow-md dark:bg-gray-800 relative"],["id","notaAdicional","rows","3","placeholder","Nota adicional",1,"w-full","p-3","border","border-gray-300","rounded-xl","bg-white","shadow","focus:ring","focus:ring-primary-300","focus:outline-none","dark:bg-gray-800","dark:text-white",3,"disabled","ngModel","ngModelChange"],[1,"col-span-4"],[1,"flex","flex-wrap","gap-4","mt-4"],["type","checkbox","id","envioSunat",1,"w-5","h-5","text-primary-600","border-gray-300","rounded","focus:ring","focus:ring-primary-300",3,"checked","disabled","change"],[1,"flex","justify-center","mt-6"],["mat-flat-button","","type","button",1,"w-full","sm:inline-flex","ml-3","sm:w-full","sm:h-10","sm:items-center","sm:justify-center","transition","duration-300","ease-in-out","transform","hover:scale-105","hover:bg-primary-600","focus:outline-none","focus:ring-2","focus:ring-primary-300",3,"disabled","color","click"],[3,"diameter","mode",4,"ngIf"],[1,"absolute","w-auto","mt-2","bg-white","shadow-lg","rounded-xl","border","border-gray-300","overflow-hidden","max-h-72","overflow-y-auto","z-50","transition-all","duration-200","ease-in-out"],[1,"w-auto","text-left"],[1,"bg-gray-100"],[1,"p-2","text-sm","font-semibold"],["class","cursor-pointer hover:bg-gray-200",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-200",3,"click"],[1,"min-w-10"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-full h-full object-cover",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase bg-gray-200",4,"ngIf"],[1,"p-2","text-sm"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],[1,"w-full","h-full","object-cover",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase","bg-gray-200"],[1,"m-2",3,"value"],[1,"text-secondary"],[1,"ml-1.5","font-medium","text-secondary"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackBy"],["productosSeleccionados",""],["matColumnDef","foto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10",4,"matCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-30",4,"matCellDef"],["matColumnDef","stock"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10 text-center",4,"matCellDef"],["matColumnDef","precioVenta"],["mat-header-cell","","mat-sort-header","","class","min-w-10",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidad"],["matColumnDef","total"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["class","order-row h-16","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"min-w-10"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"min-w-30"],[1,"ml-3","break-words","max-w-[150px]"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"min-w-10","text-center"],["mat-header-cell","","mat-sort-header","",1,"min-w-10"],["mat-cell",""],[1,"pr-6","w-auto","h-auto","rounded-full",2,"color","#056DB6"],[1,"flex","items-center","space-x-2"],["mat-icon-button","","color","primary",3,"disabled","click"],["type","number","min","1","readonly","",1,"w-16","text-center","border","rounded-md",3,"disabled","ngModel","ngModelChange"],["mat-icon-button","","color","warn",1,"p-1",3,"disabled","click"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row","",1,"order-row","h-16"],[1,"bg-white","rounded-2xl","shadow-lg","p-4","flex","flex-col","items-center","transform","transition-transform","hover:scale-105","hover:shadow-xl","border","border-gray-200"],[1,"w-24","h-24","mb-4","rounded-xl","overflow-hidden","border","border-gray-300"],["class","w-full h-full object-cover",3,"src","alt",4,"ngIf","ngIfElse"],["noImagen",""],[1,"text-base","font-semibold","text-center","text-gray-800"],[1,"text-sm","font-medium","text-gray-700","mt-1"],[2,"color","#056DB6"],[1,"text-xs","font-medium","mt-1",3,"ngClass"],[1,"mt-4","px-4","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-xl","shadow","hover:bg-blue-700","transition-colors",3,"disabled","click"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","text-center","uppercase","bg-gray-200","text-gray-600"],[1,"mt-3","p-2","border-t","border-gray-300","bg-gray-100","rounded-lg","shadow-md","dark:bg-gray-800","relative"],["mat-icon-button","","color","warn",1,"absolute","top-3","right-3","cursor-pointer","text-red-600","hover:text-red-700",3,"disabled","click"],[3,"svgIcon"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-3","space-y-2","sm:space-y-0","sm:space-x-4"],[1,"icon-size-5","text-primary-500",3,"svgIcon"],[1,"ml-2","text-md","text-gray-700","dark:text-gray-300"],[3,"diameter","mode"]],template:function(l,s){if(1&l){const d=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Nueva Venta"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(v){return s.parametroBusquedaProducto=v})("keyup.enter",function(v){return s.keyupEnterProductos(v)})("input",function(v){return s.filtrarProductos(v)}),e.qZA(),e.TgZ(8,"mat-icon",7),e.NdJ("click",function(v){return s.keyupEnterProductos(v)}),e.qZA()(),e.YNc(9,Le,14,1,"div",8),e.qZA(),e.TgZ(10,"div",4)(11,"mat-button-toggle-group",9),e.NdJ("change",function(v){return s.onSelectCategoryProduct(v)}),e.YNc(12,kt,6,3,"ng-container",10),e.qZA()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13),e.YNc(16,ct,25,4,"table",14),e.TgZ(17,"div",15),e.YNc(18,de,15,21,"div",16),e.qZA()()(),e.TgZ(19,"div",17)(20,"div",18)(21,"div",19)(22,"div",20)(23,"div",21),e._uU(24,"Total"),e.qZA(),e.TgZ(25,"div",22),e._uU(26),e.ALo(27,"currency"),e.qZA()()()(),e.TgZ(28,"form",23)(29,"div",24)(30,"div",25),e._uU(31,"Fecha De Venta"),e.qZA()(),e.TgZ(32,"div",26)(33,"div",5)(34,"mat-form-field",27)(35,"input",28),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(38);return e.KtG(v.open())}),e.qZA(),e._UZ(36,"mat-datetimepicker-toggle",29)(37,"mat-datetimepicker",30,31),e.YNc(39,Po,2,0,"mat-error",32),e.qZA()()()(),e.TgZ(40,"div",33)(41,"div",25),e._uU(42,"Buscar Cliente"),e.qZA()(),e.TgZ(43,"div",26)(44,"div",5)(45,"input",34),e.NdJ("ngModelChange",function(v){return s.parametroBusquedaCliente=v})("keyup.enter",function(){return s.buscarCliente()}),e.qZA(),e.TgZ(46,"mat-icon",35),e.NdJ("click",function(){return s.buscarCliente()}),e.qZA()()(),e.YNc(47,xe,10,7,"div",36),e.TgZ(48,"div",24)(49,"div",25),e._uU(50,"Nota adicional"),e.qZA()(),e.TgZ(51,"div",26)(52,"textarea",37),e.NdJ("ngModelChange",function(v){return s.notaAdicional=v}),e.qZA()(),e.TgZ(53,"div",38)(54,"div",39)(55,"input",40),e.NdJ("change",function(v){return s.onEnviarComprobanteChange(v)}),e.qZA(),e.TgZ(56,"div",25),e._uU(57,"Enviar Comprobante"),e.qZA()()(),e.TgZ(58,"div",41)(59,"button",42),e.NdJ("click",function(){return s.InsertAsync()}),e.YNc(60,Re,2,0,"span",32)(61,Ft,1,2,"mat-progress-spinner",43),e.qZA()()()()()()}if(2&l){const d=e.MAs(38);e.xp6(7),e.Q6J("disabled",s.isbuscandoProductosDisabled||s.isCallingInsertService)("ngModel",s.parametroBusquedaProducto),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:magnifying-glass"),e.xp6(1),e.Q6J("ngIf",s.allProductoDataSource.data.length>0),e.xp6(3),e.Q6J("ngForOf",s.allCategoriesDataSource),e.xp6(4),e.Q6J("ngIf",(null==s.lstProductosSeleccionados?null:s.lstProductosSeleccionados.data.length)>0),e.xp6(2),e.Q6J("ngForOf",s.allProductByCategoryDataSource),e.xp6(8),e.hij(" ",e.G7q(27,27,e.kEZ(33,_e,s.totalVenta,s.monedaInfo.codigoMoneda,s.monedaInfo.cultureInfo))," "),e.xp6(2),e.Q6J("formGroup",s.filtroRegistroVentasForm),e.xp6(7),e.Q6J("disabled",s.isCallingInsertService)("formControlName","fechaRegistroVenta")("matDatetimepicker",d),e.xp6(1),e.Q6J("disabled",s.isCallingInsertService)("for",d),e.xp6(3),e.Q6J("ngIf",s.filtroRegistroVentasForm.get("fechaRegistroVenta").hasError("required")),e.xp6(6),e.Q6J("ngModel",s.parametroBusquedaCliente)("disabled",s.isCallingInsertService),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:magnifying-glass"),e.xp6(1),e.um2(47,s.hayCliente?47:-1),e.xp6(5),e.Q6J("disabled",s.isCallingInsertService)("ngModel",s.notaAdicional),e.xp6(3),e.Q6J("checked",s.flgEnviarComprobante)("disabled",s.isCallingInsertService),e.xp6(4),e.Q6J("disabled",s.isCallingInsertService||0==s.lstProductosSeleccionados.data.length||!s.filtroRegistroVentasForm.get("fechaRegistroVenta").value)("color","primary"),e.xp6(1),e.Q6J("ngIf",!s.isCallingInsertService),e.xp6(1),e.Q6J("ngIf",s.isCallingInsertService)}},dependencies:[V.mk,V.sg,V.O5,it._R,it.C,it.RZ,x._Y,x.Fj,x.wV,x.JJ,x.JL,x.Q7,x.nD,x.qQ,x.sg,x.u,x.On,Ie.Nt,E.KE,E.TO,E.qo,At.A9,At.Yi,De.Ou,b.lW,b.RK,we.Hw,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,te.YE,te.nU,V.H9]})}return n})();var ye=_(9315),oe=_(1476),Ce=_(937);let ut=(()=>{class n extends oe.ye{constructor(){super(...arguments),this.itemsPerPageLabel="Ventas por p\xe1gina:",this.nextPageLabel="Siguiente p\xe1gina",this.previousPageLabel="P\xe1gina anterior",this.getRangeLabel=(o,l,s)=>0===s?"P\xe1gina 1 de 1":`P\xe1gina ${o+1} de ${Math.ceil(s/l)}`}static#e=this.\u0275fac=(()=>{let o;return function(s){return(o||(o=e.n5z(n)))(s||n)}})();static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ge{}class So{}class O{}var G=_(7700);let Zo=(()=>{class n extends oe.ye{constructor(){super(...arguments),this.itemsPerPageLabel="Detalle por p\xe1gina:",this.nextPageLabel="Siguiente p\xe1gina",this.previousPageLabel="P\xe1gina anterior",this.getRangeLabel=(o,l,s)=>0===s?"P\xe1gina 1 de 1":`P\xe1gina ${o+1} de ${Math.ceil(s/l)}`}static#e=this.\u0275fac=(()=>{let o;return function(s){return(o||(o=e.n5z(n)))(s||n)}})();static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L=_(2599),R=_(7988);const It=["detalleVentaTable"];function Dt(n,u){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Imagen"),e.qZA())}function A(n,u){if(1&n&&e._UZ(0,"img",37),2&n){const o=e.oxw().$implicit;e.Q6J("alt","Imagen de "+o.nombreProducto)("src",o.urlFotoProducto,e.LSH)}}function K(n,u){1&n&&(e.TgZ(0,"div",38),e._uU(1," SIN IMAGEN "),e.qZA())}function ae(n,u){if(1&n&&(e.TgZ(0,"td",32)(1,"div",33)(2,"div",34),e.YNc(3,A,1,2,"img",35)(4,K,2,0,"div",36),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(3),e.Q6J("ngIf",o.urlFotoProducto),e.xp6(1),e.Q6J("ngIf",!o.urlFotoProducto)}}function me(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Nombre Producto "),e.qZA())}function q(n,u){if(1&n&&(e.TgZ(0,"td",40)(1,"span",33),e._UZ(2,"span",41),e.TgZ(3,"span",42),e._uU(4),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(2),e.Udp("background-color",o.colorProducto),e.xp6(2),e.Oqu(o.nombreProducto)}}function B(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Categor\xeda Producto "),e.qZA())}function dt(n,u){if(1&n&&(e.TgZ(0,"td",40)(1,"span",33),e._UZ(2,"span",41),e.TgZ(3,"span",42),e._uU(4),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(2),e.Udp("background-color",o.colorCategoria),e.xp6(2),e.Oqu(o.nombreCategoria)}}function Ut(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Marca Producto "),e.qZA())}function Je(n,u){if(1&n&&(e.TgZ(0,"td",40)(1,"span",33),e._UZ(2,"span",41),e.TgZ(3,"span",42),e._uU(4),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(2),e.Udp("background-color",o.colorMarca),e.xp6(2),e.Oqu(o.nombreMarca)}}function z(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Categor\xeda "),e.qZA())}function Fo(n,u){if(1&n&&(e.TgZ(0,"td",40)(1,"span",33),e._UZ(2,"span",41),e.TgZ(3,"span",42),e._uU(4),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(2),e.Udp("background-color",o.categoria.color),e.xp6(2),e.Oqu(o.categoria.nombre)}}function Mt(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Precio"),e.qZA())}const mt=(n,u,o)=>[n,u,"code","",o];function ft(n,u){if(1&n&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const o=u.$implicit,l=e.oxw();e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,mt,o.precioProducto,l.monedaInfo.codigoMoneda,l.monedaInfo.cultureInfo))," ")}}function Io(n,u){1&n&&(e.TgZ(0,"th",45),e._uU(1," Cantidad "),e.qZA())}function Et(n,u){if(1&n&&(e.TgZ(0,"td",46)(1,"span",47),e._uU(2),e.qZA()()),2&n){const o=u.$implicit;e.xp6(2),e.Oqu(null==o?null:o.cantidad)}}function Do(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Total"),e.qZA())}function Uo(n,u){if(1&n&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const o=u.$implicit,l=e.oxw();e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,mt,o.precioTotal,l.monedaInfo.codigoMoneda,l.monedaInfo.cultureInfo))," ")}}function fe(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1,"Activo"),e.qZA())}function Mo(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"td",43)(1,"mat-slide-toggle",48),e.NdJ("change",function(s){const g=e.CHM(o).$implicit,v=e.oxw();return e.KtG(v.UpdateActivoProductoAsync(g,s.checked))}),e.qZA()()}if(2&n){const o=u.$implicit,l=e.oxw();e.xp6(1),e.Q6J("checked",o.activo)("disabled",l.disabledAcciones)}}function Eo(n,u){1&n&&(e.TgZ(0,"th",39),e._uU(1," Acciones "),e.qZA())}function Ro(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"td",43)(1,"button",49)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,50)(6,"button",51),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw();return e.KtG(g.onShowFormDetalleProducto(d))}),e._UZ(7,"mat-icon",52),e._uU(8," Ver "),e.qZA(),e.TgZ(9,"button",51),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw();return e.KtG(g.onShowFormModificaProducto(d))}),e._UZ(10,"mat-icon",53),e._uU(11," Editar "),e.qZA(),e.TgZ(12,"button",51),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw();return e.KtG(g.DeleteAsync(d))}),e._UZ(13,"mat-icon",54),e._uU(14," Eliminar "),e.qZA()()()}if(2&n){const o=e.MAs(5),l=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",o)("disabled",l.disabledAcciones)}}function qo(n,u){1&n&&e._UZ(0,"tr",55)}function Jo(n,u){1&n&&e._UZ(0,"tr",56)}const pt=()=>[10,15,20];function Bo(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"div",57)(1,"mat-paginator",58,59),e.NdJ("page",function(s){e.CHM(o);const d=e.oxw();return e.KtG(d.onPageChange(s))}),e.qZA()()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("length",o.allDetalleVentaDataSource.data.length)("pageSize",10)("pageSizeOptions",e.DdM(3,pt))}}function Qo(n,u){if(1&n&&(e.TgZ(0,"div",57),e._UZ(1,"img",60),e.TgZ(2,"div",61),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"p",62),e._uU(6,"Aplique otros filtros de b\xfasqueda"),e.qZA()()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imgNoDataUltimosRegistros,e.LSH),e.xp6(2),e.hij(" ",o.textoResultadoTable,"")}}let ne=(()=>{class n{constructor(o,l,s,d){this.matDialogRef=o,this.paramsForms=l,this._toolService=s,this._securityService=d,this.pageSlice=new y.by,this.detalleVentaTableColumns=["urlfotoproducto","nombreproducto","categoriaproducto","marcaproducto","precioproducto","cantidad","total"],this.allDetalleVentaDataSource=new y.by,this.isCallingService=m.vU.False,this.sortingActivoData=(g,v)=>this._toolService.sortingActivoData(g,v)}ngOnInit(){this.monedaInfo=this.paramsForms.monedaInfo,this.allDetalleVentaDataSource.data=this.paramsForms.lstDetalleVenta,this.numeroVenta=this.paramsForms.numeroVenta,this.setPageSlice(this.paramsForms.lstDetalleVenta)}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}trackByFn(o,l){return l.id||o}onPageChange(o){const l=o.pageIndex*o.pageSize;let s=l+o.pageSize;s>this.allDetalleVentaDataSource.data.length&&(s=this.allDetalleVentaDataSource.data.length),this.pageSlice.data=this.allDetalleVentaDataSource.data.slice(l,s)}setPageSlice(o){this.pageSlice.data=o.slice(m.Q6.Cero,m.Q6.Diez),this._paginator&&(this._paginator.pageIndex=m.Q6.Cero,this._paginator.pageSize=m.Q6.Diez)}ngAfterViewInit(){this.allDetalleVentaDataSource.sort=this.detalleVentaTableeMatSort,this.allDetalleVentaDataSource.paginator=this._paginator}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(G.so),e.Y36(G.WI),e.Y36(se.o),e.Y36(ce.I))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-detalle-venta-page"]],viewQuery:function(l,s){if(1&l&&(e.Gf(oe.NW,5),e.Gf(It,5,te.YE)),2&l){let d;e.iGM(d=e.CRH())&&(s._paginator=d.first),e.iGM(d=e.CRH())&&(s.detalleVentaTableeMatSort=d.first)}},features:[e._Bn([{provide:oe.ye,useClass:Zo}])],decls:46,vars:9,consts:[[1,"flex","flex-col","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","w-full"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],[1,"xl:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent","mb-3",3,"dataSource","trackBy"],["detalleVentaTable",""],["matColumnDef","urlfotoproducto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10",4,"matCellDef"],["matColumnDef","nombreproducto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-30",4,"matCellDef"],["matColumnDef","categoriaproducto"],["matColumnDef","marcaproducto"],["matColumnDef","categoria"],["matColumnDef","precioproducto"],["mat-cell","",4,"matCellDef"],["matColumnDef","cantidad"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10 text-center",4,"matCellDef"],["matColumnDef","total"],["matColumnDef","activarDesactivar"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","paginator",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"min-w-10"],[1,"flex","items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-full h-full object-cover",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase bg-gray-200",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase","bg-gray-200"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"min-w-30"],[1,"w-2","h-2","rounded-full"],[1,"ml-3","leading-4"],["mat-cell",""],[1,"pr-2","w-auto","h-auto","rounded-full",2,"color","#056DB6"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"min-w-10","text-center"],[1,"leading-relaxed","whitespace-nowrap"],["color","primary",3,"checked","disabled","change"],["mat-icon-button","",3,"matMenuTriggerFor","disabled"],["menu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","feather:eye"],["svgIcon","feather:edit-2"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row",""],[1,"paginator"],["aria-label","Seleccione p\xe1gina",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["alt","No hay datos disponibles",1,"w-72","mx-auto","mt-2",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"]],template:function(l,s){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return s.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"table",9,10),e.ynx(12,11),e.YNc(13,Dt,2,0,"th",12)(14,ae,5,2,"td",13),e.BQk(),e.ynx(15,14),e.YNc(16,me,2,0,"th",15)(17,q,5,3,"td",16),e.BQk(),e.ynx(18,17),e.YNc(19,B,2,0,"th",15)(20,dt,5,3,"td",16),e.BQk(),e.ynx(21,18),e.YNc(22,Ut,2,0,"th",15)(23,Je,5,3,"td",16),e.BQk(),e.ynx(24,19),e.YNc(25,z,2,0,"th",15)(26,Fo,5,3,"td",16),e.BQk(),e.ynx(27,20),e.YNc(28,Mt,2,0,"th",15)(29,ft,4,11,"td",21),e.BQk(),e.ynx(30,22),e.YNc(31,Io,2,0,"th",23)(32,Et,3,1,"td",24),e.BQk(),e.ynx(33,25),e.YNc(34,Do,2,0,"th",15)(35,Uo,4,11,"td",21),e.BQk(),e.ynx(36,26),e.YNc(37,fe,2,0,"th",15)(38,Mo,2,2,"td",21),e.BQk(),e.ynx(39,27),e.YNc(40,Eo,2,0,"th",15)(41,Ro,15,2,"td",21),e.BQk(),e.YNc(42,qo,1,0,"tr",28)(43,Jo,1,0,"tr",29),e.qZA()(),e.YNc(44,Bo,3,4,"div",30)(45,Qo,7,2,"div",30),e.qZA()()()()),2&l&&(e.xp6(3),e.hij("Detalle Venta Nro. ",s.numeroVenta,""),e.xp6(1),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(5),e.Q6J("dataSource",s.pageSlice)("trackBy",s.trackByFn),e.xp6(32),e.Q6J("matHeaderRowDef",s.detalleVentaTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.detalleVentaTableColumns),e.xp6(1),e.Q6J("ngIf",s.allDetalleVentaDataSource.data.length>0),e.xp6(1),e.Q6J("ngIf",0===s.allDetalleVentaDataSource.data.length))},dependencies:[V.O5,L.Rr,R.VK,R.OP,R.p6,b.RK,we.Hw,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,oe.NW,te.YE,te.nU,V.H9]})}return n})();var $e=_(8358),We=_(6670),No=_(2228),X=_(8525),j=_(2651),Y=_(8034),Ke=_(2268);const Ho=["selectUsuarioItem"],Oo=["historialVentaTable"],P=["matDrawer"];function zo(n,u){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function Lo(n,u){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,zo,2,0,"ng-container",13),e.qZA()),2&n){const o=u.$implicit,l=u.index;e.oxw(2);const s=e.MAs(16);e.xp6(1),e.hij(" ",o.correoElectronico||"",""),e.xp6(1),e.Q6J("ngIf",l<s.value.length-1)}}function jo(n,u){if(1&n&&(e.ynx(0),e.YNc(1,Lo,3,2,"span",44),e.BQk()),2&n){e.oxw();const o=e.MAs(16);e.xp6(1),e.Q6J("ngForOf",o.value)}}function Yo(n,u){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const o=u.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.correoElectronico,"")}}function Go(n,u){1&n&&e._UZ(0,"mat-icon",46),2&n&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function $o(n,u){1&n&&(e.TgZ(0,"span",47),e._uU(1,"Buscar"),e.qZA())}function gt(n,u){1&n&&e._UZ(0,"mat-progress-spinner",48),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Be(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",49),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,50)(4,"button",51),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.onExportar())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",52),e._uU(7,"Exportar"),e.qZA()(),e.TgZ(8,"button",51),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",52),e._uU(11,"Filtrar"),e.qZA()()()}if(2&n){const o=e.MAs(3);e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal")}}function Rt(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.onExportar())}),e._UZ(1,"mat-icon",54),e.TgZ(2,"span",47),e._uU(3,"Exportar"),e.qZA()(),e.TgZ(4,"button",55),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(5,"mat-icon",54),e.TgZ(6,"span",47),e._uU(7,"Filtrar"),e.qZA()()}2&n&&(e.Q6J("color","primary")("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"))}const Xe=()=>({"border-radius":"0",height:"50px"});function Z(n,u){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"ngx-skeleton-loader",57),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("count",o.skeletonNumber)("theme",e.DdM(2,Xe))}}function Wo(n,u){1&n&&(e.TgZ(0,"th",78),e._uU(1," N\xfamero de Venta "),e.qZA())}function Ko(n,u){if(1&n&&(e.TgZ(0,"td",79)(1,"span",80)(2,"span",81),e._uU(3),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(3),e.Oqu(o.numeroVenta)}}function Xo(n,u){1&n&&(e.TgZ(0,"th",78),e._uU(1," Nombre Cliente "),e.qZA())}function qt(n,u){if(1&n&&(e.TgZ(0,"td",82)(1,"span",83),e._uU(2),e.qZA()()),2&n){const o=u.$implicit;e.xp6(2),e.hij(" ",o.nombreCliente," ")}}function ea(n,u){1&n&&(e.TgZ(0,"th",78),e._uU(1," Correo Usuario "),e.qZA())}function ta(n,u){if(1&n&&(e.TgZ(0,"td",82)(1,"span",83)(2,"a",84),e._uU(3),e.ALo(4,"lowercase"),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(2),e.Q6J("href","mailto:"+o.correoUsuario,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(4,2,o.correoUsuario)," ")}}function oa(n,u){1&n&&(e.TgZ(0,"th",78),e._uU(1," Fecha Venta "),e.qZA())}function Jt(n,u){if(1&n&&(e.TgZ(0,"td",85)(1,"span",83),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const o=u.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,o.fechaVenta,"dd/MM/yyyy HH:mm")," ")}}function aa(n,u){1&n&&(e.TgZ(0,"th",86),e._uU(1," Total Venta "),e.qZA())}const Bt=(n,u,o)=>[n,u,"code","",o];function na(n,u){if(1&n&&(e.TgZ(0,"td",82)(1,"span",87),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&n){const o=u.$implicit,l=e.oxw(2);e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,Bt,o.totalVenta,l.monedaInfo.codigoMoneda,l.monedaInfo.cultureInfo))," ")}}function ia(n,u){1&n&&(e.TgZ(0,"th",86),e._uU(1," Estado "),e.qZA())}const ra=(n,u)=>({"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":n,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":u});function sa(n,u){if(1&n&&(e.TgZ(0,"td",88)(1,"span",89)(2,"span",90),e._uU(3),e.qZA()()()),2&n){const o=u.$implicit;e.xp6(1),e.Q6J("ngClass",e.WLB(2,ra,!1===(null==o?null:o.estado),!0===(null==o?null:o.estado))),e.xp6(2),e.hij(" ",!0===(null==o?null:o.estado)?"Completado":"Anulado"," ")}}function la(n,u){1&n&&(e.TgZ(0,"th",78),e._uU(1," Acciones "),e.qZA())}function ca(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(o);const s=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.AnulaAsync(s))}),e._UZ(1,"mat-icon",95),e._uU(2," Anular "),e.qZA()}}function ua(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"td",82)(1,"button",91)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,92)(6,"button",51),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.showFormDetalleVentaDialog(d))}),e._UZ(7,"mat-icon",93),e._uU(8," Ver "),e.qZA(),e.TgZ(9,"button",51),e.NdJ("click",function(){const d=e.CHM(o).$implicit,g=e.oxw(2);return e.KtG(g.verComprobante(d))}),e._UZ(10,"mat-icon",6),e._uU(11," Ver PDF "),e.qZA(),e.YNc(12,ca,3,0,"button",94),e.qZA()()}if(2&n){const o=u.$implicit,l=e.MAs(5),s=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",l)("disabled",s.disabledAcciones),e.xp6(9),e.Q6J("svgIcon","feather:file"),e.xp6(2),e.Q6J("ngIf",!0===o.estado)}}function Qt(n,u){1&n&&e._UZ(0,"tr",96)}function da(n,u){1&n&&e._UZ(0,"tr",97)}const Nt=()=>[10,15,20];function ma(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"div",98)(1,"mat-paginator",99,100),e.NdJ("page",function(s){e.CHM(o);const d=e.oxw(2);return e.KtG(d.onPageChange(s))}),e.qZA()()}if(2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("length",o.allHistorialVentaDataSource.data.length)("pageSize",5)("pageSizeOptions",e.DdM(3,Nt))}}function fa(n,u){if(1&n&&(e.TgZ(0,"div",98),e._UZ(1,"img",101),e.TgZ(2,"div",102),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"p",103),e._uU(6,"Aplique otros filtros de b\xfasqueda"),e.qZA()()()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.imgNoDataUltimosRegistros,e.LSH),e.xp6(2),e.hij(" ",o.textoResultadoTable,"")}}function Te(n,u){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"table",60,61),e.ynx(4,62),e.YNc(5,Wo,2,0,"th",63)(6,Ko,4,1,"td",64),e.BQk(),e.ynx(7,65),e.YNc(8,Xo,2,0,"th",63)(9,qt,3,1,"td",66),e.BQk(),e.ynx(10,67),e.YNc(11,ea,2,0,"th",63)(12,ta,5,4,"td",66),e.BQk(),e.ynx(13,68),e.YNc(14,oa,2,0,"th",63)(15,Jt,4,4,"td",69),e.BQk(),e.ynx(16,70),e.YNc(17,aa,2,0,"th",71)(18,na,4,11,"td",66),e.BQk(),e.ynx(19,72),e.YNc(20,ia,2,0,"th",71)(21,sa,4,5,"td",73),e.BQk(),e.ynx(22,74),e.YNc(23,la,2,0,"th",63)(24,ua,13,4,"td",66),e.BQk(),e.YNc(25,Qt,1,0,"tr",75)(26,da,1,0,"tr",76),e.qZA()(),e.YNc(27,ma,3,4,"div",77)(28,fa,7,2,"div",77),e.qZA()),2&n){const o=e.oxw();e.xp6(2),e.Q6J("dataSource",o.pageSlice)("trackBy",o.trackByFn),e.xp6(23),e.Q6J("matHeaderRowDef",o.historialVentaTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.historialVentaTableColumns),e.xp6(1),e.Q6J("ngIf",o.allHistorialVentaDataSource.data.length>0),e.xp6(1),e.Q6J("ngIf",0===o.allHistorialVentaDataSource.data.length)}}let ht=(()=>{class n{constructor(o,l,s,d,g,v,S){this._matDialog=o,this._fuseConfirmationService=l,this._formBuilder=s,this._securityService=d,this._ventaService=g,this._detalleventaService=v,this._toolService=S,this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.disabledAcciones=m.vU.False,this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.False,this.skeleton=m.vU.False,this.skeletonNumber=m.Q6.Ocho,this.textoResultadoTable="",this.imgNoDataUltimosRegistros=m.HZ.noDataUltimosRegistros,this.minDate=this._toolService.getMinDateFIlter(),this.maxDate=this._toolService.getMaxDateFIlter(),this.pageSlice=new y.by,this.allHistorialVentaDataSource=new y.by,this.historialVentaTableColumns=["numeroVenta","nombreCliente","correoUsuario","fechaVenta","totalVenta","estado","acciones"],this._unsubscribeAll=new ge.x,this.sortingActivoData=(I,$)=>this._toolService.sortingActivoData(I,$)}ngAfterViewInit(){this.allHistorialVentaDataSource.sort=this.historialVentaTableMatSort,this.allHistorialVentaDataSource.paginator=this._paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getFilterComboConsulta()}formFiltros(){this.decodeToken=this.obtenerInfouserInfoLogueado(),this.filtroVentaForm=this._formBuilder.group({usuarios:[""],numeroVenta:[""],fechaVentaInicio:[this._toolService.getStartDateOfMonth()],fechaVentaFin:[this._toolService.getEndDateOfMonth()],montoVentaInicio:[""],montoVentaFin:[""]})}getFilterComboConsulta(){const o=this.obtenerRequest();(0,ye.D)({dataUsuarios:this._ventaService.GetAllUsuariosAsync(),dataVentas:this._ventaService.GetAllByFilterAsync(o)}).subscribe({next:l=>{if(this.allUsuarioSource=l.dataUsuarios,this.allHistorialVentaDataSource.data=l.dataVentas,this.pageSlice.data=[],this.filtroVentaForm.get("usuarios")?.setValue(this.allUsuarioSource),this.allHistorialVentaDataSource.data.length>m.Q6.Cero)return this.disabledExportar=m.vU.False,this.setPageSlice(this.allHistorialVentaDataSource.data),this.disabledBuscar=m.vU.False,void this.hideSkeleton();this.textoResultadoTable=m.RO.NoDataResult,this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,this.hideSkeleton()},error:l=>{this.hideSkeleton(),this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,console.log(l)}})}GetAllHistorialVentasByFilterAsync(o,l){const s=this.obtenerRequest();this.disabledBuscar=o,this._ventaService.GetAllByFilterAsync(s).subscribe(d=>{if(this.allHistorialVentaDataSource.data=d,this.pageSlice.data=[],this.allHistorialVentaDataSource.data.length>m.Q6.Cero)return this.disabledExportar=m.vU.False,this.setPageSlice(this.allHistorialVentaDataSource.data),this.disabledBuscar=m.vU.False,this.hideSkeleton(),void(l&&this.closedDrawer());this.textoResultadoTable=m.RO.NoDataResult,this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,this.hideSkeleton(),l&&this.closedDrawer()},d=>{this.hideSkeleton(),this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,console.log(d),l&&this.closedDrawer()})}showFormDetalleVentaDialog(o){const l=new O,s=this._toolService.getTimeZone(),d=this.decodeToken.idUsuario,g=o.idVenta;ee.a.isEmptyInputValue(g)?this._toolService.showWarning(h.T.InvalidVenta,h.T.Tittle):ee.a.isEmptyInputValue(s)?this._toolService.showWarning(h.T.InvalidLocalizacion,h.T.Tittle):ee.a.isEmptyInputValue(d)?this._toolService.showWarning(h.T.InvalidUIdUsuario,h.T.Tittle):(this.disabledAcciones=m.vU.True,l.destinationTimeZoneId=s,l.idUsuario=d,l.idVenta=g,this._detalleventaService.GetDetalleAsync(l).subscribe(v=>{this.disabledAcciones=m.vU.False,this._matDialog.open(ne,{autoFocus:m.vU.False,data:{lstDetalleVenta:v,monedaInfo:this.monedaInfo,numeroVenta:o.numeroVenta}})},v=>{this.hideSkeleton(),this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledAcciones=m.vU.False}))}AnulaAsync(o){this.configForm=this._formBuilder.group({title:"Anular Venta",message:"\xbfSeguro que quieres anular la venta "+o.numeroVenta+"?.",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation-triangle",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Borrar",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancelar"})}),dismissible:!0}),this._fuseConfirmationService.open(this.configForm.value).afterClosed().subscribe(s=>{if("confirmed"!=s)return;const d=this._toolService.getTimeZone(),g=this.decodeToken.idUsuario,v=o.idVenta;if(ee.a.isEmptyInputValue(v))return void this._toolService.showWarning(h.T.InvalidMarca,h.T.Tittle);if(ee.a.isEmptyInputValue(d))return void this._toolService.showWarning(h.T.InvalidLocalizacion,h.T.Tittle);if(ee.a.isEmptyInputValue(g))return void this._toolService.showWarning(h.T.InvalidUIdUsuario,h.T.Tittle);const S=new So;S.destinationTimeZoneIdActualizacion=d,S.id=v,S.idUsuario=g,this.disabledAcciones=m.vU.True,this._ventaService.AnulaAsync(S).subscribe(I=>I.code==m.Pc.Advertencia?(this._toolService.showWarning(I.message,I.titleMessage),this.disabledAcciones=m.vU.False,void this.hideSkeleton()):I.success?(this._toolService.showSuccess(I.message,I.titleMessage),this.setPageSlice(this.allHistorialVentaDataSource.data),this.disabledAcciones=m.vU.False,this.getSkeletonCount(),this.showSkeleton(),void this.GetAllHistorialVentasByFilterAsync(m.vU.True,m.vU.True)):(this._toolService.showError(h.J.Transaction,h.J.Tittle),void(this.disabledAcciones=m.vU.False)),I=>{this.hideSkeleton(),this.disabledAcciones=m.vU.False,this._toolService.showError(h.J.Transaction,h.J.Tittle),console.log(I)})})}btnBuscar(){this.getSkeletonCount(),this.showSkeleton(),this.GetAllHistorialVentasByFilterAsync(m.vU.True,m.vU.True)}onExportar(){if(this.pageSlice.data.length===m.Q6.Cero)return;const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda),l=m.Dq.NombreExcelExportarVentas,s=m.Dq.NombreHojaExcelVentas,g=[];this.allHistorialVentaDataSource.data.forEach(F=>{const J={"N\xfamero Venta":F.numeroVenta,"Nombre Cliente":F.nombreCliente,"Correo Usuario":F.correoUsuario,"Fecha Venta":this._toolService.formatoFecha(F.fechaVenta),"Total Venta":o.format(F.totalVenta),"\xbfAnulado?":F.estado==m.vU.False?"No":"Si"};g.push(J)});const v=Ce.utils.json_to_sheet(g,{header:["N\xfamero Venta","Nombre Cliente","Correo Usuario","Fecha Venta","Total Venta","\xbfAnulado?"]}),S=g.reduce((F,J)=>(Object.keys(J).forEach((Ne,go)=>{const tn=J[Ne]?J[Ne].toString().length:20;F[go]=Math.max(F[go]||20,tn)}),F),[]);v["!cols"]=S.map(F=>({width:F+m.Q6.Cuatro})),["A1","B1","C1","D1","E1","F1","G1","H1","I1"].forEach(F=>{v[F]&&(v[F].s={fill:{fgColor:{rgb:"4f46e5"}},font:{bold:!0,color:{rgb:"ffffff"}},alignment:{horizontal:"center",vertical:"center"},border:{bottom:{style:"thin",color:{rgb:"000000"}}}})}),Object.keys(v).forEach(F=>{const J=F[0],Ne=parseInt(F.substring(1),10);!isNaN(Ne)&&Ne>1&&("A"===J||"B"===J||"C"===J||"D"===J||"E"===J||"F"===J||"G"===J||"H"===J||"J"===J||"K"===J||"I"===J)&&v[F]&&(v[F].s={alignment:{horizontal:"center",vertical:"center"}})});const $=Ce.utils.book_new();Ce.utils.book_append_sheet($,v,s),Ce.writeFile($,l)}verComprobante(o){o&&window.open(o.urlBoletaFactura,"_blank")}obtenerRequest(){const o=new Ge;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.lstUsuario=[],o.numeroVenta=""==this.filtroVentaForm.get("numeroVenta").value?null:this.filtroVentaForm.get("numeroVenta").value,o.fechaVentaInicio=""==this.filtroVentaForm.get("fechaVentaInicio").value?null:this.filtroVentaForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroVentaForm.get("fechaVentaFin").value?null:this.filtroVentaForm.get("fechaVentaFin").value,o.montoVentaInicio=""==this.filtroVentaForm.get("montoVentaInicio").value?null:this.filtroVentaForm.get("montoVentaInicio").value,o.montoVentaFin=""==this.filtroVentaForm.get("montoVentaFin").value?null:this.filtroVentaForm.get("montoVentaFin").value,this.selectUsuarioItem&&this.selectUsuarioItem.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstUsuario?.push(s.value.correoElectronico)}),o}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}trackByFn(o,l){return l.id||o}onPageChange(o){const l=o.pageIndex*o.pageSize;let s=l+o.pageSize;s>this.allHistorialVentaDataSource.data.length&&(s=this.allHistorialVentaDataSource.data.length),this.pageSlice.data=this.allHistorialVentaDataSource.data.slice(l,s)}setPageSlice(o){this.pageSlice.data=o.slice(m.Q6.Cero,m.Q6.Cinco),this._paginator&&(this._paginator.pageIndex=m.Q6.Cero,this._paginator.pageSize=m.Q6.Cinco)}isMobilSize(){return this._toolService.isMobilSize()}closedDrawer(){this.matDrawer.close()}getSkeletonCount(){this.skeletonNumber=this.allHistorialVentaDataSource.data.length==m.Q6.Cero?m.Q6.Ocho:this.allHistorialVentaDataSource.data.length+m.Q6.Uno}showSkeleton(){this.skeleton=m.vU.Show}hideSkeleton(){this.skeleton=m.vU.Hide}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(G.uw),e.Y36(Tt.R),e.Y36(x.QS),e.Y36(ce.I),e.Y36(nt),e.Y36($e.n),e.Y36(se.o))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-historial-ventas-page"]],viewQuery:function(l,s){if(1&l&&(e.Gf(Ho,5),e.Gf(Oo,5,te.YE),e.Gf(P,5),e.Gf(oe.NW,5)),2&l){let d;e.iGM(d=e.CRH())&&(s.selectUsuarioItem=d.first),e.iGM(d=e.CRH())&&(s.historialVentaTableMatSort=d.first),e.iGM(d=e.CRH())&&(s.matDrawer=d.first),e.iGM(d=e.CRH())&&(s._paginator=d.first)}},features:[e._Bn([{provide:oe.ye,useClass:ut}])],decls:74,vars:33,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["multiple","",3,"formControlName"],["selectUsuarioItem",""],[4,"ngIf"],[3,"model","values"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","numeroVenta","maxlength","50","autocomplete","off"],["autocomplete","off","matInput","",3,"min","max","matDatepicker","formControlName","click"],["matSuffix","",3,"for"],["pickerInicio",""],["pickerFin",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","montoVentaInicio"],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","montoVentaFin"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","items-center","ml-6"],[1,"w-full"],["class","skeleton-default  bg-card shadow rounded-2xl overflow-hidden ",4,"ngIf"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class","xl:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],[1,"skeleton-default","bg-card","shadow","rounded-2xl","overflow-hidden"],[3,"count","theme"],[1,"xl:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent","mb-3",3,"dataSource","trackBy"],["historialVentaTable",""],["matColumnDef","numeroVenta"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-40",4,"matCellDef"],["matColumnDef","nombreCliente",1,"min-w-50"],["mat-cell","",4,"matCellDef"],["matColumnDef","correoUsuario"],["matColumnDef","fechaVenta"],["mat-cell","","style","min-width: 180px",4,"matCellDef"],["matColumnDef","totalVenta"],["mat-header-cell","","mat-sort-header","","class","min-w-10",4,"matHeaderCellDef"],["matColumnDef","estado"],["mat-cell","","class","min-w-10 text-center",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","paginator",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"min-w-40"],[1,"flex","items-center"],[1,"ml-3","leading-4"],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],[1,"text-blue-500","hover:underline",3,"href"],["mat-cell","",2,"min-width","180px"],["mat-header-cell","","mat-sort-header","",1,"min-w-10"],[1,"pr-6","w-auto","h-auto","rounded-full",2,"color","#056DB6"],["mat-cell","",1,"min-w-10","text-center"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],["mat-icon-button","",3,"matMenuTriggerFor","disabled"],["menu","matMenu"],["svgIcon","feather:eye"],["mat-menu-item","",3,"click",4,"ngIf"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row",""],[1,"paginator"],["aria-label","Seleccione p\xe1gina",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["alt","No hay datos disponibles",1,"w-72","mx-auto","mt-2",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"]],template:function(l,s){if(1&l){const d=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(2);return e.KtG(v.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Usuarios"),e.qZA(),e.TgZ(15,"mat-select",11,12)(17,"mat-select-trigger"),e.YNc(18,jo,2,1,"ng-container",13),e.qZA(),e._UZ(19,"app-selectAll",14),e.YNc(20,Yo,2,2,"mat-option",15),e.qZA()(),e.TgZ(21,"mat-form-field",10)(22,"mat-label"),e._uU(23,"N\xfamero de Venta"),e.qZA(),e._UZ(24,"input",16),e.qZA(),e.TgZ(25,"mat-form-field",10)(26,"mat-label"),e._uU(27,"Fecha Venta Inicio"),e.qZA(),e.TgZ(28,"input",17),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(31);return e.KtG(v.open())}),e.qZA(),e._UZ(29,"mat-datepicker-toggle",18)(30,"mat-datepicker",null,19),e.qZA(),e.TgZ(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Fecha Venta Fin"),e.qZA(),e.TgZ(35,"input",17),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(38);return e.KtG(v.open())}),e.qZA(),e._UZ(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,20),e.qZA(),e.TgZ(39,"mat-form-field",10)(40,"mat-label"),e._uU(41,"Monto Venta Inicio"),e.qZA(),e._UZ(42,"input",21),e.qZA(),e.TgZ(43,"mat-form-field",10)(44,"mat-label"),e._uU(45,"Monto Venta Fin"),e.qZA(),e._UZ(46,"input",22),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(){return s.btnBuscar()}),e.YNc(48,Go,1,1,"mat-icon",24)(49,$o,2,0,"span",25)(50,gt,1,2,"mat-progress-spinner",26),e.qZA()()()()(),e.TgZ(51,"mat-drawer-content",27)(52,"div",28)(53,"div",29)(54,"div",30)(55,"div",31)(56,"div",32)(57,"h2",33),e._uU(58,"Historial "),e.qZA()(),e.TgZ(59,"div",34)(60,"div")(61,"a",35),e._uU(62,"Ventas"),e.qZA()(),e.TgZ(63,"div",36),e._UZ(64,"mat-icon",37),e.TgZ(65,"a",38),e._uU(66,"Historial"),e.qZA()()()(),e.TgZ(67,"div",39),e.YNc(68,Be,12,4)(69,Rt,8,4),e.qZA()(),e.TgZ(70,"div",40),e.YNc(71,Z,2,3,"div",41),e.TgZ(72,"div",42),e.YNc(73,Te,29,6,"div",43),e.qZA()()()()()()}if(2&l){const d=e.MAs(16),g=e.MAs(31),v=e.MAs(38);e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",s.filtroVentaForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","usuarios"),e.xp6(3),e.Q6J("ngIf",(null==d.value?null:d.value.length)>0),e.xp6(1),e.Q6J("model",s.filtroVentaForm.get("usuarios"))("values",s.allUsuarioSource),e.xp6(1),e.Q6J("ngForOf",s.allUsuarioSource),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",g)("formControlName","fechaVentaInicio"),e.xp6(1),e.Q6J("for",g),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",v)("formControlName","fechaVentaFin"),e.xp6(1),e.Q6J("for",v),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("color","primary")("disabled",s.filtroVentaForm.invalid||s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",s.disabledBuscar),e.xp6(14),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(4),e.um2(68,s.isMobilSize()?68:69),e.xp6(3),e.Q6J("ngIf",s.skeleton),e.xp6(2),e.Q6J("ngIf",!s.skeleton)}},dependencies:[V.mk,V.sg,V.O5,We.K,No.f,x._Y,x.Fj,x.JJ,x.JL,x.nD,x.sg,x.u,Ie.Nt,E.KE,E.hX,E.R9,R.VK,R.OP,R.p6,X.gD,X.$L,Se.ey,De.Ou,j.jA,j.kh,j.LW,b.lW,b.RK,we.Hw,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.ge,y.ev,y.XQ,y.Gk,oe.NW,te.YE,te.nU,Y.Mq,Y.hl,Y.nW,Ke.xr,V.i8,V.H9,V.uU]})}return n})();var pa=_(2993),et=_(3362);class vt{}var wt=_(6903);const ga=["selectCategoriaItem"],ha=["matDrawer"];function va(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta inicio es requerido"),e.qZA())}function wa(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta fin es requerido"),e.qZA())}function _a(n,u){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function Ae(n,u){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",35),e._uU(2),e.YNc(3,_a,2,0,"ng-container",14),e.qZA()),2&n){const o=u.$implicit,l=u.index;e.oxw(2);const s=e.MAs(32);e.xp6(1),e.Udp("background-color",null==o?null:o.color),e.xp6(1),e.hij(" ",o.nombre||"",""),e.xp6(1),e.Q6J("ngIf",l<s.value.length-1)}}function ba(n,u){if(1&n&&(e.ynx(0),e.YNc(1,Ae,4,4,"span",34),e.BQk()),2&n){e.oxw();const o=e.MAs(32);e.xp6(1),e.Q6J("ngForOf",o.value)}}function Ht(n,u){if(1&n&&(e.TgZ(0,"mat-option",36),e._UZ(1,"span",35),e._uU(2),e.qZA()),2&n){const o=u.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre,"")}}function Ot(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function xa(n,u){1&n&&e._UZ(0,"mat-icon",37),2&n&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function ya(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Buscar"),e.qZA())}function Ca(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Ta(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",40),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,41)(4,"button",42),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",43),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorCategoriaAsync())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",43),e._uU(11,"Exportar"),e.qZA()()()}if(2&n){const o=e.MAs(3),l=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",l.filtroAnalisisVentasForm.invalid||l.isExportingReport||l.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function Aa(n,u){1&n&&e._UZ(0,"mat-icon",46),2&n&&e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}function Va(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Exportar"),e.qZA())}function ka(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Ve(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(1,"mat-icon",46),e.TgZ(2,"span",38),e._uU(3,"Filtrar"),e.qZA()(),e.TgZ(4,"button",47),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorCategoriaAsync())}),e.YNc(5,Aa,1,1,"mat-icon",48)(6,Va,2,0,"span",22)(7,ka,1,2,"mat-progress-spinner",23),e.qZA()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("color","primary")("disabled",o.filtroAnalisisVentasForm.invalid||o.isExportingReport||o.disabledExportar),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",o.isExportingReport)}}const Pa=()=>({"border-radius":"0",height:"50px"});function Sa(n,u){1&n&&e._UZ(0,"ngx-skeleton-loader",49),2&n&&e.Q6J("theme",e.DdM(1,Pa))}function zt(n,u){if(1&n&&(e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55),e._UZ(4,"img",56),e.TgZ(5,"div",57),e._uU(6),e.qZA(),e.TgZ(7,"div")(8,"p",58),e._uU(9,"Aplique otros filtros de b\xfasqueda "),e.qZA()()()()()()),2&n){const o=e.oxw(2);e.xp6(4),e.Q6J("src",o.imgNoDataHome,e.LSH),e.xp6(2),e.hij(" ",o.textoResultado,"")}}function Za(n,u){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"div",61),e._uU(3,"Evoluci\xf3n por Categorias y Fechas"),e.qZA()(),e.TgZ(4,"div",53)(5,"div",54)(6,"div",54),e._UZ(7,"apx-chart",62),e.qZA()()()(),e.TgZ(8,"div",63)(9,"div",60)(10,"div",64),e._uU(11," Totalizado por Categor\xeda "),e.qZA(),e._UZ(12,"button",65),e.qZA(),e.TgZ(13,"div",54),e._UZ(14,"apx-chart",66),e.qZA()(),e.TgZ(15,"div",63)(16,"div",60)(17,"div",64),e._uU(18," Categor\xedas Destacadas "),e.qZA()(),e.TgZ(19,"div",54),e._UZ(20,"apx-chart",67),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(7),e.Q6J("plotOptions",o.chartEvolucionVentasCategoriaFecha.plotOptions)("series",o.chartEvolucionVentasCategoriaFecha.series)("chart",o.chartEvolucionVentasCategoriaFecha.chart)("xaxis",o.chartEvolucionVentasCategoriaFecha.xaxis)("yaxis",o.chartEvolucionVentasCategoriaFecha.yaxis)("tooltip",o.chartEvolucionVentasCategoriaFecha.tooltip)("dataLabels",o.chartEvolucionVentasCategoriaFecha.dataLabels)("labels",o.chartEvolucionVentasCategoriaFecha.labels)("noData",o.chartEvolucionVentasCategoriaFecha.noData)("grid",o.chartEvolucionVentasCategoriaFecha.grid),e.xp6(7),e.Q6J("series",o.chartTotalizadoCategoria.series)("chart",o.chartTotalizadoCategoria.chart)("labels",o.chartTotalizadoCategoria.labels)("responsive",o.chartTotalizadoCategoria.responsive)("noData",o.chartTotalizadoCategoria.noData)("colors",o.chartTotalizadoCategoria.colors)("tooltip",o.chartTotalizadoCategoria.tooltip)("dataLabels",o.chartTotalizadoCategoria.dataLabels)("plotOptions",o.chartTotalizadoCategoria.plotOptions),e.xp6(6),e.Q6J("series",o.chartTopDiezCategorias.series)("chart",o.chartTopDiezCategorias.chart)("colors",o.chartTopDiezCategorias.colors)("dataLabels",o.chartTopDiezCategorias.dataLabels)("plotOptions",o.chartTopDiezCategorias.plotOptions)("tooltip",o.chartTopDiezCategorias.tooltip)("noData",o.chartTopDiezCategorias.noData)("xaxis",o.chartTopDiezCategorias.xaxis)}}function ie(n,u){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,zt,10,2,"div",51)(2,Za,21,27),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.um2(1,0==o.ventasAnalisisDataSource.distribucionVentasCategoria.totalVentasCategorias.length?1:2)}}let Lt=(()=>{class n{constructor(o,l,s,d,g){this._securityService=o,this._formBuilder=l,this._toolService=s,this._detalleVentasService=d,this._inventarioService=g,this.disabledExportar=m.vU.False,this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.isExportingReport=m.vU.False,this.chartEvolucionVentasCategoriaFecha={},this.chartTotalizadoCategoria={},this.chartTopDiezCategorias={},this.chartEvolucionVentasFecha={},this.disabledBuscar=m.vU.False,this._unsubscribeAll=new ge.x,this.skeleton=m.vU.False,this.minDate=this._toolService.getMinDateFIlter(),this.maxDate=this._toolService.getMaxDateFIlter(),this.imgNoDataHome=m.HZ.noDataHome,this.textoResultado=m.RO.NoDataResult,this.filtroRangoFecha=""}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getResumen(m.vU.False),this.getFilterComboConsulta()}formFiltros(){this.filtroAnalisisVentasForm=this._formBuilder.group({fechaVentaInicio:[this._toolService.getStartDateOfMonth(),[x.kI.required]],fechaVentaFin:[this._toolService.getEndDateOfMonth(),[x.kI.required]],categoria:[""]}),this.currencyNumberFormat=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda)}getFilterComboConsulta(){const o=new et.Z;o.nombre="",o.idUsuario=this.decodeToken.idUsuario;const l=new pa.l;l.nombre="",l.idUsuario=this.decodeToken.idUsuario,(0,ye.D)({dataCategorias:this._inventarioService.GetAllCategoriaByFilterAsync(l),dataMarcas:this._inventarioService.GetAllMarcaByFilterAsync(o)}).subscribe({next:s=>{this.allCategoriaDataSource=s.dataCategorias,this.allMarcasDataSource=s.dataMarcas,this.filtroAnalisisVentasForm.get("categoria")?.setValue(this.allCategoriaDataSource),this.filtroAnalisisVentasForm.get("marca")?.setValue(this.allMarcasDataSource)},error:s=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,console.log(s)}})}getResumen(o){this.showSkeleton();const l=this.obtenerRequest();this.disabledBuscar=m.vU.True,this._detalleVentasService.GetAnalisisCategoriasByFilterAsync(l).subscribe(s=>{this.ventasAnalisisDataSource=s,this.disabledBuscar=m.vU.False,this.getFechaFiltroCadena(),this.generateCharts(),o&&this.closedDrawer(),this.hideSkeleton(),this.disabledExportar=s.distribucionVentasCategoria.totalVentasCategorias.length>m.Q6.Cero?m.vU.False:m.vU.True},s=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,console.log(s),o&&this.closedDrawer()})}generateCharts(){this.rangoFecha=this.getRangeDate(),this.generarchartEvolucionVentasCategoriaFecha(),this.generarchartTotalizadoCategorias(),this.generarChartTopDiezCategorias(),this.generarChartEvolucionFecha()}generarchartEvolucionVentasCategoriaFecha(){const o=this.ventasAnalisisDataSource.lstEvolucionVentasCategoriaFecha.map(l=>({color:l.colorCategoria,name:l.nombreCategoria,data:this.rangoFecha.map(s=>{const d=l.datosVentasAgrupados.find(g=>this._toolService.formatoFecha(g.fechaVenta)===s);return d?d.montoVentaTotal:m.Q6.Cero})}));this.chartEvolucionVentasCategoriaFecha={series:o,chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1,style:{fontSize:"12px"}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.rangoFecha,labels:{rotateAlways:!0,rotate:-45}},yaxis:{labels:{formatter:l=>this.currencyNumberFormat.format(l),style:{fontSize:"12px"}}},fill:{opacity:1},tooltip:{enabled:!0,y:{formatter:l=>this.currencyNumberFormat.format(l)}}}}generarchartTotalizadoCategorias(){const o=this.isMobilSize(),l=this.ventasAnalisisDataSource.distribucionVentasCategoria.totalVentasCategorias.reduce((s,d)=>s+d,0);this.chartTotalizadoCategoria={chart:{type:"donut",fontFamily:"inherit",foreColor:"inherit",height:"95%"},responsive:[{breakpoint:600,options:{chart:{width:"100%",height:350},legend:{position:"bottom"}}}],labels:this.ventasAnalisisDataSource.distribucionVentasCategoria.nombreCategorias,series:this.ventasAnalisisDataSource.distribucionVentasCategoria.totalVentasCategorias,noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.distribucionVentasCategoria.coloresCategorias,tooltip:{enabled:!0,y:{formatter:s=>this.currencyNumberFormat.format(s)}},dataLabels:{enabled:!0},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!1},value:{show:!0,fontSize:o?"19px":"22px",color:"#494949",offsetY:0,formatter:()=>this.currencyNumberFormat.format(l)},total:{show:!0,showAlways:!0,label:"",fontSize:o?"19px":"22px",color:"#494949",formatter:()=>this.currencyNumberFormat.format(l)}}}}}}}generarChartTopDiezCategorias(){const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda);this.chartTopDiezCategorias={series:[{name:"Total",data:this.ventasAnalisisDataSource.topDiezCategoriasVentas.totalMontos}],noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.topDiezCategoriasVentas.colores,chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{barHeight:"100%",distributed:!0,horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,textAnchor:"middle",formatter:function(l){return o.format(l)},offsetY:-6,style:{colors:["#FFFFFF"],fontSize:"12px",fontWeight:"bold"},dropShadow:{enabled:!0,top:1,left:1,blur:2,color:"#000000",opacity:.5}},stroke:{width:1,colors:["#fff"]},tooltip:{enabled:!0,y:{formatter:l=>o.format(l)}},xaxis:{categories:this.ventasAnalisisDataSource.topDiezCategoriasVentas.categorias,labels:{show:!1,style:{fontSize:"12px"},formatter:function(l){return"number"==typeof l?o.format(l):l}}}}}generarChartEvolucionFecha(){const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda);this.chartEvolucionVentasFecha={series:[{color:"#056DB6",name:"Total",data:this.ventasAnalisisDataSource.evolucionVentasFecha.totalVenta}],noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},chart:{height:350,type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!0,textAnchor:"start",formatter:function(l){return o.format(l)},offsetX:0,dropShadow:{enabled:!0}},stroke:{show:!0,width:2,colors:["transparent"]},tooltip:{enabled:!0,y:{formatter:l=>o.format(l)}},yaxis:{labels:{formatter:l=>this.currencyNumberFormat.format(l),style:{fontSize:"12px"}}},xaxis:{categories:this.rangoFecha,labels:{show:!0,style:{fontSize:"12px"},formatter:function(l){return"number"==typeof l?o.format(l):l},rotateAlways:!0,rotate:-45}},fill:{opacity:1}}}getReportePorCategoriaAsync(){if(this.ventasAnalisisDataSource.distribucionVentasCategoria.totalVentasCategorias.length==m.Q6.Cero&&this.ventasAnalisisDataSource.distribucionVentasCategoria.totalVentasCategorias.length==m.Q6.Cero||this.filtroAnalisisVentasForm.invalid)return;const o=this.obtenerRequestReporte();this.isExportingReport=m.vU.True,this._detalleVentasService.GetReportePorCategoriasAsync(o).subscribe(l=>{if(this.isExportingReport=m.vU.False,l){const s=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.ms-excel"})),d=document.createElement("a");d.download=`Reporte_Venta_Por_Categorias_${this.getFechaFiltroCadenaReporte()}.xlsx`,d.href=s,d.click(),d.parentNode?.removeChild(d)}},l=>{if(l.status==m.GL.Forbidden)return this._toolService.showWarning(h.T.InvalidPermisos,h.T.Tittle),this.isExportingReport=m.vU.False=m.vU.False,void console.log(l);this._toolService.showError(h.J.Transaction,h.J.Tittle),this.isExportingReport=m.vU.False,console.log(l)})}getFechaFiltroCadenaReporte(){return`del_${this._toolService.formatoFecha(this.fechaInicio)}_hasta_${this._toolService.formatoFecha(this.fechaFin)}`.trim()}getRangeDate(){return this.ventasAnalisisDataSource.evolucionVentasFecha.fechaVenta.map(o=>this._toolService.formatoFecha(o))}isMobilSize(){return this._toolService.isMobilSize()}obtenerRequest(){const o=new vt;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstCategorias=[],this.selectCategorias&&this.selectCategorias.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstCategorias?.push(s.value.id)}),this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,o}obtenerRequestReporte(){const o=new vt;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstCategorias=[],this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,this.selectCategorias&&this.selectCategorias.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstCategorias?.push(s.value.id)}),o}getFechaFiltroCadena(){const o=this._toolService.formatoFecha(this.fechaInicio),l=this._toolService.formatoFecha(this.fechaFin);this.filtroRangoFecha=`Desde ${o} Hasta ${l}`.trim()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closedDrawer(){this.matDrawer.close()}showSkeleton(){this.skeleton=m.vU.Show}hideSkeleton(){this.skeleton=m.vU.Hide}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(ce.I),e.Y36(x.QS),e.Y36(se.o),e.Y36($e.n),e.Y36(ve.I))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-reporte-ventas-categorias-page"]],viewQuery:function(l,s){if(1&l&&(e.Gf(ga,5),e.Gf(ha,5)),2&l){let d;e.iGM(d=e.CRH())&&(s.selectCategorias=d.first),e.iGM(d=e.CRH())&&(s.matDrawer=d.first)}},decls:57,vars:33,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","",3,"min","max","matDatepicker","formControlName","click"],["matSuffix","",3,"for"],["pickerInicio",""],[4,"ngIf"],["pickerFin",""],["multiple","",3,"formControlName"],["selectCategoriaItem",""],[3,"model","values"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","items-center","ml-6"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class"," sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","count","40",3,"theme",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"color-indicator"],[3,"value"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["count","40",1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",3,"theme"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],["class","sm:col-span-2 md:col-span-4 flex flex-col    overflow-hidden"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-1","grid-flow-row","gap-6","w-full","mt-8","sm:mt-4"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","items-center"],["alt","No hay datos disponibles",1,"w-72","object-cover",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[3,"plotOptions","series","chart","xaxis","yaxis","tooltip","dataLabels","labels","noData","grid"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","text-black"],["mat-icon-button","","color","primary"],[1,"flex-auto","w-full","h-80",3,"series","chart","labels","responsive","noData","colors","tooltip","dataLabels","plotOptions"],[3,"series","chart","colors","dataLabels","plotOptions","tooltip","noData","xaxis"]],template:function(l,s){if(1&l){const d=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(2);return e.KtG(v.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Fecha Venta Inicio"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(18);return e.KtG(v.open())}),e.qZA(),e._UZ(16,"mat-datepicker-toggle",12)(17,"mat-datepicker",null,13),e.YNc(19,va,2,0,"mat-error",14),e.qZA(),e.TgZ(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Fecha Venta Fin"),e.qZA(),e.TgZ(23,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(26);return e.KtG(v.open())}),e.qZA(),e._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",null,15),e.YNc(27,wa,2,0,"mat-error",14),e.qZA(),e.TgZ(28,"mat-form-field",10)(29,"mat-label"),e._uU(30,"Categor\xedas"),e.qZA(),e.TgZ(31,"mat-select",16,17)(33,"mat-select-trigger"),e.YNc(34,ba,2,1,"ng-container",14),e.qZA(),e._UZ(35,"app-selectAll",18),e.YNc(36,Ht,3,4,"mat-option",19),e.qZA(),e.YNc(37,Ot,2,0,"mat-error",14),e.qZA(),e.TgZ(38,"button",20),e.NdJ("click",function(){return s.getResumen(!0)}),e.YNc(39,xa,1,1,"mat-icon",21)(40,ya,2,0,"span",22)(41,Ca,1,2,"mat-progress-spinner",23),e.qZA()()()()(),e.TgZ(42,"mat-drawer-content",24)(43,"div",25)(44,"div",26)(45,"div",27)(46,"div")(47,"h2",28),e._uU(48,"Reporte de Ventas por Categor\xedas "),e.qZA(),e.TgZ(49,"div",29),e._uU(50),e.qZA()(),e.TgZ(51,"div",30),e.YNc(52,Ta,12,5)(53,Ve,8,6),e.qZA()(),e.TgZ(54,"div",31),e.YNc(55,Sa,1,2,"ngx-skeleton-loader",32)(56,ie,3,1,"div",33),e.qZA()()()()()}if(2&l){const d=e.MAs(18),g=e.MAs(26),v=e.MAs(32);e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",s.filtroAnalisisVentasForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",d)("formControlName","fechaVentaInicio"),e.xp6(1),e.Q6J("for",d),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaInicio").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",g)("formControlName","fechaVentaFin"),e.xp6(1),e.Q6J("for",g),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaFin").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","categoria"),e.xp6(3),e.Q6J("ngIf",(null==v.value?null:v.value.length)>0),e.xp6(1),e.Q6J("model",s.filtroAnalisisVentasForm.get("categoria"))("values",s.allCategoriaDataSource),e.xp6(1),e.Q6J("ngForOf",s.allCategoriaDataSource),e.xp6(1),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("categoria").hasError("required")),e.xp6(1),e.Q6J("color","primary")("disabled",s.filtroAnalisisVentasForm.invalid||s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",s.disabledBuscar),e.xp6(9),e.hij("",s.filtroRangoFecha," "),e.xp6(2),e.um2(52,s.isMobilSize()?52:53),e.xp6(3),e.Q6J("ngIf",s.skeleton),e.xp6(1),e.Q6J("ngIf",!s.skeleton)}},dependencies:[V.sg,V.O5,We.K,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,Ie.Nt,E.KE,E.hX,E.TO,E.R9,R.VK,R.OP,R.p6,X.gD,X.$L,Se.ey,wt.x,De.Ou,j.jA,j.kh,j.LW,b.lW,b.RK,we.Hw,Y.Mq,Y.hl,Y.nW,Ke.xr]})}return n})();class _t{}const Qe=["selectMarcaItem"],Fa=["matDrawer"];function Ia(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta inicio es requerido"),e.qZA())}function Da(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta fin es requerido"),e.qZA())}function jt(n,u){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function ke(n,u){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",35),e._uU(2),e.YNc(3,jt,2,0,"ng-container",14),e.qZA()),2&n){const o=u.$implicit,l=u.index;e.oxw(2);const s=e.MAs(32);e.xp6(1),e.Udp("background-color",null==o?null:o.color),e.xp6(1),e.hij(" ",o.nombre||"",""),e.xp6(1),e.Q6J("ngIf",l<s.value.length-1)}}function Ua(n,u){if(1&n&&(e.ynx(0),e.YNc(1,ke,4,4,"span",34),e.BQk()),2&n){e.oxw();const o=e.MAs(32);e.xp6(1),e.Q6J("ngForOf",o.value)}}function Ma(n,u){if(1&n&&(e.TgZ(0,"mat-option",36),e._UZ(1,"span",35),e._uU(2),e.qZA()),2&n){const o=u.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre,"")}}function Ea(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function Ra(n,u){1&n&&e._UZ(0,"mat-icon",37),2&n&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function qa(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Buscar"),e.qZA())}function Ja(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Ba(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",40),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,41)(4,"button",42),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",43),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorMarcaAsync())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",43),e._uU(11,"Exportar"),e.qZA()()()}if(2&n){const o=e.MAs(3),l=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",l.filtroAnalisisVentasForm.invalid||l.isExportingReport||l.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function Qa(n,u){1&n&&e._UZ(0,"mat-icon",46),2&n&&e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}function Na(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Exportar"),e.qZA())}function Ha(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Yt(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(1,"mat-icon",46),e.TgZ(2,"span",38),e._uU(3,"Filtrar"),e.qZA()(),e.TgZ(4,"button",47),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorMarcaAsync())}),e.YNc(5,Qa,1,1,"mat-icon",48)(6,Na,2,0,"span",22)(7,Ha,1,2,"mat-progress-spinner",23),e.qZA()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("color","primary")("disabled",o.filtroAnalisisVentasForm.invalid||o.isExportingReport||o.disabledExportar),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",o.isExportingReport)}}const Gt=()=>({"border-radius":"0",height:"50px"});function tt(n,u){1&n&&e._UZ(0,"ngx-skeleton-loader",49),2&n&&e.Q6J("theme",e.DdM(1,Gt))}function Oa(n,u){if(1&n&&(e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55),e._UZ(4,"img",56),e.TgZ(5,"div",57),e._uU(6),e.qZA(),e.TgZ(7,"div")(8,"p",58),e._uU(9,"Aplique otros filtros de b\xfasqueda "),e.qZA()()()()()()),2&n){const o=e.oxw(2);e.xp6(4),e.Q6J("src",o.imgNoDataHome,e.LSH),e.xp6(2),e.hij(" ",o.textoResultado,"")}}function za(n,u){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"div",61),e._uU(3,"Evoluci\xf3n por Marcas y Fechas"),e.qZA()(),e.TgZ(4,"div",53)(5,"div",54)(6,"div",54),e._UZ(7,"apx-chart",62),e.qZA()()()(),e.TgZ(8,"div",63)(9,"div",60)(10,"div",64),e._uU(11," Totalizado por Marcas "),e.qZA(),e._UZ(12,"button",65),e.qZA(),e.TgZ(13,"div",54),e._UZ(14,"apx-chart",66),e.qZA()(),e.TgZ(15,"div",63)(16,"div",60)(17,"div",64),e._uU(18," Marcas Destacadas "),e.qZA()(),e.TgZ(19,"div",54),e._UZ(20,"apx-chart",67),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(7),e.Q6J("plotOptions",o.chartEvolucionVentasMarcaFecha.plotOptions)("series",o.chartEvolucionVentasMarcaFecha.series)("chart",o.chartEvolucionVentasMarcaFecha.chart)("xaxis",o.chartEvolucionVentasMarcaFecha.xaxis)("yaxis",o.chartEvolucionVentasMarcaFecha.yaxis)("tooltip",o.chartEvolucionVentasMarcaFecha.tooltip)("dataLabels",o.chartEvolucionVentasMarcaFecha.dataLabels)("labels",o.chartEvolucionVentasMarcaFecha.labels)("noData",o.chartEvolucionVentasMarcaFecha.noData)("grid",o.chartEvolucionVentasMarcaFecha.grid),e.xp6(7),e.Q6J("series",o.chartTotalizadoMarcas.series)("chart",o.chartTotalizadoMarcas.chart)("labels",o.chartTotalizadoMarcas.labels)("responsive",o.chartTotalizadoMarcas.responsive)("noData",o.chartTotalizadoMarcas.noData)("colors",o.chartTotalizadoMarcas.colors)("tooltip",o.chartTotalizadoMarcas.tooltip)("dataLabels",o.chartTotalizadoMarcas.dataLabels)("plotOptions",o.chartTotalizadoMarcas.plotOptions),e.xp6(6),e.Q6J("series",o.chartTopDiezMarcas.series)("chart",o.chartTopDiezMarcas.chart)("colors",o.chartTopDiezMarcas.colors)("dataLabels",o.chartTopDiezMarcas.dataLabels)("plotOptions",o.chartTopDiezMarcas.plotOptions)("tooltip",o.chartTopDiezMarcas.tooltip)("noData",o.chartTopDiezMarcas.noData)("xaxis",o.chartTopDiezMarcas.xaxis)}}function La(n,u){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Oa,10,2,"div",51)(2,za,21,27),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.um2(1,0==o.ventasAnalisisDataSource.distribucionVentasMarca.totalVentasMarcas.length?1:2)}}let bt=(()=>{class n{constructor(o,l,s,d,g){this._securityService=o,this._formBuilder=l,this._toolService=s,this._detalleVentasService=d,this._inventarioService=g,this.disabledExportar=m.vU.False,this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.isExportingReport=m.vU.False,this.chartEvolucionVentasMarcaFecha={},this.chartTotalizadoMarcas={},this.chartTopDiezMarcas={},this.disabledBuscar=m.vU.False,this._unsubscribeAll=new ge.x,this.skeleton=m.vU.False,this.minDate=this._toolService.getMinDateFIlter(),this.maxDate=this._toolService.getMaxDateFIlter(),this.imgNoDataHome=m.HZ.noDataHome,this.textoResultado=m.RO.NoDataResult,this.filtroRangoFecha=""}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getResumen(m.vU.False),this.getFilterComboConsulta()}formFiltros(){this.filtroAnalisisVentasForm=this._formBuilder.group({fechaVentaInicio:[this._toolService.getStartDateOfMonth(),[x.kI.required]],fechaVentaFin:[this._toolService.getEndDateOfMonth(),[x.kI.required]],marcas:[""]}),this.currencyNumberFormat=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda)}getFilterComboConsulta(){const o=new et.Z;o.nombre="",o.idUsuario=this.decodeToken.idUsuario,(0,ye.D)({dataMarcas:this._inventarioService.GetAllMarcaByFilterAsync(o)}).subscribe({next:l=>{this.allMarcasDataSource=l.dataMarcas,this.filtroAnalisisVentasForm.get("marcas")?.setValue(this.allMarcasDataSource)},error:l=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,console.log(l)}})}getResumen(o){this.showSkeleton();const l=this.obtenerRequest();this.disabledBuscar=m.vU.True,this._detalleVentasService.GetAnalisisMarcasByFilterAsync(l).subscribe(s=>{this.ventasAnalisisDataSource=s,this.disabledBuscar=m.vU.False,this.getFechaFiltroCadena(),this.generateCharts(),o&&this.closedDrawer(),this.hideSkeleton(),this.disabledExportar=s.distribucionVentasMarca.totalVentasMarcas.length>m.Q6.Cero?m.vU.False:m.vU.True},s=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,console.log(s),o&&this.closedDrawer()})}generateCharts(){this.rangoFecha=this.getRangeDate(),this.generarchartEvolucionVentasMarcaFecha(),this.generarchartTotalizadoMarcas(),this.generarChartTopDiezMarcas()}getRangeDate(){return this.ventasAnalisisDataSource.evolucionVentasFecha.fechaVenta.map(o=>this._toolService.formatoFecha(o))}generarchartEvolucionVentasMarcaFecha(){const o=this.ventasAnalisisDataSource.lstEvolucionVentasMarcaFecha.map(l=>({color:l.colorMarca,name:l.nombreMarca,data:this.rangoFecha.map(s=>{const d=l.datosVentasAgrupados.find(g=>this._toolService.formatoFecha(g.fechaVenta)===s);return d?d.montoVentaTotal:m.Q6.Cero})}));this.chartEvolucionVentasMarcaFecha={series:o,chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1,style:{fontSize:"12px"}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.rangoFecha,labels:{rotateAlways:!0,rotate:-45}},yaxis:{labels:{formatter:l=>this.currencyNumberFormat.format(l),style:{fontSize:"12px"}}},fill:{opacity:1},tooltip:{enabled:!0,y:{formatter:l=>this.currencyNumberFormat.format(l)}}}}generarchartTotalizadoMarcas(){const o=this.isMobilSize(),l=this.ventasAnalisisDataSource.distribucionVentasMarca.totalVentasMarcas.reduce((s,d)=>s+d,0);this.chartTotalizadoMarcas={chart:{type:"donut",fontFamily:"inherit",foreColor:"inherit",height:"95%"},responsive:[{breakpoint:600,options:{chart:{width:"100%",height:350},legend:{position:"bottom"}}}],labels:this.ventasAnalisisDataSource.distribucionVentasMarca.nombreMarcas,series:this.ventasAnalisisDataSource.distribucionVentasMarca.totalVentasMarcas,noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.distribucionVentasMarca.coloresMarcas,tooltip:{enabled:!0,y:{formatter:s=>this.currencyNumberFormat.format(s)}},dataLabels:{enabled:!0},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!1},value:{show:!0,fontSize:o?"19px":"22px",color:"#494949",offsetY:0,formatter:()=>this.currencyNumberFormat.format(l)},total:{show:!0,showAlways:!0,label:"",fontSize:o?"19px":"22px",color:"#494949",formatter:()=>this.currencyNumberFormat.format(l)}}}}}}}generarChartTopDiezMarcas(){const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda);this.chartTopDiezMarcas={series:[{name:"Total",data:this.ventasAnalisisDataSource.topDiezMarcasVentas.totalMontos}],noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.topDiezMarcasVentas.colores,chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{barHeight:"100%",distributed:!0,horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,textAnchor:"middle",formatter:function(l){return o.format(l)},offsetY:-6,style:{colors:["#FFFFFF"],fontSize:"12px",fontWeight:"bold"},dropShadow:{enabled:!0,top:1,left:1,blur:2,color:"#000000",opacity:.5}},stroke:{width:1,colors:["#fff"]},tooltip:{enabled:!0,y:{formatter:l=>o.format(l)}},xaxis:{categories:this.ventasAnalisisDataSource.topDiezMarcasVentas.marcas,labels:{show:!1,style:{fontSize:"12px"},formatter:function(l){return"number"==typeof l?o.format(l):l}}}}}getReportePorMarcaAsync(){if(this.ventasAnalisisDataSource.distribucionVentasMarca.totalVentasMarcas.length==m.Q6.Cero&&this.ventasAnalisisDataSource.distribucionVentasMarca.totalVentasMarcas.length==m.Q6.Cero||this.filtroAnalisisVentasForm.invalid)return;const o=this.obtenerRequestReporte();this.isExportingReport=m.vU.True,this._detalleVentasService.GetReportePorMarcasAsync(o).subscribe(l=>{if(this.isExportingReport=m.vU.False,l){const s=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.ms-excel"})),d=document.createElement("a");d.download=`Reporte_Venta_Por_Marca_${this.getFechaFiltroCadenaReporte()}.xlsx`,d.href=s,d.click(),d.parentNode?.removeChild(d)}},l=>{if(l.status==m.GL.Forbidden)return this._toolService.showWarning(h.T.InvalidPermisos,h.T.Tittle),this.isExportingReport=m.vU.False=m.vU.False,void console.log(l);this._toolService.showError(h.J.Transaction,h.J.Tittle),this.isExportingReport=m.vU.False,console.log(l)})}getFechaFiltroCadenaReporte(){return`del_${this._toolService.formatoFecha(this.fechaInicio)}_hasta_${this._toolService.formatoFecha(this.fechaFin)}`.trim()}isMobilSize(){return this._toolService.isMobilSize()}obtenerRequest(){const o=new _t;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstMarca=[],this.selectMarcas&&this.selectMarcas.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstMarca?.push(s.value.id)}),this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,o}obtenerRequestReporte(){const o=new _t;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstMarca=[],this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,this.selectMarcas&&this.selectMarcas.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstMarca?.push(s.value.id)}),o}getFechaFiltroCadena(){const o=this._toolService.formatoFecha(this.fechaInicio),l=this._toolService.formatoFecha(this.fechaFin);this.filtroRangoFecha=`Desde ${o} Hasta ${l}`.trim()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closedDrawer(){this.matDrawer.close()}showSkeleton(){this.skeleton=m.vU.Show}hideSkeleton(){this.skeleton=m.vU.Hide}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(ce.I),e.Y36(x.QS),e.Y36(se.o),e.Y36($e.n),e.Y36(ve.I))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-reporte-ventas-marcas-page"]],viewQuery:function(l,s){if(1&l&&(e.Gf(Qe,5),e.Gf(Fa,5)),2&l){let d;e.iGM(d=e.CRH())&&(s.selectMarcas=d.first),e.iGM(d=e.CRH())&&(s.matDrawer=d.first)}},decls:57,vars:33,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","",3,"min","max","matDatepicker","formControlName","click"],["matSuffix","",3,"for"],["pickerInicio",""],[4,"ngIf"],["pickerFin",""],["multiple","",3,"formControlName"],["selectMarcaItem",""],[3,"model","values"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","items-center","ml-6"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class"," sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","count","40",3,"theme",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"color-indicator"],[3,"value"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["count","40",1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",3,"theme"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],["class","sm:col-span-2 md:col-span-4 flex flex-col    overflow-hidden"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-1","grid-flow-row","gap-6","w-full","mt-8","sm:mt-4"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","items-center"],["alt","No hay datos disponibles",1,"w-72","object-cover",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[3,"plotOptions","series","chart","xaxis","yaxis","tooltip","dataLabels","labels","noData","grid"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","text-black"],["mat-icon-button","","color","primary"],[1,"flex-auto","w-full","h-80",3,"series","chart","labels","responsive","noData","colors","tooltip","dataLabels","plotOptions"],[3,"series","chart","colors","dataLabels","plotOptions","tooltip","noData","xaxis"]],template:function(l,s){if(1&l){const d=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(2);return e.KtG(v.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Fecha Venta Inicio"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(18);return e.KtG(v.open())}),e.qZA(),e._UZ(16,"mat-datepicker-toggle",12)(17,"mat-datepicker",null,13),e.YNc(19,Ia,2,0,"mat-error",14),e.qZA(),e.TgZ(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Fecha Venta Fin"),e.qZA(),e.TgZ(23,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(26);return e.KtG(v.open())}),e.qZA(),e._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",null,15),e.YNc(27,Da,2,0,"mat-error",14),e.qZA(),e.TgZ(28,"mat-form-field",10)(29,"mat-label"),e._uU(30,"Marcas"),e.qZA(),e.TgZ(31,"mat-select",16,17)(33,"mat-select-trigger"),e.YNc(34,Ua,2,1,"ng-container",14),e.qZA(),e._UZ(35,"app-selectAll",18),e.YNc(36,Ma,3,4,"mat-option",19),e.qZA(),e.YNc(37,Ea,2,0,"mat-error",14),e.qZA(),e.TgZ(38,"button",20),e.NdJ("click",function(){return s.getResumen(!0)}),e.YNc(39,Ra,1,1,"mat-icon",21)(40,qa,2,0,"span",22)(41,Ja,1,2,"mat-progress-spinner",23),e.qZA()()()()(),e.TgZ(42,"mat-drawer-content",24)(43,"div",25)(44,"div",26)(45,"div",27)(46,"div")(47,"h2",28),e._uU(48,"Reporte de Ventas por Marcas "),e.qZA(),e.TgZ(49,"div",29),e._uU(50),e.qZA()(),e.TgZ(51,"div",30),e.YNc(52,Ba,12,5)(53,Yt,8,6),e.qZA()(),e.TgZ(54,"div",31),e.YNc(55,tt,1,2,"ngx-skeleton-loader",32)(56,La,3,1,"div",33),e.qZA()()()()()}if(2&l){const d=e.MAs(18),g=e.MAs(26),v=e.MAs(32);e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",s.filtroAnalisisVentasForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",d)("formControlName","fechaVentaInicio"),e.xp6(1),e.Q6J("for",d),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaInicio").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",g)("formControlName","fechaVentaFin"),e.xp6(1),e.Q6J("for",g),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaFin").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","marcas"),e.xp6(3),e.Q6J("ngIf",(null==v.value?null:v.value.length)>0),e.xp6(1),e.Q6J("model",s.filtroAnalisisVentasForm.get("marcas"))("values",s.allMarcasDataSource),e.xp6(1),e.Q6J("ngForOf",s.allMarcasDataSource),e.xp6(1),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("marcas").hasError("required")),e.xp6(1),e.Q6J("color","primary")("disabled",s.filtroAnalisisVentasForm.invalid||s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",s.disabledBuscar),e.xp6(9),e.hij("",s.filtroRangoFecha," "),e.xp6(2),e.um2(52,s.isMobilSize()?52:53),e.xp6(3),e.Q6J("ngIf",s.skeleton),e.xp6(1),e.Q6J("ngIf",!s.skeleton)}},dependencies:[V.sg,V.O5,We.K,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,Ie.Nt,E.KE,E.hX,E.TO,E.R9,R.VK,R.OP,R.p6,X.gD,X.$L,Se.ey,wt.x,De.Ou,j.jA,j.kh,j.LW,b.lW,b.RK,we.Hw,Y.Mq,Y.hl,Y.nW,Ke.xr]})}return n})();class $t{}const xt=["selectProductoItem"],Wt=["matDrawer"];function Kt(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta inicio es requerido"),e.qZA())}function yt(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha Venta fin es requerido"),e.qZA())}function ot(n,u){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function ja(n,u){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",35),e._uU(2),e.YNc(3,ot,2,0,"ng-container",14),e.qZA()),2&n){const o=u.$implicit,l=u.index;e.oxw(2);const s=e.MAs(32);e.xp6(1),e.Udp("background-color",null==o?null:o.color),e.xp6(1),e.hij(" ",o.nombre||"",""),e.xp6(1),e.Q6J("ngIf",l<s.value.length-1)}}function Xt(n,u){if(1&n&&(e.ynx(0),e.YNc(1,ja,4,4,"span",34),e.BQk()),2&n){e.oxw();const o=e.MAs(32);e.xp6(1),e.Q6J("ngForOf",o.value)}}function eo(n,u){if(1&n&&(e.TgZ(0,"mat-option",36),e._UZ(1,"span",35),e._uU(2),e.qZA()),2&n){const o=u.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre,"")}}function to(n,u){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Producto es requerido"),e.qZA())}function oo(n,u){1&n&&e._UZ(0,"mat-icon",37),2&n&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function ao(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Buscar"),e.qZA())}function no(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function io(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",40),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,41)(4,"button",42),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",43),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorProductoAsync())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",43),e._uU(11,"Exportar"),e.qZA()()()}if(2&n){const o=e.MAs(3),l=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",l.filtroAnalisisVentasForm.invalid||l.isExportingReport||l.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function ro(n,u){1&n&&e._UZ(0,"mat-icon",46),2&n&&e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}function so(n,u){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Exportar"),e.qZA())}function Pe(n,u){1&n&&e._UZ(0,"mat-progress-spinner",39),2&n&&e.Q6J("diameter",24)("mode","indeterminate")}function Ya(n,u){if(1&n){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o),e.oxw();const s=e.MAs(2);return e.KtG(s.open())}),e._UZ(1,"mat-icon",46),e.TgZ(2,"span",38),e._uU(3,"Filtrar"),e.qZA()(),e.TgZ(4,"button",47),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.getReportePorProductoAsync())}),e.YNc(5,ro,1,1,"mat-icon",48)(6,so,2,0,"span",22)(7,Pe,1,2,"mat-progress-spinner",23),e.qZA()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("color","primary")("disabled",o.filtroAnalisisVentasForm.invalid||o.isExportingReport||o.disabledExportar),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",!o.isExportingReport),e.xp6(1),e.Q6J("ngIf",o.isExportingReport)}}const Ga=()=>({"border-radius":"0",height:"50px"});function $a(n,u){1&n&&e._UZ(0,"ngx-skeleton-loader",49),2&n&&e.Q6J("theme",e.DdM(1,Ga))}function lo(n,u){if(1&n&&(e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55),e._UZ(4,"img",56),e.TgZ(5,"div",57),e._uU(6),e.qZA(),e.TgZ(7,"div")(8,"p",58),e._uU(9,"Aplique otros filtros de b\xfasqueda "),e.qZA()()()()()()),2&n){const o=e.oxw(2);e.xp6(4),e.Q6J("src",o.imgNoDataHome,e.LSH),e.xp6(2),e.hij(" ",o.textoResultado,"")}}function co(n,u){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"div",61),e._uU(3,"Evoluci\xf3n por Productos y Fechas"),e.qZA()(),e.TgZ(4,"div",53)(5,"div",54)(6,"div",54),e._UZ(7,"apx-chart",62),e.qZA()()()(),e.TgZ(8,"div",63)(9,"div",60)(10,"div",64),e._uU(11," Totalizado por Productos "),e.qZA(),e._UZ(12,"button",65),e.qZA(),e.TgZ(13,"div",54),e._UZ(14,"apx-chart",66),e.qZA()(),e.TgZ(15,"div",63)(16,"div",60)(17,"div",64),e._uU(18," Productos Destacadas "),e.qZA()(),e.TgZ(19,"div",54),e._UZ(20,"apx-chart",67),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(7),e.Q6J("plotOptions",o.chartEvolucionVentasProductoFecha.plotOptions)("series",o.chartEvolucionVentasProductoFecha.series)("chart",o.chartEvolucionVentasProductoFecha.chart)("xaxis",o.chartEvolucionVentasProductoFecha.xaxis)("yaxis",o.chartEvolucionVentasProductoFecha.yaxis)("tooltip",o.chartEvolucionVentasProductoFecha.tooltip)("dataLabels",o.chartEvolucionVentasProductoFecha.dataLabels)("labels",o.chartEvolucionVentasProductoFecha.labels)("noData",o.chartEvolucionVentasProductoFecha.noData)("grid",o.chartEvolucionVentasProductoFecha.grid),e.xp6(7),e.Q6J("series",o.chartTotalizadoProductos.series)("chart",o.chartTotalizadoProductos.chart)("labels",o.chartTotalizadoProductos.labels)("responsive",o.chartTotalizadoProductos.responsive)("noData",o.chartTotalizadoProductos.noData)("colors",o.chartTotalizadoProductos.colors)("tooltip",o.chartTotalizadoProductos.tooltip)("dataLabels",o.chartTotalizadoProductos.dataLabels)("plotOptions",o.chartTotalizadoProductos.plotOptions),e.xp6(6),e.Q6J("series",o.chartTopDiezProductos.series)("chart",o.chartTopDiezProductos.chart)("colors",o.chartTopDiezProductos.colors)("dataLabels",o.chartTopDiezProductos.dataLabels)("plotOptions",o.chartTopDiezProductos.plotOptions)("tooltip",o.chartTopDiezProductos.tooltip)("noData",o.chartTopDiezProductos.noData)("xaxis",o.chartTopDiezProductos.xaxis)}}function uo(n,u){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,lo,10,2,"div",51)(2,co,21,27),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.um2(1,0==o.ventasAnalisisDataSource.distribucionVentasProducto.totalVentasProductos.length?1:2)}}const Wa=[{path:"ventas",children:[{path:"registro",component:qe,data:{title:"Registro de Ventas"}},{path:"historial",component:ht,data:{title:"Historial de las Ventas"}},{path:"reporte-categorias",component:Lt,data:{title:"Reporte de Ventas Por Categor\xedas"}},{path:"reporte-marcas",component:bt,data:{title:"Reporte de Ventas Por Marcas"}},{path:"reporte-productos",component:(()=>{class n{constructor(o,l,s,d,g){this._securityService=o,this._formBuilder=l,this._toolService=s,this._detalleVentasService=d,this._inventarioService=g,this.disabledExportar=m.vU.False,this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.isExportingReport=m.vU.False,this.chartEvolucionVentasProductoFecha={},this.chartTotalizadoProductos={},this.chartTopDiezProductos={},this.disabledBuscar=m.vU.False,this._unsubscribeAll=new ge.x,this.skeleton=m.vU.False,this.minDate=this._toolService.getMinDateFIlter(),this.maxDate=this._toolService.getMaxDateFIlter(),this.imgNoDataHome=m.HZ.noDataHome,this.textoResultado=m.RO.NoDataResult,this.filtroRangoFecha=""}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getResumen(m.vU.False),this.getFilterComboConsulta()}formFiltros(){this.filtroAnalisisVentasForm=this._formBuilder.group({fechaVentaInicio:[this._toolService.getStartDateOfMonth(),[x.kI.required]],fechaVentaFin:[this._toolService.getEndDateOfMonth(),[x.kI.required]],productos:[""]}),this.currencyNumberFormat=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda)}getFilterComboConsulta(){(0,ye.D)({dataProductos:this._inventarioService.GetAllProductoForComboBoxAsync()}).subscribe({next:o=>{this.allProductosDataSource=o.dataProductos,this.filtroAnalisisVentasForm.get("productos")?.setValue(this.allProductosDataSource)},error:o=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,this.disabledExportar=m.vU.True,console.log(o)}})}getResumen(o){this.showSkeleton();const l=this.obtenerRequest();this.disabledBuscar=m.vU.True,this._detalleVentasService.GetAnalisisProductosByFilterAsync(l).subscribe(s=>{this.ventasAnalisisDataSource=s,this.disabledBuscar=m.vU.False,this.getFechaFiltroCadena(),this.generateCharts(),o&&this.closedDrawer(),this.hideSkeleton(),this.disabledExportar=s.distribucionVentasProducto.totalVentasProductos.length>m.Q6.Cero?m.vU.False:m.vU.True},s=>{this._toolService.showError(h.J.Transaction,h.J.Tittle),this.disabledBuscar=m.vU.False,console.log(s),o&&this.closedDrawer()})}generateCharts(){this.rangoFecha=this.getRangeDate(),this.generarchartEvolucionVentasProductoFecha(),this.generarchartTotalizadoProductos(),this.generarChartTopDiezProductos()}getRangeDate(){return this.ventasAnalisisDataSource.evolucionVentasFecha.fechaVenta.map(o=>this._toolService.formatoFecha(o))}generarchartEvolucionVentasProductoFecha(){const o=this.ventasAnalisisDataSource.lstEvolucionVentasProductoFecha.map(l=>({color:l.colorProducto,name:l.nombreProducto,data:this.rangoFecha.map(s=>{const d=l.datosVentasAgrupados.find(g=>this._toolService.formatoFecha(g.fechaVenta)===s);return d?d.montoVentaTotal:m.Q6.Cero})}));this.chartEvolucionVentasProductoFecha={series:o,chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!1}},noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1,style:{fontSize:"12px"}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.rangoFecha,labels:{rotateAlways:!0,rotate:-45}},yaxis:{labels:{formatter:l=>this.currencyNumberFormat.format(l),style:{fontSize:"12px"}}},fill:{opacity:1},tooltip:{enabled:!0,y:{formatter:l=>this.currencyNumberFormat.format(l)}}}}generarchartTotalizadoProductos(){const o=this.isMobilSize(),l=this.ventasAnalisisDataSource.distribucionVentasProducto.totalVentasProductos.reduce((s,d)=>s+d,0);this.chartTotalizadoProductos={chart:{type:"donut",fontFamily:"inherit",foreColor:"inherit",height:"95%"},responsive:[{breakpoint:600,options:{chart:{width:"100%",height:350},legend:{position:"bottom"}}}],labels:this.ventasAnalisisDataSource.distribucionVentasProducto.nombreProductos,series:this.ventasAnalisisDataSource.distribucionVentasProducto.totalVentasProductos,noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.distribucionVentasProducto.coloresProductos,tooltip:{enabled:!0,y:{formatter:s=>this.currencyNumberFormat.format(s)}},dataLabels:{enabled:!0},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!1},value:{show:!0,fontSize:o?"19px":"22px",color:"#494949",offsetY:0,formatter:()=>this.currencyNumberFormat.format(l)},total:{show:!0,showAlways:!0,label:"",fontSize:o?"19px":"22px",color:"#494949",formatter:()=>this.currencyNumberFormat.format(l)}}}}}}}generarChartTopDiezProductos(){const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda);this.chartTopDiezProductos={series:[{name:"Total",data:this.ventasAnalisisDataSource.topDiezProductosVentas.totalMontos}],noData:{text:"Seleccione una categor\xeda",align:"center",verticalAlign:"middle",style:{color:"#000000",fontSize:"14px"}},colors:this.ventasAnalisisDataSource.topDiezProductosVentas.colores,chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{barHeight:"100%",distributed:!0,horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,textAnchor:"middle",formatter:function(l){return o.format(l)},offsetY:-6,style:{colors:["#FFFFFF"],fontSize:"12px",fontWeight:"bold"},dropShadow:{enabled:!0,top:1,left:1,blur:2,color:"#000000",opacity:.5}},stroke:{width:1,colors:["#fff"]},tooltip:{enabled:!0,y:{formatter:l=>o.format(l)}},xaxis:{categories:this.ventasAnalisisDataSource.topDiezProductosVentas.productos,labels:{show:!1,style:{fontSize:"12px"},formatter:function(l){return"number"==typeof l?o.format(l):l}}}}}getReportePorProductoAsync(){if(this.ventasAnalisisDataSource.distribucionVentasProducto.totalVentasProductos.length==m.Q6.Cero&&this.ventasAnalisisDataSource.distribucionVentasProducto.totalVentasProductos.length==m.Q6.Cero||this.filtroAnalisisVentasForm.invalid)return;const o=this.obtenerRequestReporte();this.isExportingReport=m.vU.True,this._detalleVentasService.GetReportePorProductosAsync(o).subscribe(l=>{if(this.isExportingReport=m.vU.False,l){const s=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.ms-excel"})),d=document.createElement("a");d.download=`Reporte_Venta_Por_Productos_${this.getFechaFiltroCadenaReporte()}.xlsx`,d.href=s,d.click(),d.parentNode?.removeChild(d)}},l=>{if(l.status==m.GL.Forbidden)return this._toolService.showWarning(h.T.InvalidPermisos,h.T.Tittle),this.isExportingReport=m.vU.False=m.vU.False,void console.log(l);this._toolService.showError(h.J.Transaction,h.J.Tittle),this.isExportingReport=m.vU.False,console.log(l)})}getFechaFiltroCadenaReporte(){return`del_${this._toolService.formatoFecha(this.fechaInicio)}_hasta_${this._toolService.formatoFecha(this.fechaFin)}`.trim()}isMobilSize(){return this._toolService.isMobilSize()}obtenerRequest(){const o=new $t;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstProductos=[],this.selectProductos&&this.selectProductos.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstProductos?.push(s.value.id)}),this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,o}obtenerRequestReporte(){const o=new $t;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.fechaVentaInicio=""==this.filtroAnalisisVentasForm.get("fechaVentaInicio").value?null:this.filtroAnalisisVentasForm.get("fechaVentaInicio").value,o.fechaVentaFin=""==this.filtroAnalisisVentasForm.get("fechaVentaFin").value?null:this.filtroAnalisisVentasForm.get("fechaVentaFin").value,o.lstProductos=[],this.fechaInicio=o.fechaVentaInicio,this.fechaFin=o.fechaVentaFin,this.selectProductos&&this.selectProductos.options.filter(s=>1==s.selected&&0!=s.value).forEach(s=>{o.lstProductos?.push(s.value.id)}),o}getFechaFiltroCadena(){const o=this._toolService.formatoFecha(this.fechaInicio),l=this._toolService.formatoFecha(this.fechaFin);this.filtroRangoFecha=`Desde ${o} Hasta ${l}`.trim()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closedDrawer(){this.matDrawer.close()}showSkeleton(){this.skeleton=m.vU.Show}hideSkeleton(){this.skeleton=m.vU.Hide}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(ce.I),e.Y36(x.QS),e.Y36(se.o),e.Y36($e.n),e.Y36(ve.I))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-reporte-ventas-productos-page"]],viewQuery:function(l,s){if(1&l&&(e.Gf(xt,5),e.Gf(Wt,5)),2&l){let d;e.iGM(d=e.CRH())&&(s.selectProductos=d.first),e.iGM(d=e.CRH())&&(s.matDrawer=d.first)}},decls:57,vars:33,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","",3,"min","max","matDatepicker","formControlName","click"],["matSuffix","",3,"for"],["pickerInicio",""],[4,"ngIf"],["pickerFin",""],["multiple","",3,"formControlName"],["selectProductoItem",""],[3,"model","values"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","items-center","ml-6"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class"," sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","count","40",3,"theme",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"color-indicator"],[3,"value"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["count","40",1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",3,"theme"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],["class","sm:col-span-2 md:col-span-4 flex flex-col    overflow-hidden"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-1","grid-flow-row","gap-6","w-full","mt-8","sm:mt-4"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","items-center"],["alt","No hay datos disponibles",1,"w-72","object-cover",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[3,"plotOptions","series","chart","xaxis","yaxis","tooltip","dataLabels","labels","noData","grid"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","text-black"],["mat-icon-button","","color","primary"],[1,"flex-auto","w-full","h-80",3,"series","chart","labels","responsive","noData","colors","tooltip","dataLabels","plotOptions"],[3,"series","chart","colors","dataLabels","plotOptions","tooltip","noData","xaxis"]],template:function(l,s){if(1&l){const d=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(2);return e.KtG(v.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Fecha Venta Inicio"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(18);return e.KtG(v.open())}),e.qZA(),e._UZ(16,"mat-datepicker-toggle",12)(17,"mat-datepicker",null,13),e.YNc(19,Kt,2,0,"mat-error",14),e.qZA(),e.TgZ(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Fecha Venta Fin"),e.qZA(),e.TgZ(23,"input",11),e.NdJ("click",function(){e.CHM(d);const v=e.MAs(26);return e.KtG(v.open())}),e.qZA(),e._UZ(24,"mat-datepicker-toggle",12)(25,"mat-datepicker",null,15),e.YNc(27,yt,2,0,"mat-error",14),e.qZA(),e.TgZ(28,"mat-form-field",10)(29,"mat-label"),e._uU(30,"Productos"),e.qZA(),e.TgZ(31,"mat-select",16,17)(33,"mat-select-trigger"),e.YNc(34,Xt,2,1,"ng-container",14),e.qZA(),e._UZ(35,"app-selectAll",18),e.YNc(36,eo,3,4,"mat-option",19),e.qZA(),e.YNc(37,to,2,0,"mat-error",14),e.qZA(),e.TgZ(38,"button",20),e.NdJ("click",function(){return s.getResumen(!0)}),e.YNc(39,oo,1,1,"mat-icon",21)(40,ao,2,0,"span",22)(41,no,1,2,"mat-progress-spinner",23),e.qZA()()()()(),e.TgZ(42,"mat-drawer-content",24)(43,"div",25)(44,"div",26)(45,"div",27)(46,"div")(47,"h2",28),e._uU(48,"Reporte de Ventas por Productos "),e.qZA(),e.TgZ(49,"div",29),e._uU(50),e.qZA()(),e.TgZ(51,"div",30),e.YNc(52,io,12,5)(53,Ya,8,6),e.qZA()(),e.TgZ(54,"div",31),e.YNc(55,$a,1,2,"ngx-skeleton-loader",32)(56,uo,3,1,"div",33),e.qZA()()()()()}if(2&l){const d=e.MAs(18),g=e.MAs(26),v=e.MAs(32);e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",s.filtroAnalisisVentasForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",d)("formControlName","fechaVentaInicio"),e.xp6(1),e.Q6J("for",d),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaInicio").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",s.minDate)("max",s.maxDate)("matDatepicker",g)("formControlName","fechaVentaFin"),e.xp6(1),e.Q6J("for",g),e.xp6(3),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("fechaVentaFin").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","productos"),e.xp6(3),e.Q6J("ngIf",(null==v.value?null:v.value.length)>0),e.xp6(1),e.Q6J("model",s.filtroAnalisisVentasForm.get("productos"))("values",s.allProductosDataSource),e.xp6(1),e.Q6J("ngForOf",s.allProductosDataSource),e.xp6(1),e.Q6J("ngIf",s.filtroAnalisisVentasForm.get("productos").hasError("required")),e.xp6(1),e.Q6J("color","primary")("disabled",s.filtroAnalisisVentasForm.invalid||s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!s.disabledBuscar),e.xp6(1),e.Q6J("ngIf",s.disabledBuscar),e.xp6(9),e.hij("",s.filtroRangoFecha," "),e.xp6(2),e.um2(52,s.isMobilSize()?52:53),e.xp6(3),e.Q6J("ngIf",s.skeleton),e.xp6(1),e.Q6J("ngIf",!s.skeleton)}},dependencies:[V.sg,V.O5,We.K,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,Ie.Nt,E.KE,E.hX,E.TO,E.R9,R.VK,R.OP,R.p6,X.gD,X.$L,Se.ey,wt.x,De.Ou,j.jA,j.kh,j.LW,b.lW,b.RK,we.Hw,Y.Mq,Y.hl,Y.nW,Ke.xr]})}return n})(),data:{title:"Reporte de Ventas Por Productos"}}]}];let fo=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[M.Bz.forChild(Wa),M.Bz]})}return n})();const Ka=[V.ez,at.m,fo],po=[{provide:Se.Ad,useFactory:n=>n.getuserInfoLogueadoCultureInfo(),deps:[se.o]}];let en=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({providers:[V.uU,po],imports:[Ka,V.ez,at.m,fo]})}return n})()},3519:function(an){an.exports=function(){"use strict";function pe(r,t,a){return t=le(t),function _o(r,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function wo(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}(r,V()?Reflect.construct(t,a||[],le(r).constructor):t.apply(r,a))}function V(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!r})()}function se(r){var t=function Se(r,t){if("object"!=typeof r||!r)return r;var a=r[Symbol.toPrimitive];if(void 0!==a){var i=a.call(r,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==typeof t?t:String(t)}function M(r){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function y(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(r,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,se(i.key),i)}}function h(r,t,a){return t&&ge(r.prototype,t),a&&ge(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function le(r){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(r)}function he(r,t){return(he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i})(r,t)}function Oe(){return Oe=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,a,i){var c=function ee(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&null!==(r=le(r)););return r}(t,a);if(c){var p=Object.getOwnPropertyDescriptor(c,a);return p.get?p.get.call(arguments.length<3?t:i):p.value}},Oe.apply(this,arguments)}function Ze(r,t){return function e(r){if(Array.isArray(r))return r}(r)||function at(r,t){var a=null==r?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(null!=a){var i,c,p,w,C=[],T=!0,D=!1;try{if(p=(a=a.call(r)).next,0===t){if(Object(a)!==a)return;T=!1}else for(;!(T=(i=p.call(a)).done)&&(C.push(i.value),C.length!==t);T=!0);}catch(Ct){D=!0,c=Ct}finally{try{if(!T&&null!=a.return&&(w=a.return(),Object(w)!==w))return}finally{if(D)throw c}}return C}}(r,t)||ce(r,t)||function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(r){return function x(r){if(Array.isArray(r))return ve(r)}(r)||function Tt(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||ce(r)||function xo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(r,t){if(r){if("string"==typeof r)return ve(r,t);var a=Object.prototype.toString.call(r).slice(8,-1);if("Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a)return Array.from(r);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ve(r,t)}}function ve(r,t){(null==t||t>r.length)&&(t=r.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=r[a];return i}function Fe(r,t){return function it(r,t){return t.get?t.get.call(r):t.value}(r,nt(r,t,"get"))}function yo(r,t,a){return function Ie(r,t,a){if(t.set)t.set.call(r,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}(r,nt(r,t,"set"),a),a}function nt(r,t,a){if(!t.has(r))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(r)}function At(r,t,a){(function E(r,t){if(t.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r,t),t.set(r,a)}var b={},te=function(t){return new Promise(function(a){if(!t)return a();var i=window.scrollX,c=window.scrollY;b.restoreFocusTimeout=setTimeout(function(){b.previousActiveElement instanceof HTMLElement?(b.previousActiveElement.focus(),b.previousActiveElement=null):document.body&&document.body.focus(),a()},100),window.scrollTo(i,c)})},f=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(r,t){return r[t]="swal2-"+t,r},{}),Le=["success","warning","info","question","error"].reduce(function(r,t){return r[t]="swal2-"+t,r},{}),kt="SweetAlert2:",rt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},N=function(t){console.warn("".concat(kt," ").concat("object"===M(t)?t.join(" "):t))},ue=function(t){console.error("".concat(kt," ").concat(t))},Pt=[],Vo=function(t,a){!function(t){Pt.includes(t)||(Pt.push(t),N(t))}('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(a,'" instead.'))},je=function(t){return"function"==typeof t?t():t},st=function(t){return t&&"function"==typeof t.toPromise},Ue=function(t){return st(t)?t.toPromise():Promise.resolve(t)},_e=function(t){return t&&Promise.resolve(t)===t},Q=function(){return document.body.querySelector(".".concat(f.container))},Me=function(t){var a=Q();return a?a.querySelector(t):null},H=function(t){return Me(".".concat(t))},k=function(){return H(f.popup)},Ee=function(){return H(f.icon)},St=function(){return H(f.title)},lt=function(){return H(f["html-container"])},Zt=function(){return H(f.image)},ct=function(){return H(f["progress-steps"])},Ye=function(){return H(f["validation-message"])},W=function(){return Me(".".concat(f.actions," .").concat(f.confirm))},be=function(){return Me(".".concat(f.actions," .").concat(f.cancel))},de=function(){return Me(".".concat(f.actions," .").concat(f.deny))},xe=function(){return Me(".".concat(f.loader))},Re=function(){return H(f.actions)},Ft=function(){return H(f.footer)},qe=function(){return H(f["timer-progress-bar"])},ye=function(){return H(f.close)},Ce=function(){var t=k();if(!t)return[];var a=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(a).sort(function(w,C){var T=parseInt(w.getAttribute("tabindex")||"0"),D=parseInt(C.getAttribute("tabindex")||"0");return T>D?1:T<D?-1:0}),c=t.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),p=Array.from(c).filter(function(w){return"-1"!==w.getAttribute("tabindex")});return bo(new Set(i.concat(p))).filter(function(w){return z(w)})},ut=function(){return G(document.body,f.shown)&&!G(document.body,f["toast-shown"])&&!G(document.body,f["no-backdrop"])},Ge=function(){var t=k();return!!t&&G(t,f.toast)},O=function(t,a){if(t.textContent="",a){var c=(new DOMParser).parseFromString(a,"text/html"),p=c.querySelector("head");p&&Array.from(p.childNodes).forEach(function(C){t.appendChild(C)});var w=c.querySelector("body");w&&Array.from(w.childNodes).forEach(function(C){C instanceof HTMLVideoElement||C instanceof HTMLAudioElement?t.appendChild(C.cloneNode(!0)):t.appendChild(C)})}},G=function(t,a){if(!a)return!1;for(var i=a.split(/\s+/),c=0;c<i.length;c++)if(!t.classList.contains(i[c]))return!1;return!0},L=function(t,a,i){if(function(t,a){Array.from(t.classList).forEach(function(i){!Object.values(f).includes(i)&&!Object.values(Le).includes(i)&&!Object.values(a.showClass||{}).includes(i)&&t.classList.remove(i)})}(t,a),a.customClass&&a.customClass[i]){if("string"!=typeof a.customClass[i]&&!a.customClass[i].forEach)return void N("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(M(a.customClass[i]),'"'));A(t,a.customClass[i])}},R=function(t,a){if(!a)return null;switch(a){case"select":case"textarea":case"file":return t.querySelector(".".concat(f.popup," > .").concat(f[a]));case"checkbox":return t.querySelector(".".concat(f.popup," > .").concat(f.checkbox," input"));case"radio":return t.querySelector(".".concat(f.popup," > .").concat(f.radio," input:checked"))||t.querySelector(".".concat(f.popup," > .").concat(f.radio," input:first-child"));case"range":return t.querySelector(".".concat(f.popup," > .").concat(f.range," input"));default:return t.querySelector(".".concat(f.popup," > .").concat(f.input))}},It=function(t){if(t.focus(),"file"!==t.type){var a=t.value;t.value="",t.value=a}},Dt=function(t,a,i){!t||!a||("string"==typeof a&&(a=a.split(/\s+/).filter(Boolean)),a.forEach(function(c){Array.isArray(t)?t.forEach(function(p){i?p.classList.add(c):p.classList.remove(c)}):i?t.classList.add(c):t.classList.remove(c)}))},A=function(t,a){Dt(t,a,!0)},K=function(t,a){Dt(t,a,!1)},ae=function(t,a){for(var i=Array.from(t.children),c=0;c<i.length;c++){var p=i[c];if(p instanceof HTMLElement&&G(p,a))return p}},me=function(t,a,i){i==="".concat(parseInt(i))&&(i=parseInt(i)),i||0===parseInt(i)?t.style.setProperty(a,"number"==typeof i?"".concat(i,"px"):i):t.style.removeProperty(a)},q=function(t){t&&(t.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},B=function(t){t&&(t.style.display="none")},dt=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t&&new MutationObserver(function(){Je(t,t.innerHTML,a)}).observe(t,{childList:!0,subtree:!0})},Ut=function(t,a,i,c){var p=t.querySelector(a);p&&p.style.setProperty(i,c)},Je=function(t,a){a?q(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):B(t)},z=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},Mt=function(t){return t.scrollHeight>t.clientHeight},mt=function(t){var a=window.getComputedStyle(t),i=parseFloat(a.getPropertyValue("animation-duration")||"0"),c=parseFloat(a.getPropertyValue("transition-duration")||"0");return i>0||c>0},ft=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=qe();i&&z(i)&&(a&&(i.style.transition="none",i.style.width="100%"),setTimeout(function(){i.style.transition="width ".concat(t/1e3,"s linear"),i.style.width="0%"},10))},Et=function(){return typeof window>"u"||typeof document>"u"},Do='\n <div aria-labelledby="'.concat(f.title,'" aria-describedby="').concat(f["html-container"],'" class="').concat(f.popup,'" tabindex="-1">\n   <button type="button" class="').concat(f.close,'"></button>\n   <ul class="').concat(f["progress-steps"],'"></ul>\n   <div class="').concat(f.icon,'"></div>\n   <img class="').concat(f.image,'" />\n   <h2 class="').concat(f.title,'" id="').concat(f.title,'"></h2>\n   <div class="').concat(f["html-container"],'" id="').concat(f["html-container"],'"></div>\n   <input class="').concat(f.input,'" id="').concat(f.input,'" />\n   <input type="file" class="').concat(f.file,'" />\n   <div class="').concat(f.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(f.select,'" id="').concat(f.select,'"></select>\n   <div class="').concat(f.radio,'"></div>\n   <label class="').concat(f.checkbox,'">\n     <input type="checkbox" id="').concat(f.checkbox,'" />\n     <span class="').concat(f.label,'"></span>\n   </label>\n   <textarea class="').concat(f.textarea,'" id="').concat(f.textarea,'"></textarea>\n   <div class="').concat(f["validation-message"],'" id="').concat(f["validation-message"],'"></div>\n   <div class="').concat(f.actions,'">\n     <div class="').concat(f.loader,'"></div>\n     <button type="button" class="').concat(f.confirm,'"></button>\n     <button type="button" class="').concat(f.deny,'"></button>\n     <button type="button" class="').concat(f.cancel,'"></button>\n   </div>\n   <div class="').concat(f.footer,'"></div>\n   <div class="').concat(f["timer-progress-bar-container"],'">\n     <div class="').concat(f["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),fe=function(){b.currentInstance.resetValidationMessage()},Jo=function(t){var a=function(){var t=Q();return!!t&&(t.remove(),K([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0)}();if(Et())ue("SweetAlert2 requires document to initialize");else{var i=document.createElement("div");i.className=f.container,a&&A(i,f["no-transition"]),O(i,Do);var c=function(t){return"string"==typeof t?document.querySelector(t):t}(t.target);c.appendChild(i),function(t){var a=k();a.setAttribute("role",t.toast?"alert":"dialog"),a.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||a.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&A(Q(),f.rtl)}(c),function(){var t=k(),a=ae(t,f.input),i=ae(t,f.file),c=t.querySelector(".".concat(f.range," input")),p=t.querySelector(".".concat(f.range," output")),w=ae(t,f.select),C=t.querySelector(".".concat(f.checkbox," input")),T=ae(t,f.textarea);a.oninput=fe,i.onchange=fe,w.onchange=fe,C.onchange=fe,T.oninput=fe,c.oninput=function(){fe(),p.value=c.value},c.onchange=function(){fe(),p.value=c.value}}()}},pt=function(t,a){t instanceof HTMLElement?a.appendChild(t):"object"===M(t)?Bo(t,a):t&&O(a,t)},Bo=function(t,a){t.jquery?Qo(a,t):O(a,t.toString())},Qo=function(t,a){if(t.textContent="",0 in a)for(var i=0;i in a;i++)t.appendChild(a[i].cloneNode(!0));else t.appendChild(a.cloneNode(!0))},ne=function(){if(Et())return!1;var r=document.createElement("div");return typeof r.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof r.style.animation<"u"&&"animationend"}(),$e=function(t,a){var i=Re(),c=xe();!i||!c||(a.showConfirmButton||a.showDenyButton||a.showCancelButton?q(i):B(i),L(i,a,"actions"),function We(r,t,a){var i=W(),c=de(),p=be();!i||!c||!p||(X(i,"confirm",a),X(c,"deny",a),X(p,"cancel",a),function No(r,t,a,i){i.buttonsStyling?(A([r,t,a],f.styled),i.confirmButtonColor&&(r.style.backgroundColor=i.confirmButtonColor,A(r,f["default-outline"])),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,A(t,f["default-outline"])),i.cancelButtonColor&&(a.style.backgroundColor=i.cancelButtonColor,A(a,f["default-outline"]))):K([r,t,a],f.styled)}(i,c,p,a),a.reverseButtons&&(a.toast?(r.insertBefore(p,i),r.insertBefore(c,i)):(r.insertBefore(p,t),r.insertBefore(c,t),r.insertBefore(i,t))))}(i,c,a),O(c,a.loaderHtml||""),L(c,a,"loader"))};function X(r,t,a){var i=rt(t);Je(r,a["show".concat(i,"Button")],"inline-block"),O(r,a["".concat(t,"ButtonText")]||""),r.setAttribute("aria-label",a["".concat(t,"ButtonAriaLabel")]||""),r.className=f[t],L(r,a,"".concat(t,"Button"))}var Y=function(t,a){var i=Q();i&&(function Ke(r,t){"string"==typeof t?r.style.background=t:t||A([document.documentElement,document.body],f["no-backdrop"])}(i,a.backdrop),function Ho(r,t){t&&(t in f?A(r,f[t]):(N('The "position" parameter is not valid, defaulting to "center"'),A(r,f.center)))}(i,a.position),function Oo(r,t){t&&A(r,f["grow-".concat(t)])}(i,a.grow),L(i,a,"container"))};var P={innerParams:new WeakMap,domCache:new WeakMap},zo=["input","file","range","select","radio","checkbox","textarea"],jo=function(t){if(t.input){if(!Z[t.input])return void ue("Unexpected type of input! Expected ".concat(Object.keys(Z).join(" | "),', got "').concat(t.input,'"'));var a=Rt(t.input),i=Z[t.input](a,t);q(a),t.inputAutoFocus&&setTimeout(function(){It(i)})}},Go=function(t,a){var i=R(k(),t);if(i)for(var c in function(t){for(var a=0;a<t.attributes.length;a++){var i=t.attributes[a].name;["id","type","value","style"].includes(i)||t.removeAttribute(i)}}(i),a)i.setAttribute(c,a[c])},$o=function(t){var a=Rt(t.input);"object"===M(t.customClass)&&A(a,t.customClass.input)},gt=function(t,a){(!t.placeholder||a.inputPlaceholder)&&(t.placeholder=a.inputPlaceholder)},Be=function(t,a,i){if(i.inputLabel){var c=document.createElement("label"),p=f["input-label"];c.setAttribute("for",t.id),c.className=p,"object"===M(i.customClass)&&A(c,i.customClass.inputLabel),c.innerText=i.inputLabel,a.insertAdjacentElement("beforebegin",c)}},Rt=function(t){return ae(k(),f[t]||f.input)},Xe=function(t,a){["string","number"].includes(M(a))?t.value="".concat(a):_e(a)||N('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(M(a),'"'))},Z={};Z.text=Z.email=Z.password=Z.number=Z.tel=Z.url=Z.search=Z.date=Z["datetime-local"]=Z.time=Z.week=Z.month=function(r,t){return Xe(r,t.inputValue),Be(r,r,t),gt(r,t),r.type=t.input,r},Z.file=function(r,t){return Be(r,r,t),gt(r,t),r},Z.range=function(r,t){var a=r.querySelector("input"),i=r.querySelector("output");return Xe(a,t.inputValue),a.type=t.input,Xe(i,t.inputValue),Be(a,r,t),r},Z.select=function(r,t){if(r.textContent="",t.inputPlaceholder){var a=document.createElement("option");O(a,t.inputPlaceholder),a.value="",a.disabled=!0,a.selected=!0,r.appendChild(a)}return Be(r,r,t),r},Z.radio=function(r){return r.textContent="",r},Z.checkbox=function(r,t){var a=R(k(),"checkbox");a.value="1",a.checked=!!t.inputValue;var i=r.querySelector("span");return O(i,t.inputPlaceholder),a},Z.textarea=function(r,t){Xe(r,t.inputValue),gt(r,t),Be(r,r,t);return setTimeout(function(){if("MutationObserver"in window){var i=parseInt(window.getComputedStyle(k()).width);new MutationObserver(function(){if(document.body.contains(r)){var w=r.offsetWidth+(c=r,parseInt(window.getComputedStyle(c).marginLeft)+parseInt(window.getComputedStyle(c).marginRight));w>i?k().style.width="".concat(w,"px"):me(k(),"width",t.width)}var c}).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};var Wo=function(t,a){var i=lt();i&&(dt(i),L(i,a,"htmlContainer"),a.html?(pt(a.html,i),q(i,"block")):a.text?(i.textContent=a.text,q(i,"block")):B(i),function(t,a){var i=k();if(i){var c=P.innerParams.get(t),p=!c||a.input!==c.input;zo.forEach(function(w){var C=ae(i,f[w]);C&&(Go(w,a.inputAttributes),C.className=f[w],p&&B(C))}),a.input&&(p&&jo(a),$o(a))}}(t,a))},qt=function(t,a){for(var i=0,c=Object.entries(Le);i<c.length;i++){var p=Ze(c[i],2);a.icon!==p[0]&&K(t,p[1])}A(t,a.icon&&Le[a.icon]),aa(t,a),ea(),L(t,a,"icon")},ea=function(){var t=k();if(t)for(var a=window.getComputedStyle(t).getPropertyValue("background-color"),i=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),c=0;c<i.length;c++)i[c].style.backgroundColor=a},Jt=function(t,a){if(a.icon||a.iconHtml){var i=t.innerHTML,c="";a.iconHtml?c=Bt(a.iconHtml):"success"===a.icon?(c='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',i=i.replace(/ style=".*?"/g,"")):"error"===a.icon?c='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':a.icon&&(c=Bt({question:"?",warning:"!",info:"i"}[a.icon])),i.trim()!==c.trim()&&O(t,c)}},aa=function(t,a){if(a.iconColor){t.style.color=a.iconColor,t.style.borderColor=a.iconColor;for(var i=0,c=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];i<c.length;i++)Ut(t,c[i],"background-color",a.iconColor);Ut(t,".swal2-success-ring","border-color",a.iconColor)}},Bt=function(t){return'<div class="'.concat(f["icon-content"],'">').concat(t,"</div>")},ra=function(t,a){var i=a.showClass||{};t.className="".concat(f.popup," ").concat(z(t)?i.popup:""),a.toast?(A([document.documentElement,document.body],f["toast-shown"]),A(t,f.toast)):A(t,f.modal),L(t,a,"popup"),"string"==typeof a.customClass&&A(t,a.customClass),a.icon&&A(t,f["icon-".concat(a.icon)])},la=function(t){var a=document.createElement("li");return A(a,f["progress-step"]),O(a,t),a},ca=function(t){var a=document.createElement("li");return A(a,f["progress-step-line"]),t.progressStepsDistance&&me(a,"width",t.progressStepsDistance),a},Qt=function(t,a){(function(t,a){var i=Q(),c=k();if(i&&c){if(a.toast){me(i,"width",a.width),c.style.width="100%";var p=xe();p&&c.insertBefore(p,Ee())}else me(c,"width",a.width);me(c,"padding",a.padding),a.color&&(c.style.color=a.color),a.background&&(c.style.background=a.background),B(Ye()),ra(c,a)}})(0,a),Y(0,a),function(t,a){var i=ct();if(i){var c=a.progressSteps,p=a.currentProgressStep;if(!c||0===c.length||void 0===p)return void B(i);q(i),i.textContent="",p>=c.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),c.forEach(function(w,C){var T=la(w);if(i.appendChild(T),C===p&&A(T,f["active-progress-step"]),C!==c.length-1){var D=ca(a);i.appendChild(D)}})}}(0,a),function(t,a){var i=P.innerParams.get(t),c=Ee();if(c){if(i&&a.icon===i.icon)return Jt(c,a),void qt(c,a);if(!a.icon&&!a.iconHtml)return void B(c);if(a.icon&&-1===Object.keys(Le).indexOf(a.icon))return ue('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(a.icon,'"')),void B(c);q(c),Jt(c,a),qt(c,a),A(c,a.showClass&&a.showClass.icon)}}(t,a),function(t,a){var i=Zt();if(i){if(!a.imageUrl)return void B(i);q(i,""),i.setAttribute("src",a.imageUrl),i.setAttribute("alt",a.imageAlt||""),me(i,"width",a.imageWidth),me(i,"height",a.imageHeight),i.className=f.image,L(i,a,"image")}}(0,a),function(t,a){var i=St();i&&(dt(i),Je(i,a.title||a.titleText,"block"),a.title&&pt(a.title,i),a.titleText&&(i.innerText=a.titleText),L(i,a,"title"))}(0,a),function(t,a){var i=ye();i&&(O(i,a.closeButtonHtml||""),L(i,a,"closeButton"),Je(i,a.showCloseButton),i.setAttribute("aria-label",a.closeButtonAriaLabel||""))}(0,a),Wo(t,a),$e(0,a),function(t,a){var i=Ft();i&&(dt(i),Je(i,a.footer,"block"),a.footer&&pt(a.footer,i),L(i,a,"footer"))}(0,a);var i=k();"function"==typeof a.didRender&&i&&a.didRender(i)},Nt=function(){var t;return null===(t=W())||void 0===t?void 0:t.click()},Te=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ht=function(t){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},et=function(t,a){var i,c=Ce();if(c.length)return(t+=a)===c.length?t=0:-1===t&&(t=c.length-1),void c[t].focus();null===(i=k())||void 0===i||i.focus()},vt=["ArrowRight","ArrowDown"],wt=["ArrowLeft","ArrowUp"],ga=function(t,a,i){t&&(a.isComposing||229===a.keyCode||(t.stopKeydownPropagation&&a.stopPropagation(),"Enter"===a.key?ha(a,t):"Tab"===a.key?va(a):[].concat(vt,wt).includes(a.key)?wa(a.key):"Escape"===a.key&&_a(a,t,i)))},ha=function(t,a){if(je(a.allowEnterKey)){var i=R(k(),a.input);if(t.target&&i&&t.target instanceof HTMLElement&&t.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(a.input))return;Nt(),t.preventDefault()}}},va=function(t){for(var a=t.target,i=Ce(),c=-1,p=0;p<i.length;p++)if(a===i[p]){c=p;break}et(c,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},wa=function(t){var a=Re(),i=W(),c=de(),p=be();if(a&&i&&c&&p&&(!(document.activeElement instanceof HTMLElement)||[i,c,p].includes(document.activeElement))){var C=vt.includes(t)?"nextElementSibling":"previousElementSibling",T=document.activeElement;if(T){for(var D=0;D<a.children.length;D++){if(!(T=T[C]))return;if(T instanceof HTMLButtonElement&&z(T))break}T instanceof HTMLButtonElement&&T.focus()}}},_a=function(t,a,i){je(a.allowEscapeKey)&&(t.preventDefault(),i(Te.esc))},Ae={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ht=function(){Array.from(document.body.children).forEach(function(a){a.hasAttribute("data-previous-aria-hidden")?(a.setAttribute("aria-hidden",a.getAttribute("data-previous-aria-hidden")||""),a.removeAttribute("data-previous-aria-hidden")):a.removeAttribute("aria-hidden")})},Ot=typeof window<"u"&&!!window.GestureEvent,ya=function(){var a,t=Q();t&&(t.ontouchstart=function(i){a=Ca(i)},t.ontouchmove=function(i){a&&(i.preventDefault(),i.stopPropagation())})},Ca=function(t){var a=t.target,i=Q(),c=lt();return!(!i||!c||Ta(t)||Aa(t)||a!==i&&(Mt(i)||!(a instanceof HTMLElement)||"INPUT"===a.tagName||"TEXTAREA"===a.tagName||Mt(c)&&c.contains(a)))},Ta=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},Aa=function(t){return t.touches&&t.touches.length>1},Ve=null,Pa=function(t){null===Ve&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&(Ve=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ve+function(){var t=document.createElement("div");t.className=f["scrollbar-measure"],document.body.appendChild(t);var a=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),a}(),"px"))};function zt(r,t,a,i){Ge()?jt(r,i):(te(a).then(function(){return jt(r,i)}),ht(b)),Ot?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),ut()&&(null!==Ve&&(document.body.style.paddingRight="".concat(Ve,"px"),Ve=null),function(){if(G(document.body,f.iosfix)){var t=parseInt(document.body.style.top,10);K(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),Ht()),function Za(){K([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}()}function ie(r){r=Fa(r);var t=Ae.swalPromiseResolve.get(this),a=Lt(this);this.isAwaitingPromise?r.isDismissed||(Qe(this),t(r)):a&&t(r)}var Lt=function(t){var a=k();if(!a)return!1;var i=P.innerParams.get(t);if(!i||G(a,i.hideClass.popup))return!1;K(a,i.showClass.popup),A(a,i.hideClass.popup);var c=Q();return K(c,i.showClass.backdrop),A(c,i.hideClass.backdrop),Ia(t,a,i),!0};function _t(r){var t=Ae.swalPromiseReject.get(this);Qe(this),t&&t(r)}var Qe=function(t){t.isAwaitingPromise&&(delete t.isAwaitingPromise,P.innerParams.get(t)||t._destroy())},Fa=function(t){return typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},Ia=function(t,a,i){var c=Q(),p=ne&&mt(a);"function"==typeof i.willClose&&i.willClose(a),p?Da(t,a,c,i.returnFocus,i.didClose):zt(t,c,i.returnFocus,i.didClose)},Da=function(t,a,i,c,p){ne&&(b.swalCloseEventFinishedCallback=zt.bind(null,t,i,c,p),a.addEventListener(ne,function(w){w.target===a&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback)}))},jt=function(t,a){setTimeout(function(){"function"==typeof a&&a.bind(t.params)(),t._destroy&&t._destroy()})},ke=function(t){var a=k();if(a||new vo,a=k()){var i=xe();Ge()?B(Ee()):Ua(a,t),q(i),a.setAttribute("data-loading","true"),a.setAttribute("aria-busy","true"),a.focus()}},Ua=function(t,a){var i=Re(),c=xe();!i||!c||(!a&&z(W())&&(a=W()),q(i),a&&(B(a),c.setAttribute("data-button-to-replace",a.className),i.insertBefore(c,a)),A([t,i],f.loading))},Ra=function(t){return t.checked?1:0},qa=function(t){return t.checked?t.value:null},Ja=function(t){return t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},Ba=function(t,a){var i=k();if(i){var c=function(w){"select"===a.input?function Na(r,t,a){var i=ae(r,f.select);if(i){var c=function(w,C,T){var D=document.createElement("option");D.value=T,O(D,C),D.selected=Gt(T,a.inputValue),w.appendChild(D)};t.forEach(function(p){var w=p[0],C=p[1];if(Array.isArray(C)){var T=document.createElement("optgroup");T.label=w,T.disabled=!1,i.appendChild(T),C.forEach(function(D){return c(T,D[1],D[0])})}else c(i,C,w)}),i.focus()}}(i,Yt(w),a):"radio"===a.input&&function Ha(r,t,a){var i=ae(r,f.radio);if(i){t.forEach(function(p){var w=p[0],C=p[1],T=document.createElement("input"),D=document.createElement("label");T.type="radio",T.name=f.radio,T.value=w,Gt(w,a.inputValue)&&(T.checked=!0);var Ct=document.createElement("span");O(Ct,C),Ct.className=f.label,D.appendChild(T),D.appendChild(Ct),i.appendChild(D)});var c=i.querySelectorAll("input");c.length&&c[0].focus()}}(i,Yt(w),a)};st(a.inputOptions)||_e(a.inputOptions)?(ke(W()),Ue(a.inputOptions).then(function(p){t.hideLoading(),c(p)})):"object"===M(a.inputOptions)?c(a.inputOptions):ue("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(M(a.inputOptions)))}},Qa=function(t,a){var i=t.getInput();i&&(B(i),Ue(a.inputValue).then(function(c){i.value="".concat("number"===a.input?parseFloat(c)||0:c),q(i),i.focus(),t.hideLoading()}).catch(function(c){ue("Error in inputValue promise: ".concat(c)),i.value="",q(i),i.focus(),t.hideLoading()}))};var Yt=function r(t){var a=[];return t instanceof Map?t.forEach(function(i,c){var p=i;"object"===M(p)&&(p=r(p)),a.push([c,p])}):Object.keys(t).forEach(function(i){var c=t[i];"object"===M(c)&&(c=r(c)),a.push([i,c])}),a},Gt=function(t,a){return!!a&&a.toString()===t.toString()},tt=void 0,bt=function(t,a){var i=P.innerParams.get(t);if(i.input){var c=t.getInput(),p=function(t,a){var i=t.getInput();if(!i)return null;switch(a.input){case"checkbox":return Ra(i);case"radio":return qa(i);case"file":return Ja(i);default:return a.inputAutoTrim?i.value.trim():i.value}}(t,i);i.inputValidator?$t(t,p,a):c&&!c.checkValidity()?(t.enableButtons(),t.showValidationMessage(i.validationMessage)):"deny"===a?xt(t,p):yt(t,p)}else ue('The "input" parameter is needed to be set when using returnInputValueOn'.concat(rt(a)))},$t=function(t,a,i){var c=P.innerParams.get(t);t.disableInput(),Promise.resolve().then(function(){return Ue(c.inputValidator(a,c.validationMessage))}).then(function(w){t.enableButtons(),t.enableInput(),w?t.showValidationMessage(w):"deny"===i?xt(t,a):yt(t,a)})},xt=function(t,a){var i=P.innerParams.get(t||tt);i.showLoaderOnDeny&&ke(de()),i.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ue(i.preDeny(a,i.validationMessage))}).then(function(p){!1===p?(t.hideLoading(),Qe(t)):t.close({isDenied:!0,value:typeof p>"u"?a:p})}).catch(function(p){return Kt(t||tt,p)})):t.close({isDenied:!0,value:a})},Wt=function(t,a){t.close({isConfirmed:!0,value:a})},Kt=function(t,a){t.rejectPromise(a)},yt=function(t,a){var i=P.innerParams.get(t||tt);i.showLoaderOnConfirm&&ke(),i.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ue(i.preConfirm(a,i.validationMessage))}).then(function(p){z(Ye())||!1===p?(t.hideLoading(),Qe(t)):Wt(t,typeof p>"u"?a:p)}).catch(function(p){return Kt(t||tt,p)})):Wt(t,a)};function ot(){var r=P.innerParams.get(this);if(r){var t=P.domCache.get(this);B(t.loader),Ge()?r.icon&&q(Ee()):ja(t),K([t.popup,t.actions],f.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var ja=function(t){var a=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));a.length?q(a[0],"inline-block"):!z(W())&&!z(de())&&!z(be())&&B(t.actions)};function Xt(){var r=P.innerParams.get(this),t=P.domCache.get(this);return t?R(t.popup,r.input):null}function eo(r,t,a){var i=P.domCache.get(r);t.forEach(function(c){i[c].disabled=a})}function to(r,t){var a=k();if(a&&r)if("radio"===r.type)for(var i=a.querySelectorAll('[name="'.concat(f.radio,'"]')),c=0;c<i.length;c++)i[c].disabled=t;else r.disabled=t}function oo(){eo(this,["confirmButton","denyButton","cancelButton"],!1)}function ao(){eo(this,["confirmButton","denyButton","cancelButton"],!0)}function no(){to(this.getInput(),!1)}function io(){to(this.getInput(),!0)}function ro(r){var t=P.domCache.get(this),a=P.innerParams.get(this);O(t.validationMessage,r),t.validationMessage.className=f["validation-message"],a.customClass&&a.customClass.validationMessage&&A(t.validationMessage,a.customClass.validationMessage),q(t.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",f["validation-message"]),It(i),A(i,f.inputerror))}function so(){var r=P.domCache.get(this);r.validationMessage&&B(r.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),K(t,f.inputerror))}var Pe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ya=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ga={},$a=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],lo=function(t){return Object.prototype.hasOwnProperty.call(Pe,t)},co=function(t){return-1!==Ya.indexOf(t)},uo=function(t){return Ga[t]},mo=function(t){lo(t)||N('Unknown parameter "'.concat(t,'"'))},Wa=function(t){$a.includes(t)&&N('The parameter "'.concat(t,'" is incompatible with toasts'))},fo=function(t){var a=uo(t);a&&Vo(t,a)};function Xa(r){var t=k(),a=P.innerParams.get(this);if(t&&!G(t,a.hideClass.popup)){var i=nn(r),c=Object.assign({},a,i);Qt(this,c),P.innerParams.set(this,c),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}else N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var nn=function(t){var a={};return Object.keys(t).forEach(function(i){co(i)?a[i]=t[i]:N("Invalid parameter to update: ".concat(i))}),a};function po(){var r=P.domCache.get(this),t=P.innerParams.get(this);t?(r.popup&&b.swalCloseEventFinishedCallback&&(b.swalCloseEventFinishedCallback(),delete b.swalCloseEventFinishedCallback),"function"==typeof t.didDestroy&&t.didDestroy(),en(this)):n(this)}var en=function(t){n(t),delete t.params,delete b.keydownHandler,delete b.keydownTarget,delete b.currentInstance},n=function(t){t.isAwaitingPromise?(u(P,t),t.isAwaitingPromise=!0):(u(Ae,t),u(P,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},u=function(t,a){for(var i in t)t[i].delete(a)},o=Object.freeze({__proto__:null,_destroy:po,close:ie,closeModal:ie,closePopup:ie,closeToast:ie,disableButtons:ao,disableInput:io,disableLoading:ot,enableButtons:oo,enableInput:no,getInput:Xt,handleAwaitingPromise:Qe,hideLoading:ot,rejectPromise:_t,resetValidationMessage:so,showValidationMessage:ro,update:Xa}),s=function(t,a,i){a.popup.onclick=function(){t&&(d(t)||t.timer||t.input)||i(Te.close)}},d=function(t){return!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton)},g=!1,v=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(a){t.container.onmouseup=function(){},a.target===t.container&&(g=!0)}}},S=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(a){t.popup.onmouseup=function(){},(a.target===t.popup||a.target instanceof HTMLElement&&t.popup.contains(a.target))&&(g=!0)}}},I=function(t,a,i){a.container.onclick=function(c){g?g=!1:c.target===a.container&&je(t.allowOutsideClick)&&i(Te.backdrop)}},F=function(t){return t instanceof Element||function(t){return"object"===M(t)&&t.jquery}(t)};var rn=function(){if(b.timeout)return function(){var t=qe();if(t){var a=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var i=parseInt(window.getComputedStyle(t).width);t.style.width="".concat(a/i*100,"%")}}(),b.timeout.stop()},sn=function(){if(b.timeout){var t=b.timeout.start();return ft(t),t}},ln=!1,on={};var wn=function(t){for(var a=t.target;a&&a!==document;a=a.parentNode)for(var i in on){var c=a.getAttribute(i);if(c)return void on[i].fire({template:c})}},_n=Object.freeze({__proto__:null,argsToParams:function(t){var a={};return"object"!==M(t[0])||F(t[0])?["title","html","icon"].forEach(function(i,c){var p=t[c];"string"==typeof p||F(p)?a[i]=p:void 0!==p&&ue("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(M(p)))}):Object.assign(a,t[0]),a},bindClickHandler:function vn(){on[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ln||(document.body.addEventListener("click",wn),ln=!0)},clickCancel:function(){var t;return null===(t=be())||void 0===t?void 0:t.click()},clickConfirm:Nt,clickDeny:function(){var t;return null===(t=de())||void 0===t?void 0:t.click()},enableLoading:ke,fire:function Ne(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return function _(r,t,a){if(V())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var c=new(r.bind.apply(r,i));return a&&he(c,a.prototype),c}(this,a)},getActions:Re,getCancelButton:be,getCloseButton:ye,getConfirmButton:W,getContainer:Q,getDenyButton:de,getFocusableElements:Ce,getFooter:Ft,getHtmlContainer:lt,getIcon:Ee,getIconContent:function(){return H(f["icon-content"])},getImage:Zt,getInputLabel:function(){return H(f["input-label"])},getLoader:xe,getPopup:k,getProgressSteps:ct,getTimerLeft:function(){return b.timeout&&b.timeout.getTimerLeft()},getTimerProgressBar:qe,getTitle:St,getValidationMessage:Ye,increaseTimer:function(t){if(b.timeout){var a=b.timeout.increase(t);return ft(a,!0),a}},isDeprecatedParameter:uo,isLoading:function(){var t=k();return!!t&&t.hasAttribute("data-loading")},isTimerRunning:function(){return!(!b.timeout||!b.timeout.isRunning())},isUpdatableParameter:co,isValidParameter:lo,isVisible:function(){return z(k())},mixin:function go(r){var t=function(a){function i(){return y(this,i),pe(this,i,arguments)}return function m(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&he(r,t)}(i,a),h(i,[{key:"_main",value:function(p,w){return Oe(le(i.prototype),"_main",this).call(this,p,Object.assign({},r,w))}}]),i}(this);return t},resumeTimer:sn,showLoading:ke,stopTimer:rn,toggleTimer:function(){var t=b.timeout;return t&&(t.running?rn():sn())}}),bn=function(){function r(t,a){y(this,r),this.callback=t,this.remaining=a,this.running=!1,this.start()}return h(r,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(a){var i=this.running;return i&&this.stop(),this.remaining+=a,i&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),r}(),cn=["swal-title","swal-html","swal-footer"],yn=function(t){var a={};return Array.from(t.querySelectorAll("swal-param")).forEach(function(c){He(c,["name","value"]);var p=c.getAttribute("name"),w=c.getAttribute("value");a[p]="boolean"==typeof Pe[p]?"false"!==w:"object"===M(Pe[p])?JSON.parse(w):w}),a},Cn=function(t){var a={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(function(c){var p=c.getAttribute("name"),w=c.getAttribute("value");a[p]=new Function("return ".concat(w))()}),a},Tn=function(t){var a={};return Array.from(t.querySelectorAll("swal-button")).forEach(function(c){He(c,["type","color","aria-label"]);var p=c.getAttribute("type");a["".concat(p,"ButtonText")]=c.innerHTML,a["show".concat(rt(p),"Button")]=!0,c.hasAttribute("color")&&(a["".concat(p,"ButtonColor")]=c.getAttribute("color")),c.hasAttribute("aria-label")&&(a["".concat(p,"ButtonAriaLabel")]=c.getAttribute("aria-label"))}),a},An=function(t){var a={},i=t.querySelector("swal-image");return i&&(He(i,["src","width","height","alt"]),i.hasAttribute("src")&&(a.imageUrl=i.getAttribute("src")),i.hasAttribute("width")&&(a.imageWidth=i.getAttribute("width")),i.hasAttribute("height")&&(a.imageHeight=i.getAttribute("height")),i.hasAttribute("alt")&&(a.imageAlt=i.getAttribute("alt"))),a},Vn=function(t){var a={},i=t.querySelector("swal-icon");return i&&(He(i,["type","color"]),i.hasAttribute("type")&&(a.icon=i.getAttribute("type")),i.hasAttribute("color")&&(a.iconColor=i.getAttribute("color")),a.iconHtml=i.innerHTML),a},kn=function(t){var a={},i=t.querySelector("swal-input");i&&(He(i,["type","label","placeholder","value"]),a.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(a.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(a.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(a.inputValue=i.getAttribute("value")));var c=Array.from(t.querySelectorAll("swal-input-option"));return c.length&&(a.inputOptions={},c.forEach(function(p){He(p,["value"]);var w=p.getAttribute("value");a.inputOptions[w]=p.innerHTML})),a},Pn=function(t,a){var i={};for(var c in a){var p=a[c],w=t.querySelector(p);w&&(He(w,[]),i[p.replace(/^swal-/,"")]=w.innerHTML.trim())}return i},Sn=function(t){var a=cn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(function(i){var c=i.tagName.toLowerCase();a.includes(c)||N("Unrecognized element <".concat(c,">"))})},He=function(t,a){Array.from(t.attributes).forEach(function(i){-1===a.indexOf(i.name)&&N(['Unrecognized attribute "'.concat(i.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(a.length?"Allowed attributes are: ".concat(a.join(", ")):"To set the value, use HTML within the element.")])})},Zn=function(t){var a=Q(),i=k();"function"==typeof t.willOpen&&t.willOpen(i);var p=window.getComputedStyle(document.body).overflowY;Un(a,i,t),setTimeout(function(){In(a,i)},10),ut()&&(Dn(a,t.scrollbarPadding,p),Array.from(document.body.children).forEach(function(a){a===Q()||a.contains(Q())||(a.hasAttribute("aria-hidden")&&a.setAttribute("data-previous-aria-hidden",a.getAttribute("aria-hidden")||""),a.setAttribute("aria-hidden","true"))})),!Ge()&&!b.previousActiveElement&&(b.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout(function(){return t.didOpen(i)}),K(a,f["no-transition"])},Fn=function r(t){var a=k();if(t.target===a&&ne){var i=Q();a.removeEventListener(ne,r),i.style.overflowY="auto"}},In=function(t,a){ne&&mt(a)?(t.style.overflowY="hidden",a.addEventListener(ne,Fn)):t.style.overflowY="auto"},Dn=function(t,a,i){(function(){if(Ot&&!G(document.body,f.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),A(document.body,f.iosfix),ya()}})(),a&&"hidden"!==i&&Pa(i),setTimeout(function(){t.scrollTop=0})},Un=function(t,a,i){A(t,i.showClass.backdrop),i.animation?(a.style.setProperty("opacity","0","important"),q(a,"grid"),setTimeout(function(){A(a,i.showClass.popup),a.style.removeProperty("opacity")},10)):q(a,"grid"),A([document.documentElement,document.body],f.shown),i.heightAuto&&i.backdrop&&!i.toast&&A([document.documentElement,document.body],f["height-auto"])},dn={email:function(t,a){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(a||"Invalid email address")},url:function(t,a){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(a||"Invalid URL")}};function Rn(r){(function Mn(r){r.inputValidator||("email"===r.input&&(r.inputValidator=dn.email),"url"===r.input&&(r.inputValidator=dn.url))})(r),r.showLoaderOnConfirm&&!r.preConfirm&&N("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function En(r){(!r.target||"string"==typeof r.target&&!document.querySelector(r.target)||"string"!=typeof r.target&&!r.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),r.target="body")}(r),"string"==typeof r.title&&(r.title=r.title.split("\n").join("<br />")),Jo(r)}var re,ho=new WeakMap,U=function(){function r(){if(y(this,r),At(this,ho,{writable:!0,value:void 0}),!(typeof window>"u")){re=this;for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var c=Object.freeze(this.constructor.argsToParams(a));this.params=c,this.isAwaitingPromise=!1,yo(this,ho,this._main(re.params))}}return h(r,[{key:"_main",value:function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t){for(var a in!1===t.backdrop&&t.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t)mo(a),t.toast&&Wa(a),fo(a)}(Object.assign({},i,a)),b.currentInstance){var c=Ae.swalPromiseResolve.get(b.currentInstance),p=b.currentInstance.isAwaitingPromise;b.currentInstance._destroy(),p||c({isDismissed:!0}),ut()&&Ht()}b.currentInstance=re;var w=Jn(a,i);Rn(w),Object.freeze(w),b.timeout&&(b.timeout.stop(),delete b.timeout),clearTimeout(b.restoreFocusTimeout);var C=Bn(re);return Qt(re,w),P.innerParams.set(re,w),qn(re,C,w)}},{key:"then",value:function(a){return Fe(this,ho).then(a)}},{key:"finally",value:function(a){return Fe(this,ho).finally(a)}}]),r}(),qn=function(t,a,i){return new Promise(function(c,p){var w=function(T){t.close({isDismissed:!0,dismiss:T})};Ae.swalPromiseResolve.set(t,c),Ae.swalPromiseReject.set(t,p),a.confirmButton.onclick=function(){!function(t){var a=P.innerParams.get(t);t.disableButtons(),a.input?bt(t,"confirm"):yt(t,!0)}(t)},a.denyButton.onclick=function(){!function(t){var a=P.innerParams.get(t);t.disableButtons(),a.returnInputValueOnDeny?bt(t,"deny"):xt(t,!1)}(t)},a.cancelButton.onclick=function(){!function(t,a){t.disableButtons(),a(Te.cancel)}(t,w)},a.closeButton.onclick=function(){w(Te.close)},function(t,a,i){t.toast?s(t,a,i):(v(a),S(a),I(t,a,i))}(i,a,w),function(t,a,i){ht(t),a.toast||(t.keydownHandler=function(c){return ga(a,c,i)},t.keydownTarget=a.keydownListenerCapture?window:k(),t.keydownListenerCapture=a.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(b,i,w),function(t,a){"select"===a.input||"radio"===a.input?Ba(t,a):["text","email","number","tel","textarea"].some(function(i){return i===a.input})&&(st(a.inputValue)||_e(a.inputValue))&&(ke(W()),Qa(t,a))}(t,i),Zn(i),Qn(b,i,w),Nn(a,i),setTimeout(function(){a.container.scrollTop=0})})},Jn=function(t,a){var i=function(t){var a="string"==typeof t.template?document.querySelector(t.template):t.template;if(!a)return{};var i=a.content;return Sn(i),Object.assign(yn(i),Cn(i),Tn(i),An(i),Vn(i),kn(i),Pn(i,cn))}(t),c=Object.assign({},Pe,a,i,t);return c.showClass=Object.assign({},Pe.showClass,c.showClass),c.hideClass=Object.assign({},Pe.hideClass,c.hideClass),!1===c.animation&&(c.showClass={backdrop:"swal2-noanimation"},c.hideClass={}),c},Bn=function(t){var a={popup:k(),container:Q(),actions:Re(),confirmButton:W(),denyButton:de(),cancelButton:be(),loader:xe(),closeButton:ye(),validationMessage:Ye(),progressSteps:ct()};return P.domCache.set(t,a),a},Qn=function(t,a,i){var c=qe();B(c),a.timer&&(t.timeout=new bn(function(){i("timer"),delete t.timeout},a.timer),a.timerProgressBar&&(q(c),L(c,a,"timerProgressBar"),setTimeout(function(){t.timeout&&t.timeout.running&&ft(a.timer)})))},Nn=function(t,a){if(!a.toast){if(!je(a.allowEnterKey))return void On();Hn(t,a)||et(-1,1)}},Hn=function(t,a){return a.focusDeny&&z(t.denyButton)?(t.denyButton.focus(),!0):a.focusCancel&&z(t.cancelButton)?(t.cancelButton.focus(),!0):!(!a.focusConfirm||!z(t.confirmButton)||(t.confirmButton.focus(),0))},On=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var mn=new Date,fn=localStorage.getItem("swal-initiation");fn?(mn.getTime()-Date.parse(fn))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(function(){r.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(mn))}U.prototype.disableButtons=ao,U.prototype.enableButtons=oo,U.prototype.getInput=Xt,U.prototype.disableInput=io,U.prototype.enableInput=no,U.prototype.hideLoading=ot,U.prototype.disableLoading=ot,U.prototype.showValidationMessage=ro,U.prototype.resetValidationMessage=so,U.prototype.close=ie,U.prototype.closePopup=ie,U.prototype.closeModal=ie,U.prototype.closeToast=ie,U.prototype.rejectPromise=_t,U.prototype.update=Xa,U.prototype._destroy=po,Object.assign(U,_n),Object.keys(o).forEach(function(r){U[r]=function(){var t;return re&&re[r]?(t=re)[r].apply(t,arguments):null}}),U.DismissReason=Te,U.version="11.10.4";var vo=U;return vo.default=vo,vo}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(pe,_){var V=pe.createElement("style");if(pe.getElementsByTagName("head")[0].appendChild(V),V.styleSheet)V.styleSheet.disabled||(V.styleSheet.cssText=_);else try{V.innerHTML=_}catch{V.innerText=_}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}}]);