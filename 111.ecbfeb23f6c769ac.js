"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[111],{2993:(K,G,C)=>{C.d(G,{l:()=>h});class h{}},3362:(K,G,C)=>{C.d(G,{Z:()=>h});class h{}},1427:(K,G,C)=>{C.d(G,{I:()=>O});var h=C(2734),A=C(9397),F=C(9212),b=C(4928);let O=(()=>{class j{constructor(l){this.apiService=l}GetAllMedidaAsync(l){return this.apiService.query(h.X3.Medida.GetAllMedidaAsync,{idUsuarioGuid:l}).pipe((0,A.b)(r=>r))}GetAllCategoriaByFilterAsync(l){return this.apiService.query(h.X3.Categoria.GetAllCategoriaByFilterAsync,l).pipe((0,A.b)(r=>r))}GetAllCategoriasForComboBoxAsync(){return this.apiService.query(h.X3.Categoria.GetAllCategoriasForComboBoxAsync,{}).pipe((0,A.b)(l=>l))}InsertCategoriaAsync(l){return this.apiService.post(h.X3.Categoria.InsertCategoriaAsync,l).pipe((0,A.b)(r=>r))}UpdateCategoriaAsync(l){return this.apiService.post(h.X3.Categoria.UpdateCategoriaAsync,l).pipe((0,A.b)(r=>r))}GetProductoByCodeAsync(l){return this.apiService.query(h.X3.Producto.GetProductoByCodeAsync,l).pipe((0,A.b)(r=>r))}GetAllProductoByFilterAsync(l){return this.apiService.post(h.X3.Producto.GetAllProductoByFilterAsync,l).pipe((0,A.b)(r=>r))}GetCategoriesWithProductsCountAsync(){return this.apiService.query(h.X3.Producto.GetCategoriesWithProductsCountAsync,{}).pipe((0,A.b)(l=>l))}GetAllProductsByCategoryAsync(l){return this.apiService.query(h.X3.Producto.GetAllProductsByCategoryAsync,{idCategory:l}).pipe((0,A.b)(r=>r))}GetAllProductoForComboBoxAsync(){return this.apiService.query(h.X3.Producto.GetAllProductoForComboBoxAsync,{}).pipe((0,A.b)(l=>l))}InsertProductoAsync(l){return this.apiService.post(h.X3.Producto.InsertProductoAsync,l).pipe((0,A.b)(r=>r))}UpdateProductoAsync(l){return this.apiService.post(h.X3.Producto.UpdateProductoAsync,l).pipe((0,A.b)(r=>r))}UpdateActivoProductoAsync(l){return this.apiService.post(h.X3.Producto.UpdateActivoProductoAsync,l).pipe((0,A.b)(r=>r))}DeleteProductoAsync(l){return this.apiService.post(h.X3.Producto.DeleteProductoAsync,l).pipe((0,A.b)(r=>r))}DeleteCategoriaAsync(l){return this.apiService.post(h.X3.Categoria.DeleteCategoriaAsync,l).pipe((0,A.b)(r=>r))}UpdateActivoCategoriaAsync(l){return this.apiService.post(h.X3.Categoria.UpdateActivoCategoriaAsync,l).pipe((0,A.b)(r=>r))}GetAllMarcaByFilterAsync(l){return this.apiService.query(h.X3.Marca.GetAllMarcaByFilterAsync,l).pipe((0,A.b)(r=>r))}GetAllMarcasForComboBoxAsync(){return this.apiService.query(h.X3.Marca.GetAllMarcasForComboBoxAsync,{}).pipe((0,A.b)(l=>l))}InsertMarcaAsync(l){return this.apiService.post(h.X3.Marca.InsertMarcaAsync,l).pipe((0,A.b)(r=>r))}UpdateMarcaAsync(l){return this.apiService.post(h.X3.Marca.UpdateMarcaAsync,l).pipe((0,A.b)(r=>r))}DeleteMarcaAsync(l){return this.apiService.post(h.X3.Marca.DeleteMarcaAsync,l).pipe((0,A.b)(r=>r))}UpdateActivoMarcaAsync(l){return this.apiService.post(h.X3.Marca.UpdateActivoMarcaAsync,l).pipe((0,A.b)(r=>r))}static#e=this.\u0275fac=function(r){return new(r||j)(F.LFG(b.s))};static#t=this.\u0275prov=F.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},5111:(K,G,C)=>{C.r(G),C.d(G,{InventarioModule:()=>Mr});var h=C(6814),A=C(2787),F=C(3566),b=C(5313),O=C(8645),j=C(9315),P=C(7700),l=C(6223),r=C(4740),s=C(308),S=C(653),f=C(4690);class xe{}var e=C(9212),N=C(1427),w=C(5742),D=C(4855),J=C(2032),T=C(5683),M=C(8525),E=C(3680),R=C(5940),U=C(2296),y=C(617),I=C(3177);function Ce(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function ve(t,c){if(1&t&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ze(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Medida es requerido"),e.qZA())}function be(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Te(t,c){1&t&&e._UZ(0,"mat-progress-spinner",24),2&t&&e.Q6J("diameter",24)}function Ae(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Ce,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"--Seleccione Medida--"),e.qZA(),e.TgZ(11,"mat-select",12,13),e.YNc(13,ve,2,2,"mat-option",14),e.qZA(),e.YNc(14,Ze,2,0,"mat-error",11),e.qZA()(),e.TgZ(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),e._uU(18,"Descripci\xf3n"),e.qZA(),e._UZ(19,"textarea",15),e.qZA()(),e.TgZ(20,"div",8)(21,"mat-form-field",8),e._UZ(22,"input",16),e.TgZ(23,"ngx-colors",17),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()()(),e.TgZ(24,"div",18)(25,"button",19),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(26,"span"),e._uU(27,"Cancelar"),e.qZA()(),e._UZ(28,"span",20),e.TgZ(29,"button",21),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.AddCategoriaAsync())}),e.YNc(30,be,2,0,"span",11)(31,Te,1,1,"mat-progress-spinner",22),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",o.registroCategoriaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("ngForOf",o.allMedidaDataSource),e.xp6(1),e.Q6J("ngIf",o.registroCategoriaForm.get("medida").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("ngModel",o.colorSelected),e.xp6(6),e.Q6J("disabled",o.registroCategoriaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.registroCategoriaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.registroCategoriaForm.disabled)}}function Ue(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Pe(t,c){if(1&t&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ie(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Medida es requerido"),e.qZA())}function qe(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function we(t,c){1&t&&e._UZ(0,"mat-progress-spinner",36),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function Me(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"mat-form-field",25)(1,"mat-label"),e._uU(2,"Nombre"),e.qZA(),e._UZ(3,"input",26),e.YNc(4,Ue,2,0,"mat-error",11),e.qZA(),e.TgZ(5,"mat-form-field",27)(6,"mat-label"),e._uU(7,"Seleccione Medida"),e.qZA(),e.TgZ(8,"mat-select",28),e.YNc(9,Pe,2,2,"mat-option",14),e.qZA(),e.YNc(10,Ie,2,0,"mat-error",11),e.qZA(),e.TgZ(11,"mat-form-field",29)(12,"mat-label"),e._uU(13,"Descripci\xf3n"),e.qZA(),e._UZ(14,"textarea",30),e.qZA(),e.TgZ(15,"mat-form-field"),e._UZ(16,"input",16),e.TgZ(17,"ngx-colors",31),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()(),e.TgZ(18,"div",32)(19,"button",33),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(20,"span"),e._uU(21," Cancelar "),e.qZA()(),e.TgZ(22,"button",34),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.AddCategoriaAsync())}),e.YNc(23,qe,2,0,"span",11)(24,we,1,2,"mat-progress-spinner",35),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre")("placeholder","Nombre"),e.xp6(1),e.Q6J("ngIf",o.registroCategoriaForm.get("nombre").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","medida"),e.xp6(1),e.Q6J("ngForOf",o.allMedidaDataSource),e.xp6(1),e.Q6J("ngIf",o.registroCategoriaForm.get("medida").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion")("placeholder","Descripci\xf3n"),e.xp6(3),e.Q6J("formControlName","color")("ngModel",o.colorSelected),e.xp6(2),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",o.registroCategoriaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.registroCategoriaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.registroCategoriaForm.disabled)}}let oe=(()=>{class t{constructor(o,i,a,n,u,m){this.paramsForms=o,this.matDialogRef=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.isCallingService=r.vU.False,this.colorSelected=r.MV.DefaultColor,this.userInfoLogueado=this.obtenerInfouserInfoLogueado()}ngOnInit(){this.allMedidaDataSource=this.paramsForms.lstMedida,this.registroCategoriaForm=this._formBuilder.group({nombre:["",[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Cincuenta)]],medida:["",[l.kI.required]],descripcion:["",[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],color:["",[]]})}AddCategoriaAsync(){if(this.registroCategoriaForm.invalid)return;const o=this.registroCategoriaForm.get("nombre").value,i=this.registroCategoriaForm.get("medida").value.id,a=this.registroCategoriaForm.get("descripcion").value,n=this.registroCategoriaForm.get("color").value,u=this._toolService.getTimeZone(),m=this.userInfoLogueado.idUsuario;if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidOrigenRegistro,s.T.Tittle);if(f.a.isEmptyInputValue(i))return void this._toolService.showWarning(s.T.InvalidMedida,s.T.Tittle);if(!S.$.isValidMinTwoLength(o))return void this._toolService.showWarning(s.T.AllowMinTwoLength,s.T.Tittle);if(!S.$.isValidFiftyLength(o))return void this._toolService.showWarning(s.T.AllowMaxFiftyLength,s.T.Tittle);if(!S.$.isValidTwoHundredFiftyLength(a))return void this._toolService.showWarning(s.T.AllowMaxTwoHundredFiftyLength,s.T.Tittle);const p=new xe;p.destinationTimeZoneIdRegistro=u,p.color=n,p.idUsuario=m,p.nombre=o,p.descripcion=a,p.idMedida=i,this.registroCategoriaForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.InsertCategoriaAsync(p).subscribe(d=>{if(d.success==r.vU.SuccessTransaction)return this._toolService.showSuccess(d.message,d.titleMessage),this.matDialogRef.close(d),void(this.isCallingService=r.vU.False)},d=>{if(d.status==r.GL.Forbidden)return this._toolService.showWarning(d.error,s.T.Tittle),this.registroCategoriaForm.enable(),this.isCallingService=r.vU.False,void console.log(d);this._toolService.showError(s.J.Transaction,s.J.Tittle),this.registroCategoriaForm.enable(),this.isCallingService=r.vU.False,console.log(d)})}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.WI),e.Y36(P.so),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro-categoria-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","50","required",""],[4,"ngIf"],["formControlName","medida","required",""],["selectMedidaItem",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","descripcion"],["autocomplete","off","matInput","","readonly","","placeholder","Color"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"ngModel","ngModelChange"],[1,"w-full","flex","justify-between"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[3,"value"],["mode","indeterminate",3,"diameter"],[1,"mb-2",3,"appearance"],["autocomplete","off","matInput","","maxlength","50","required","",3,"formControlName","placeholder"],[1,"flex-1",3,"appearance"],["required","",3,"formControlName"],[3,"appearance"],["matInput","","maxlength","250",3,"formControlName","placeholder"],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName","ngModel","ngModelChange"],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nueva categor\xeda"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Ae,32,10,"div",6)(8,Me,25,18),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.registroCategoriaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,T.TO,M.gD,E.ey,R.Ou,U.lW,U.RK,y.Hw,I.qZ,I.u_]})}return t})();var k=C(1476);class Fe{}var H=C(5986);function Se(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Je(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._uU(1),e.qZA()),2&t){e.oxw();const o=e.MAs(12);e.xp6(1),e.hij(" ",o.value.nombre," ")}}function ye(t,c){if(1&t&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function Qe(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Medida es requerido"),e.qZA())}function ke(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Ne(t,c){1&t&&e._UZ(0,"mat-progress-spinner",26),2&t&&e.Q6J("diameter",24)}function De(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Se,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Medida"),e.qZA(),e.TgZ(11,"mat-select",12,13),e.YNc(13,Je,2,1,"mat-select-trigger",11)(14,ye,2,2,"mat-option",14),e.qZA(),e.YNc(15,Qe,2,0,"mat-error",11),e.qZA()(),e.TgZ(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e._UZ(20,"textarea",15),e.qZA()(),e.TgZ(21,"div",8)(22,"mat-form-field",8),e._UZ(23,"input",16)(24,"ngx-colors",17),e.qZA()(),e.TgZ(25,"div",8)(26,"mat-form-field",8),e._UZ(27,"input",18),e.TgZ(28,"mat-checkbox",19),e._uU(29," Activo "),e.qZA()()(),e.TgZ(30,"div",20)(31,"button",21),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(32,"span"),e._uU(33,"Cancelar"),e.qZA()(),e._UZ(34,"span",22),e.TgZ(35,"button",23),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateCategoriaAsync())}),e.YNc(36,ke,2,0,"span",11)(37,Ne,1,1,"mat-progress-spinner",24),e.qZA()()()}if(2&t){const o=e.MAs(12),i=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre"),e.xp6(1),e.Q6J("ngIf",i.actualizaCategoriaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","medida")("compareWith",i.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",i.allMedidaDataSource),e.xp6(1),e.Q6J("ngIf",i.actualizaCategoriaForm.get("medida").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(4),e.Q6J("color","primary")("formControlName","activo"),e.xp6(7),e.Q6J("disabled",i.actualizaCategoriaForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.actualizaCategoriaForm.disabled),e.xp6(1),e.Q6J("ngIf",i.actualizaCategoriaForm.disabled)}}function Ee(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Re(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._uU(1),e.qZA()),2&t){e.oxw();const o=e.MAs(11);e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Ye(t,c){if(1&t&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function ze(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Medida es requerido"),e.qZA())}function Be(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function Ge(t,c){1&t&&e._UZ(0,"mat-progress-spinner",42),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function je(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",27)(1,"mat-form-field",28)(2,"mat-label"),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",29),e.YNc(5,Ee,2,0,"mat-error",11),e.qZA()(),e.TgZ(6,"div",27)(7,"mat-form-field",28)(8,"mat-label"),e._uU(9,"Medida"),e.qZA(),e.TgZ(10,"mat-select",30,13),e.YNc(12,Re,2,1,"mat-select-trigger",11)(13,Ye,2,2,"mat-option",31),e.qZA(),e.YNc(14,ze,2,0,"mat-error",11),e.qZA()(),e.TgZ(15,"div",32)(16,"mat-form-field",28)(17,"mat-label"),e._uU(18,"Descripci\xf3n"),e.qZA(),e._UZ(19,"textarea",33),e.qZA()(),e.TgZ(20,"div",32)(21,"mat-form-field",34),e._UZ(22,"input",16)(23,"ngx-colors",35),e.qZA(),e.TgZ(24,"mat-form-field",34),e._UZ(25,"input",36),e.TgZ(26,"mat-checkbox",19),e._uU(27,"Activo"),e.qZA()()(),e.TgZ(28,"div",37)(29,"button",38),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(30,"span"),e._uU(31," Cancelar "),e.qZA()(),e.TgZ(32,"button",39),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateCategoriaAsync())}),e.YNc(33,Be,2,0,"span",11)(34,Ge,1,2,"mat-progress-spinner",40),e.qZA()()}if(2&t){const o=e.MAs(11),i=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",i.actualizaCategoriaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","medida")("compareWith",i.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",i.allMedidaDataSource),e.xp6(1),e.Q6J("ngIf",i.actualizaCategoriaForm.get("medida").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion"),e.xp6(7),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",i.actualizaCategoriaForm.invalid||i.isCallingService),e.xp6(1),e.Q6J("ngIf",!i.actualizaCategoriaForm.disabled),e.xp6(1),e.Q6J("ngIf",i.actualizaCategoriaForm.disabled)}}let ae=(()=>{class t{constructor(o,i,a,n,u,m){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.isCallingService=r.vU.False,this.userInfoLogueado=this.obtenerInfouserInfoLogueado()}ngOnInit(){this.allMedidaDataSource=this.paramsForms.lstMedida,this.categoria=this.paramsForms.categoria,this.actualizaCategoriaForm=this._formBuilder.group({nombre:[this.categoria.nombre,[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Cincuenta)]],medida:[this.categoria.medida,[l.kI.required]],descripcion:[this.categoria.descripcion,[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],color:[this.categoria.color,[l.kI.required]],activo:[this.categoria.activo]})}UpdateCategoriaAsync(){if(this.actualizaCategoriaForm.invalid)return;const o=this.categoria.id,i=this.actualizaCategoriaForm.value.nombre,a=this.actualizaCategoriaForm.value.medida.id,n=this.actualizaCategoriaForm.value.descripcion,u=this.actualizaCategoriaForm.value.color,m=this._toolService.getTimeZone(),p=this.userInfoLogueado.idUsuario,d=this.actualizaCategoriaForm.value.activo;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(p))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidId,s.T.Tittle);if(f.a.isEmptyInputValue(i))return void this._toolService.showWarning(s.T.InvalidNombre,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidMedida,s.T.Tittle);if(!S.$.isValidMinTwoLength(i))return void this._toolService.showWarning(s.T.AllowMinTwoLength,s.T.Tittle);if(!S.$.isValidFiftyLength(i))return void this._toolService.showWarning(s.T.AllowMaxFiftyLength,s.T.Tittle);if(!S.$.isValidTwoHundredFiftyLength(n))return void this._toolService.showWarning(s.T.AllowMaxTwoHundredFiftyLength,s.T.Tittle);const Z=new Fe;Z.destinationTimeZoneIdActualizacion=m,Z.color=u,Z.id=o,Z.idMedida=a,Z.idUsuario=p,Z.nombre=i,Z.descripcion=n,Z.activo=d,this.actualizaCategoriaForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.UpdateCategoriaAsync(Z).subscribe(_=>{if(_.success)return this._toolService.showSuccess(_.message,_.titleMessage),this.matDialogRef.close(_),void(this.isCallingService=r.vU.False)},_=>{this._toolService.showError(s.J.Transaction,s.J.Tittle),this.actualizaCategoriaForm.enable(),this.isCallingService=r.vU.False,console.log(_)})}compareObjects(o,i){return o.id===i.id}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-modifica-categoria-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","maxlength","50","required","",3,"formControlName"],[4,"ngIf"],[3,"formControlName","compareWith"],["selectMedidaItem",""],["disabled","",3,"value",4,"ngFor","ngForOf"],["autocomplete","off","matInput","","formControlName","descripcion","maxlength","250"],["autocomplete","off","matInput","","readonly","","placeholder","Color","required",""],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName"],["matInput","","readonly",""],["matSuffix","",3,"color","formControlName"],[1,"w-full","flex","justify-between"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["disabled","",3,"value"],["mode","indeterminate",3,"diameter"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","50","required",""],["required","",3,"formControlName","compareWith"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-between","gap-4"],["matInput","","maxlength","250",3,"formControlName"],[1,"flex-1"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar"],["autocomplete","off","matInput","","readonly",""],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Modificar categor\xeda"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,De,38,16,"div",6)(8,je,35,17),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.actualizaCategoriaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,T.TO,T.R9,M.gD,M.$L,E.ey,R.Ou,U.lW,U.RK,y.Hw,H.oG,I.qZ,I.u_]})}return t})();var Y=C(5110);function Le(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._uU(1),e.qZA()),2&t){e.oxw();const o=e.MAs(11);e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Ve(t,c){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function Oe(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.qZA()(),e.TgZ(6,"div",8)(7,"mat-form-field",9)(8,"mat-label"),e._uU(9,"Medida"),e.qZA(),e.TgZ(10,"mat-select",11,12),e.YNc(12,Le,2,1,"mat-select-trigger",13)(13,Ve,2,2,"mat-option",14),e.qZA()()(),e.TgZ(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"textarea",15),e.qZA()(),e.TgZ(19,"div",8)(20,"mat-form-field",8),e._UZ(21,"input",16)(22,"ngx-colors",17),e.qZA()(),e.TgZ(23,"div",8)(24,"mat-form-field",8),e._UZ(25,"input",18),e.TgZ(26,"mat-checkbox",19),e._uU(27," Activo "),e.qZA()()(),e.TgZ(28,"div",8)(29,"mat-form-field",9)(30,"mat-label"),e._uU(31,"Fecha registro"),e.qZA(),e._UZ(32,"input",20)(33,"mat-datetimepicker-toggle",21)(34,"mat-datetimepicker",22,23),e.qZA()(),e.TgZ(36,"div",8)(37,"mat-form-field",9)(38,"mat-label"),e._uU(39,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(40,"input",24)(41,"mat-datetimepicker-toggle",21)(42,"mat-datetimepicker",22,25),e.qZA()(),e.TgZ(44,"div",26)(45,"button",27),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(46,"span"),e._uU(47,"Cerrar"),e.qZA()()()()}if(2&t){const o=e.MAs(11),i=e.MAs(35),a=e.MAs(43),n=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","medida")("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allMedidaDataSource),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(4),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",a),e.xp6(1),e.Q6J("for",a)}}function He(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._uU(1),e.qZA()),2&t){e.oxw();const o=e.MAs(10);e.xp6(1),e.hij(" ",o.value.nombre," ")}}function We(t,c){if(1&t&&(e.TgZ(0,"mat-option",42),e._uU(1),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ke(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",29)(1,"mat-form-field",30)(2,"mat-label"),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",31),e.qZA()(),e.TgZ(5,"div",29)(6,"mat-form-field",30)(7,"mat-label"),e._uU(8,"Medida"),e.qZA(),e.TgZ(9,"mat-select",32,12),e.YNc(11,He,2,1,"mat-select-trigger",13)(12,We,2,2,"mat-option",33),e.qZA()()(),e.TgZ(13,"div",34)(14,"mat-form-field",30)(15,"mat-label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e._UZ(17,"textarea",35),e.qZA()(),e.TgZ(18,"div",34)(19,"mat-form-field",36),e._UZ(20,"input",37)(21,"ngx-colors",17),e.qZA(),e.TgZ(22,"mat-form-field",36),e._UZ(23,"input",18),e.TgZ(24,"mat-checkbox",38),e._uU(25,"Activo"),e.qZA()()(),e.TgZ(26,"div",34)(27,"mat-form-field",30)(28,"mat-label"),e._uU(29,"Fecha registro"),e.qZA(),e._UZ(30,"input",20)(31,"mat-datetimepicker-toggle",21)(32,"mat-datetimepicker",22,23),e.qZA()(),e.TgZ(34,"div",34)(35,"mat-form-field",30)(36,"mat-label"),e._uU(37,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(38,"input",24)(39,"mat-datetimepicker-toggle",21)(40,"mat-datetimepicker",22,25),e.qZA()(),e.TgZ(42,"div",39)(43,"button",40),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(44,"span"),e._uU(45," Cerrar "),e.qZA()(),e._UZ(46,"span",41),e.qZA()}if(2&t){const o=e.MAs(10),i=e.MAs(33),a=e.MAs(41),n=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre")("placeholder","Nombre"),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","medida")("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allMedidaDataSource),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion")("placeholder","Descripci\xf3n"),e.xp6(4),e.Q6J("formControlName","color"),e.xp6(3),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(4),e.Q6J("color","primary")}}let ie=(()=>{class t{constructor(o,i,a,n){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._toolService=n}ngOnInit(){this.allMedidaDataSource=this.paramsForms.lstMedida,this.categoria=this.paramsForms.categoria,this.detalleCategoriaForm=this._formBuilder.group({nombre:[this.categoria.nombre],medida:[this.categoria.medida],descripcion:[this.categoria.descripcion],color:[this.categoria.color],fechaRegistro:[this.categoria.fechaRegistro],fechaActualizacion:[this.categoria.fechaActualizacion],activo:[this.categoria.activo]}),this.detalleCategoriaForm.disable()}compareObjects(o,i){return o.codigoMoneda===i.codigoMoneda}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-detalle-categoria-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["matInput","","formControlName","nombre","autocomplete","off"],[3,"formControlName","compareWith"],["selectMedidaItem",""],[4,"ngIf"],["disabled","",3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","descripcion",1,"no-resize-text-area"],["matInput","","disabled","","placeholder","Color","autocomplete","off"],["ngx-colors-trigger","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName"],["matInput","","readonly",""],[3,"color","formControlName"],["autocomplete","off","matInput","","autocomplete","false","placeholder","Fecha registro",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["matSuffix","",3,"for"],["type","datetime","openOnFocus","false","timeInterval","5"],["fechaRegistro",""],["matInput","","autocomplete","false","placeholder","\xdaltima fecha modificaci\xf3n",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["fechaActualizacion",""],[1,"w-full","flex","justify-between"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"click"],["disabled","",3,"value"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],["autocomplete","off","matInput","","readonly","",3,"formControlName","placeholder"],["required","",3,"formControlName","compareWith"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-between","gap-4"],["matInput","",3,"formControlName","placeholder"],[1,"flex-1"],["autocomplete","off","matInput","","disabled","","placeholder","Color"],["matSuffix","",3,"color","formControlName"],[1,"flex","justify-end","mt-2"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],[1,"w-2"],[3,"value"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Detalle categor\xeda"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Oe,48,18,"div",6)(8,Ke,47,23),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.detalleCategoriaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,Y._R,Y.C,Y.RZ,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,J.Nt,T.KE,T.hX,T.R9,M.gD,M.$L,E.ey,U.lW,U.RK,y.Hw,H.oG,I.qZ,I.u_]})}return t})();var $e=C(2993);let re=(()=>{class t extends k.ye{constructor(){super(...arguments),this.itemsPerPageLabel="Categor\xedas por p\xe1gina:",this.nextPageLabel="Siguiente p\xe1gina",this.previousPageLabel="P\xe1gina anterior",this.getRangeLabel=(o,i,a)=>0===a?"P\xe1gina 1 de 1":`P\xe1gina ${o+1} de ${Math.ceil(a/i)}`}static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=e.n5z(t)))(a||t)}})();static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Xe{}class et{}var Q=C(937),$=C(6278),X=C(2599),z=C(7988),B=C(2651),ee=C(2268);const tt=["categoriaTable"],ot=["matDrawer"];function at(t,c){1&t&&e._UZ(0,"mat-icon",33),2&t&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function it(t,c){1&t&&(e.TgZ(0,"span",34),e._uU(1,"Buscar"),e.qZA())}function rt(t,c){1&t&&e._UZ(0,"mat-progress-spinner",35),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function nt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",36),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,37)(4,"button",38),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarCategoria())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",39),e._uU(7,"Nuevo"),e.qZA()(),e.TgZ(8,"button",38),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",39),e._uU(11,"Filtrar"),e.qZA()(),e.TgZ(12,"button",40),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(13,"mat-icon",6),e.TgZ(14,"span",39),e._uU(15,"Exportar"),e.qZA()()()}if(2&t){const o=e.MAs(3),i=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",i.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function ct(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarCategoria())}),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",34),e._uU(3,"Nuevo"),e.qZA()(),e.TgZ(4,"button",43),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(5,"mat-icon",42),e.TgZ(6,"span",34),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(9,"mat-icon",42),e.TgZ(10,"span",34),e._uU(11,"Exportar"),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("color","primary")("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",o.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}const lt=()=>({"border-radius":"0",height:"50px"});function st(t,c){if(1&t&&(e.TgZ(0,"div",45),e._UZ(1,"ngx-skeleton-loader",46),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("count",o.skeletonNumber)("theme",e.DdM(2,lt))}}function mt(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1," Nombre "),e.qZA())}function ut(t,c){if(1&t&&(e.TgZ(0,"td",65)(1,"span",66),e._UZ(2,"span",67),e.TgZ(3,"span",68),e._uU(4),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(2),e.Udp("background-color",o.color),e.xp6(2),e.Oqu(o.nombre)}}function dt(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1,"Medida"),e.qZA())}function pt(t,c){if(1&t&&(e.TgZ(0,"td",65)(1,"span",66)(2,"span",68),e._uU(3),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(3),e.Oqu(o.medida.nombre)}}function gt(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1," Descripci\xf3n "),e.qZA())}function _t(t,c){if(1&t&&(e.TgZ(0,"td",69)(1,"span",70),e._uU(2),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.hij(" ",o.descripcion," ")}}function ft(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1," Fecha Registro "),e.qZA())}function ht(t,c){if(1&t&&(e.TgZ(0,"td",71)(1,"span",70),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,o.fechaRegistro,"dd/MM/yyyy HH:mm")," ")}}function xt(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1,"Activo"),e.qZA())}function Ct(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",69)(1,"mat-slide-toggle",72),e.NdJ("change",function(a){const u=e.CHM(o).$implicit,m=e.oxw(2);return e.KtG(m.UpdateActivoCategoriaAsync(u,a.checked))}),e.qZA()()}if(2&t){const o=c.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",o.activo)("disabled",i.disabledAcciones)}}function vt(t,c){1&t&&(e.TgZ(0,"th",64),e._uU(1," Acciones "),e.qZA())}function Zt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",69)(1,"div",73)(2,"button",74),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormDetalleCategoria(n))}),e._UZ(3,"mat-icon",75),e.qZA(),e.TgZ(4,"button",76),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormModificaCategoria(n))}),e._UZ(5,"mat-icon",77),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.DeleteAsync(n))}),e._UZ(7,"mat-icon",79),e.qZA()()()}if(2&t){const o=e.oxw(2);e.xp6(2),e.Q6J("disabled",o.disabledAcciones),e.xp6(2),e.Q6J("disabled",o.disabledAcciones),e.xp6(2),e.Q6J("disabled",o.disabledAcciones)}}function bt(t,c){1&t&&e._UZ(0,"tr",80)}function Tt(t,c){1&t&&e._UZ(0,"tr",81)}const At=()=>[10,15,20];function Ut(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",82)(1,"mat-paginator",83,84),e.NdJ("page",function(a){e.CHM(o);const n=e.oxw(2);return e.KtG(n.onPageChange(a))}),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("length",o.allCategoriaDataSource.data.length)("pageSize",5)("pageSizeOptions",e.DdM(3,At))}}function Pt(t,c){if(1&t&&(e.TgZ(0,"div",82),e._UZ(1,"img",85),e.TgZ(2,"div",86),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"p",87),e._uU(6,"Aplique otros filtros de b\xfasqueda"),e.qZA()()()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.imgNoDataUltimosRegistros,e.LSH),e.xp6(2),e.hij(" ",o.textoResultadoTable,"")}}function It(t,c){if(1&t&&(e.TgZ(0,"div",47)(1,"div",48)(2,"table",49,50),e.ynx(4,51),e.YNc(5,mt,2,0,"th",52)(6,ut,5,3,"td",53),e.BQk(),e.ynx(7,54),e.YNc(8,dt,2,0,"th",52)(9,pt,4,1,"td",53),e.BQk(),e.ynx(10,55),e.YNc(11,gt,2,0,"th",52)(12,_t,3,1,"td",56),e.BQk(),e.ynx(13,57),e.YNc(14,ft,2,0,"th",52)(15,ht,4,4,"td",58),e.BQk(),e.ynx(16,59),e.YNc(17,xt,2,0,"th",52)(18,Ct,2,2,"td",56),e.BQk(),e.ynx(19,60),e.YNc(20,vt,2,0,"th",52)(21,Zt,8,3,"td",56),e.BQk(),e.YNc(22,bt,1,0,"tr",61)(23,Tt,1,0,"tr",62),e.qZA()(),e.YNc(24,Ut,3,4,"div",63)(25,Pt,7,2,"div",63),e.qZA()),2&t){const o=e.oxw();e.xp6(2),e.Q6J("dataSource",o.pageSlice)("trackBy",o.trackByFn),e.xp6(20),e.Q6J("matHeaderRowDef",o.categoriaTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.categoriaTableColumns),e.xp6(1),e.Q6J("ngIf",o.allCategoriaDataSource.data.length>0),e.xp6(1),e.Q6J("ngIf",0===o.allCategoriaDataSource.data.length)}}let ne=(()=>{class t{constructor(o,i,a,n,u,m){this._formBuilder=o,this._securityService=i,this._inventarioService=a,this._matDialog=n,this._fuseConfirmationService=u,this._toolService=m,this.disabledAcciones=r.vU.False,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.False,this.skeleton=r.vU.False,this.skeletonNumber=r.Q6.Ocho,this.textoResultadoTable="",this.imgNoDataUltimosRegistros=r.HZ.noDataUltimosRegistros,this.pageSlice=new b.by,this.allCategoriaDataSource=new b.by,this.categoriaTableColumns=["nombre","medida","descripcion","fechaRegistro","activarDesactivar","acciones"],this._unsubscribeAll=new O.x,this.sortingActivoData=(p,d)=>this._toolService.sortingActivoData(p,d)}ngAfterViewInit(){this.allCategoriaDataSource.sort=this.categoriaTableMatSort,this.allCategoriaDataSource.paginator=this._paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getFilterComboConsulta()}formFiltros(){this.decodeToken=this.obtenerInfouserInfoLogueado(),this.filtroCategoriaForm=this._formBuilder.group({nombre:[""]})}getFilterComboConsulta(){const o=this.obtenerRequest();(0,j.D)({dataCategorias:this._inventarioService.GetAllCategoriaByFilterAsync(o),dataMedidas:this._inventarioService.GetAllMedidaAsync(this.decodeToken.idUsuario)}).subscribe({next:i=>{if(this.allCategoriaDataSource.data=i.dataCategorias,this.allMedidaDataSource=i.dataMedidas,this.pageSlice.data=[],this.allCategoriaDataSource.data.length>r.Q6.Cero)return this.disabledExportar=r.vU.False,this.setPageSlice(this.allCategoriaDataSource.data),this.disabledBuscar=r.vU.False,void this.hideSkeleton();this.textoResultadoTable=r.RO.NoDataResult,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,this.hideSkeleton()},error:i=>{this.hideSkeleton(),this._toolService.showError(s.J.Transaction,s.J.Tittle),this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,console.log(i)}})}GetAllCategoriaByFilterAsync(o,i,a){const n=this.obtenerRequest();this.disabledBuscar=o,this._inventarioService.GetAllCategoriaByFilterAsync(n).subscribe(u=>{if(this.allCategoriaDataSource.data=u,this.pageSlice.data=[],this.allCategoriaDataSource.data.length>r.Q6.Cero)return this.disabledExportar=r.vU.False,this.setPageSlice(this.allCategoriaDataSource.data),this.disabledBuscar=r.vU.False,this.hideSkeleton(),void(i&&this.closedDrawer());this.textoResultadoTable=r.RO.NoDataResult,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,this.hideSkeleton(),i&&this.closedDrawer()},u=>{this.hideSkeleton(),this._toolService.showError(s.J.Transaction,s.J.Tittle),this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,console.log(u),i&&this.closedDrawer()})}UpdateActivoCategoriaAsync(o,i){const a=this._toolService.getTimeZone(),n=this.isMobilSize()==r.vU.True?r.HK.PWA:r.HK.Web,u=this.decodeToken.idUsuario,m=o.id;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidCategoria,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidOrigenActualizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const p=new Xe;p.destinationTimeZoneIdActualizacion=a,p.id=m,p.idUsuario=u,p.activo=i,this.disabledAcciones=r.vU.True,this._inventarioService.UpdateActivoCategoriaAsync(p).subscribe(d=>{if(d.success){const Z=this.allCategoriaDataSource.data,_=Z.find(x=>x.id===o.id);return _&&(_.activo=i),this.allCategoriaDataSource.data=Z,void(this.disabledAcciones=r.vU.False)}this._toolService.showError(s.J.Transaction,s.J.Tittle)},d=>{this.disabledAcciones=r.vU.True,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(d)})}onShowFormRegistrarCategoria(){this._matDialog.open(oe,{data:{lstMedida:this.allMedidaDataSource}}).afterClosed().subscribe(i=>{i&&i.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllCategoriaByFilterAsync(r.vU.False,r.vU.False,r.vU.False))})}onShowFormModificaCategoria(o){this._matDialog.open(ae,{data:{categoria:o,lstMedida:this.allMedidaDataSource}}).afterClosed().subscribe(a=>{a&&a.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllCategoriaByFilterAsync(r.vU.False,r.vU.False,r.vU.False))})}onShowFormDetalleCategoria(o){this.showFormDetalleCategoriaDialog(o)}showFormDetalleCategoriaDialog(o){this._matDialog.open(ie,{autoFocus:r.vU.False,data:{categoria:o,lstMedida:this.allMedidaDataSource}})}DeleteAsync(o){this.configForm=this._formBuilder.group({title:"Borrar categor\xeda",message:"\xbfSeguro que quieres borrar la categor\xeda "+o.nombre+"?.",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation-triangle",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Borrar",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancelar"})}),dismissible:!0}),this._fuseConfirmationService.open(this.configForm.value).afterClosed().subscribe(a=>{if("confirmed"!=a)return;const n=this._toolService.getTimeZone(),u=this.decodeToken.idUsuario,m=o.id;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidCategoria,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const p=new et;p.destinationTimeZoneIdActualizacion=n,p.id=m,p.idUsuario=u,this.disabledAcciones=r.vU.True,this._inventarioService.DeleteCategoriaAsync(p).subscribe(d=>d.code==r.Pc.Advertencia?(this._toolService.showWarning(d.message,d.titleMessage),this.disabledAcciones=r.vU.False,void this.hideSkeleton()):d.success?(this._toolService.showSuccess(d.message,d.titleMessage),this.removeRowSelected(m),this.setPageSlice(this.allCategoriaDataSource.data),this.disabledAcciones=r.vU.False,this.getSkeletonCount(),this.showSkeleton(),void this.GetAllCategoriaByFilterAsync(r.vU.False,r.vU.False,r.vU.False)):(this._toolService.showError(s.J.Transaction,s.J.Tittle),void(this.disabledAcciones=r.vU.False)),d=>{this.hideSkeleton(),this.disabledAcciones=r.vU.False,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(d)})})}btnBuscar(){this.getSkeletonCount(),this.showSkeleton(),this.GetAllCategoriaByFilterAsync(r.vU.True,r.vU.True,r.vU.True)}onExportar(){if(this.pageSlice.data.length===r.Q6.Cero)return;const o=r.Dq.NombreExcelExportarCategorias,i=r.Dq.NombreHojaExcelCategorias,n=[],u={};this.allCategoriaDataSource.data.forEach(_=>{const x={"Nombre Categor\xeda":_.nombre,Medida:_.medida.nombre,Descripcion:_.descripcion,"Fecha Registro":this._toolService.formatoFecha(_.fechaRegistro),"\xbfActivo?":_.activo==r.vU.False?"No":"Si"};n.push(x),_.color&&(u[_.nombre]=_.color)});const m=Q.utils.json_to_sheet(n,{header:["Nombre Categor\xeda","Medida","Descripcion","Fecha Registro","\xbfActivo?"]}),p=n.reduce((_,x)=>(Object.keys(x).forEach((g,v)=>{const q=x[g]?x[g].toString().length:20;_[v]=Math.max(_[v]||20,q)}),_),[]);m["!cols"]=p.map(_=>({width:_+r.Q6.Cuatro})),["A1","B1","C1","D1","E1"].forEach(_=>{m[_]&&(m[_].s={fill:{fgColor:{rgb:"4f46e5"}},font:{bold:!0,color:{rgb:"ffffff"}},alignment:{horizontal:"center",vertical:"center"}})}),Object.keys(m).forEach(_=>{const x=_[0],g=parseInt(_.substring(1),10);if(!isNaN(g)&&g>1){if("A"===x){const v=m[_]?.v,q=u[v];q&&(m[_].s={fill:{fgColor:{rgb:q.replace("#","")}},font:{color:{rgb:"ffffff"}}})}("A"===x||"B"===x||"C"===x||"D"===x||"E"===x||"F"===x||"G"===x||"H"===x||"J"===x||"K"===x||"I"===x)&&m[_]&&(m[_].s={alignment:{horizontal:"center",vertical:"center"}})}});const Z=Q.utils.book_new();Q.utils.book_append_sheet(Z,m,i),Q.writeFile(Z,o)}obtenerRequest(){const o=new $e.l;return o.nombre=""==this.filtroCategoriaForm.get("nombre").value?"":this.filtroCategoriaForm.get("nombre").value,o.idUsuario=this.decodeToken.idUsuario,o}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}trackByFn(o,i){return i.id||o}onPageChange(o){const i=o.pageIndex*o.pageSize;let a=i+o.pageSize;a>this.allCategoriaDataSource.data.length&&(a=this.allCategoriaDataSource.data.length),this.pageSlice.data=this.allCategoriaDataSource.data.slice(i,a)}setPageSlice(o){this.pageSlice.data=o.slice(r.Q6.Cero,r.Q6.Cinco),this._paginator&&(this._paginator.pageIndex=r.Q6.Cero,this._paginator.pageSize=r.Q6.Cinco)}isMobilSize(){return this._toolService.isMobilSize()}removeRowSelected(o){const i=this.allCategoriaDataSource.data.findIndex(a=>a.id===o);-1!==i&&this.allCategoriaDataSource.data.splice(i,r.Q6.Uno)}closedDrawer(){this.matDrawer.close()}getSkeletonCount(){this.skeletonNumber=this.allCategoriaDataSource.data.length==r.Q6.Cero?r.Q6.Ocho:this.allCategoriaDataSource.data.length+r.Q6.Uno}showSkeleton(){this.skeleton=r.vU.Show}hideSkeleton(){this.skeleton=r.vU.Hide}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(l.QS),e.Y36(D.I),e.Y36(N.I),e.Y36(P.uw),e.Y36($.R),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-categoria-page"]],viewQuery:function(i,a){if(1&i&&(e.Gf(tt,5,F.YE),e.Gf(ot,5),e.Gf(k.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(a.categoriaTableMatSort=n.first),e.iGM(n=e.CRH())&&(a.matDrawer=n.first),e.iGM(n=e.CRH())&&(a._paginator=n.first)}},features:[e._Bn([{provide:k.ye,useClass:re}])],decls:43,vars:13,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["matInput","","formControlName","nombre","maxlength","50","autocomplete","off"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","items-center","ml-6"],[1,"w-full"],["class","skeleton-default  bg-card shadow rounded-2xl overflow-hidden ",4,"ngIf"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class","xl:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden",4,"ngIf"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"disabled","click"],[1,"skeleton-default","bg-card","shadow","rounded-2xl","overflow-hidden"],[3,"count","theme"],[1,"xl:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent","mb-3",3,"dataSource","trackBy"],["categoriaTable",""],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-50",4,"matCellDef"],["matColumnDef","medida"],["matColumnDef","descripcion"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaRegistro"],["mat-cell","","style","min-width: 180px",4,"matCellDef"],["matColumnDef","activarDesactivar"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","paginator",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"min-w-50"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full"],[1,"ml-3","leading-4"],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],["mat-cell","",2,"min-width","180px"],["color","primary",3,"checked","disabled","change"],[1,"flex"],["mat-icon-button","","color","accent",1,"p-1",3,"disabled","click"],["svgIcon","feather:eye"],["mat-icon-button","","color","primary",1,"p-1",3,"disabled","click"],["svgIcon","feather:edit-2"],["mat-icon-button","","color","warn",1,"p-1",3,"disabled","click"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row",""],[1,"paginator"],["aria-label","Seleccione p\xe1gina",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["alt","No hay datos disponibles",1,"w-72","mx-auto","mt-2",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"]],template:function(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(n);const m=e.MAs(2);return e.KtG(m.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Nombre"),e.qZA(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return a.btnBuscar()}),e.YNc(17,at,1,1,"mat-icon",13)(18,it,2,0,"span",14)(19,rt,1,2,"mat-progress-spinner",15),e.qZA()()()()(),e.TgZ(20,"mat-drawer-content",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"h2",22),e._uU(27,"Lista de Categor\xedas "),e.qZA()(),e.TgZ(28,"div",23)(29,"div")(30,"a",24),e._uU(31,"Categor\xedas"),e.qZA()(),e.TgZ(32,"div",25),e._UZ(33,"mat-icon",26),e.TgZ(34,"a",27),e._uU(35,"Lista de Categor\xedas"),e.qZA()()()(),e.TgZ(36,"div",28),e.YNc(37,nt,16,6)(38,ct,12,6),e.qZA()(),e.TgZ(39,"div",29),e.YNc(40,st,2,3,"div",30),e.TgZ(41,"div",31),e.YNc(42,It,26,6,"div",32),e.qZA()()()()()()}2&i&&(e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",a.filtroCategoriaForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("color","primary")("disabled",a.filtroCategoriaForm.invalid||a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",a.disabledBuscar),e.xp6(14),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(4),e.um2(37,a.isMobilSize()?37:38),e.xp6(3),e.Q6J("ngIf",a.skeleton),e.xp6(2),e.Q6J("ngIf",!a.skeleton))},dependencies:[h.O5,X.Rr,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,z.VK,z.OP,z.p6,R.Ou,B.jA,B.kh,B.LW,U.lW,U.RK,y.Hw,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,k.NW,F.YE,F.nU,ee.xr,h.uU]})}return t})(),qt=(()=>{class t extends k.ye{constructor(){super(...arguments),this.itemsPerPageLabel="Marcas por p\xe1gina:",this.nextPageLabel="Siguiente p\xe1gina",this.previousPageLabel="P\xe1gina anterior",this.getRangeLabel=(o,i,a)=>0===a?"P\xe1gina 1 de 1":`P\xe1gina ${o+1} de ${Math.ceil(a/i)}`}static#e=this.\u0275fac=(()=>{let o;return function(a){return(o||(o=e.n5z(t)))(a||t)}})();static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wt=C(3362);class Mt{}class Ft{}function St(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Jt(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function yt(t,c){1&t&&e._UZ(0,"mat-progress-spinner",22),2&t&&e.Q6J("diameter",24)}function Qt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,St,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Descripci\xf3n"),e.qZA(),e._UZ(11,"textarea",12),e.qZA()(),e.TgZ(12,"div",8)(13,"mat-form-field",8),e._UZ(14,"input",13)(15,"ngx-colors",14),e.qZA()(),e.TgZ(16,"div",8)(17,"mat-form-field",8),e._UZ(18,"input",15),e.TgZ(19,"mat-checkbox",16),e._uU(20," Activo "),e.qZA()()(),e.TgZ(21,"div",17)(22,"button",18),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(23,"span"),e._uU(24,"Cancelar"),e.qZA()(),e._UZ(25,"span",19),e.TgZ(26,"button",20),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateMarcaAsync())}),e.YNc(27,Jt,2,0,"span",11)(28,yt,1,1,"mat-progress-spinner",21),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre"),e.xp6(1),e.Q6J("ngIf",o.actualizaMarcaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(4),e.Q6J("color","primary")("formControlName","activo"),e.xp6(7),e.Q6J("disabled",o.actualizaMarcaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.actualizaMarcaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.actualizaMarcaForm.disabled)}}function kt(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Nt(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function Dt(t,c){1&t&&e._UZ(0,"mat-progress-spinner",35),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function Et(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",23)(1,"mat-form-field",24)(2,"mat-label"),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",25),e.YNc(5,kt,2,0,"mat-error",11),e.qZA()(),e.TgZ(6,"div",26)(7,"mat-form-field",24)(8,"mat-label"),e._uU(9,"Descripci\xf3n"),e.qZA(),e._UZ(10,"textarea",27),e.qZA()(),e.TgZ(11,"div",26)(12,"mat-form-field",28),e._UZ(13,"input",13)(14,"ngx-colors",29),e.qZA(),e.TgZ(15,"mat-form-field",28),e._UZ(16,"input",30),e.TgZ(17,"mat-checkbox",16),e._uU(18,"Activo"),e.qZA()()(),e.TgZ(19,"div",31)(20,"button",32),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(21,"span"),e._uU(22," Cancelar "),e.qZA()(),e.TgZ(23,"button",33),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateMarcaAsync())}),e.YNc(24,Nt,2,0,"span",11)(25,Dt,1,2,"mat-progress-spinner",34),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",o.actualizaMarcaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion"),e.xp6(7),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",o.actualizaMarcaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.actualizaMarcaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.actualizaMarcaForm.disabled)}}let ce=(()=>{class t{constructor(o,i,a,n,u,m){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.isCallingService=r.vU.False,this.userInfoLogueado=this.obtenerInfouserInfoLogueado()}ngOnInit(){this.marca=this.paramsForms.marca,this.actualizaMarcaForm=this._formBuilder.group({nombre:[this.marca.nombre,[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Cincuenta)]],descripcion:[this.marca.descripcion,[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],color:[this.marca.color,[l.kI.required]],activo:[this.marca.activo]})}UpdateMarcaAsync(){if(this.actualizaMarcaForm.invalid)return;const o=this.marca.id,i=this.actualizaMarcaForm.value.nombre,a=this.actualizaMarcaForm.value.descripcion,n=this.actualizaMarcaForm.value.color,u=this._toolService.getTimeZone(),m=this.userInfoLogueado.idUsuario,p=this.actualizaMarcaForm.value.activo;if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidId,s.T.Tittle);if(f.a.isEmptyInputValue(i))return void this._toolService.showWarning(s.T.InvalidNombre,s.T.Tittle);if(!S.$.isValidMinTwoLength(i))return void this._toolService.showWarning(s.T.AllowMinTwoLength,s.T.Tittle);if(!S.$.isValidFiftyLength(i))return void this._toolService.showWarning(s.T.AllowMaxFiftyLength,s.T.Tittle);if(!S.$.isValidTwoHundredFiftyLength(a))return void this._toolService.showWarning(s.T.AllowMaxTwoHundredFiftyLength,s.T.Tittle);const d=new Ft;d.destinationTimeZoneIdActualizacion=u,d.color=n,d.id=o,d.idUsuario=m,d.nombre=i,d.descripcion=a,d.activo=p,this.actualizaMarcaForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.UpdateMarcaAsync(d).subscribe(Z=>{if(Z.success)return this._toolService.showSuccess(Z.message,Z.titleMessage),this.matDialogRef.close(Z),void(this.isCallingService=r.vU.False)},Z=>{this._toolService.showError(s.J.Transaction,s.J.Tittle),this.actualizaMarcaForm.enable(),this.isCallingService=r.vU.False,console.log(Z)})}compareObjects(o,i){return o.id===i.id}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-modifica-marca-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","maxlength","50","required","",3,"formControlName"],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","descripcion","maxlength","250"],["autocomplete","off","matInput","","readonly","","placeholder","Color","required",""],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName"],["matInput","","readonly",""],["matSuffix","",3,"color","formControlName"],[1,"w-full","flex","justify-between"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["mode","indeterminate",3,"diameter"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","50","required",""],[1,"flex","justify-between","gap-4"],["matInput","","maxlength","250",3,"formControlName"],[1,"flex-1"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar"],["autocomplete","off","matInput","","readonly",""],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Modificar categor\xeda"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Qt,29,10,"div",6)(8,Et,26,11),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.actualizaMarcaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,T.TO,T.R9,R.Ou,U.lW,U.RK,y.Hw,H.oG,I.qZ,I.u_]})}return t})();function Rt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.qZA()(),e.TgZ(6,"div",8)(7,"mat-form-field",9)(8,"mat-label"),e._uU(9,"Descripci\xf3n"),e.qZA(),e._UZ(10,"textarea",11),e.qZA()(),e.TgZ(11,"div",8)(12,"mat-form-field",8),e._UZ(13,"input",12)(14,"ngx-colors",13),e.qZA()(),e.TgZ(15,"div",8)(16,"mat-form-field",8),e._UZ(17,"input",14),e.TgZ(18,"mat-checkbox",15),e._uU(19," Activo "),e.qZA()()(),e.TgZ(20,"div",8)(21,"mat-form-field",9)(22,"mat-label"),e._uU(23,"Fecha registro"),e.qZA(),e._UZ(24,"input",16)(25,"mat-datetimepicker-toggle",17)(26,"mat-datetimepicker",18,19),e.qZA()(),e.TgZ(28,"div",8)(29,"mat-form-field",9)(30,"mat-label"),e._uU(31,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(32,"input",20)(33,"mat-datetimepicker-toggle",17)(34,"mat-datetimepicker",18,21),e.qZA()(),e.TgZ(36,"div",22)(37,"button",23),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(38,"span"),e._uU(39,"Cerrar"),e.qZA()()()()}if(2&t){const o=e.MAs(27),i=e.MAs(35);e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(4),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",i),e.xp6(1),e.Q6J("for",i)}}function Yt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",24)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",26),e.qZA()(),e.TgZ(5,"div",27)(6,"mat-form-field",25)(7,"mat-label"),e._uU(8,"Descripci\xf3n"),e.qZA(),e._UZ(9,"textarea",28),e.qZA()(),e.TgZ(10,"div",27)(11,"mat-form-field",29),e._UZ(12,"input",30)(13,"ngx-colors",13),e.qZA(),e.TgZ(14,"mat-form-field",29),e._UZ(15,"input",14),e.TgZ(16,"mat-checkbox",31),e._uU(17,"Activo"),e.qZA()()(),e.TgZ(18,"div",27)(19,"mat-form-field",25)(20,"mat-label"),e._uU(21,"Fecha registro"),e.qZA(),e._UZ(22,"input",16)(23,"mat-datetimepicker-toggle",17)(24,"mat-datetimepicker",18,19),e.qZA()(),e.TgZ(26,"div",27)(27,"mat-form-field",25)(28,"mat-label"),e._uU(29,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(30,"input",20)(31,"mat-datetimepicker-toggle",17)(32,"mat-datetimepicker",18,21),e.qZA()(),e.TgZ(34,"div",32)(35,"button",33),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(36,"span"),e._uU(37," Cerrar "),e.qZA()(),e._UZ(38,"span",34),e.qZA()}if(2&t){const o=e.MAs(25),i=e.MAs(33);e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre")("placeholder","Nombre"),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion")("placeholder","Descripci\xf3n"),e.xp6(4),e.Q6J("formControlName","color"),e.xp6(3),e.Q6J("color","primary")("formControlName","activo"),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(4),e.Q6J("color","primary")}}let le=(()=>{class t{constructor(o,i,a,n){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._toolService=n}ngOnInit(){this.marca=this.paramsForms.marca,this.detalleMarcaForm=this._formBuilder.group({nombre:[this.marca.nombre],descripcion:[this.marca.descripcion],color:[this.marca.color],fechaRegistro:[this.marca.fechaRegistro],fechaActualizacion:[this.marca.fechaActualizacion],activo:[this.marca.activo]}),this.detalleMarcaForm.disable()}compareObjects(o,i){return o.codigoMoneda===i.codigoMoneda}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-detalle-marca-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["matInput","","formControlName","nombre","autocomplete","off"],["matInput","","formControlName","descripcion",1,"no-resize-text-area"],["matInput","","disabled","","placeholder","Color","autocomplete","off"],["ngx-colors-trigger","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName"],["matInput","","readonly",""],[3,"color","formControlName"],["autocomplete","off","matInput","","autocomplete","false","placeholder","Fecha registro",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["matSuffix","",3,"for"],["type","datetime","openOnFocus","false","timeInterval","5"],["fechaRegistro",""],["matInput","","autocomplete","false","placeholder","\xdaltima fecha modificaci\xf3n",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["fechaActualizacion",""],[1,"w-full","flex","justify-between"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"click"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],["autocomplete","off","matInput","","readonly","",3,"formControlName","placeholder"],[1,"flex","justify-between","gap-4"],["matInput","",3,"formControlName","placeholder"],[1,"flex-1"],["autocomplete","off","matInput","","disabled","","placeholder","Color"],["matSuffix","",3,"color","formControlName"],[1,"flex","justify-end","mt-2"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],[1,"w-2"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Detalle marca"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Rt,40,13,"div",6)(8,Yt,39,18),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.detalleMarcaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[Y._R,Y.C,Y.RZ,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,J.Nt,T.KE,T.hX,T.R9,U.lW,U.RK,y.Hw,H.oG,I.qZ,I.u_]})}return t})();class zt{}class Bt{}function Gt(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function jt(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Lt(t,c){1&t&&e._UZ(0,"mat-progress-spinner",20),2&t&&e.Q6J("diameter",24)}function Vt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Nombre"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Gt,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Descripci\xf3n"),e.qZA(),e._UZ(11,"textarea",12),e.qZA()(),e.TgZ(12,"div",8)(13,"mat-form-field",8),e._UZ(14,"input",13),e.TgZ(15,"ngx-colors",14),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()()(),e.TgZ(16,"div",15)(17,"button",16),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(18,"span"),e._uU(19,"Cancelar"),e.qZA()(),e._UZ(20,"span",17),e.TgZ(21,"button",18),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.AddMarcaAsync())}),e.YNc(22,jt,2,0,"span",11)(23,Lt,1,1,"mat-progress-spinner",19),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",o.registroMarcaForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("ngModel",o.colorSelected),e.xp6(6),e.Q6J("disabled",o.registroMarcaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.registroMarcaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.registroMarcaForm.disabled)}}function Ot(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Ht(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function Wt(t,c){1&t&&e._UZ(0,"mat-progress-spinner",30),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function Kt(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"mat-form-field",21)(1,"mat-label"),e._uU(2,"Nombre"),e.qZA(),e._UZ(3,"input",22),e.YNc(4,Ot,2,0,"mat-error",11),e.qZA(),e.TgZ(5,"mat-form-field",23)(6,"mat-label"),e._uU(7,"Descripci\xf3n"),e.qZA(),e._UZ(8,"textarea",24),e.qZA(),e.TgZ(9,"mat-form-field"),e._UZ(10,"input",13),e.TgZ(11,"ngx-colors",25),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()(),e.TgZ(12,"div",26)(13,"button",27),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(14,"span"),e._uU(15," Cancelar "),e.qZA()(),e.TgZ(16,"button",28),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.AddMarcaAsync())}),e.YNc(17,Ht,2,0,"span",11)(18,Wt,1,2,"mat-progress-spinner",29),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","nombre")("placeholder","Nombre"),e.xp6(1),e.Q6J("ngIf",o.registroMarcaForm.get("nombre").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","descripcion")("placeholder","Descripci\xf3n"),e.xp6(3),e.Q6J("formControlName","color")("ngModel",o.colorSelected),e.xp6(2),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",o.registroMarcaForm.invalid||o.isCallingService),e.xp6(1),e.Q6J("ngIf",!o.registroMarcaForm.disabled),e.xp6(1),e.Q6J("ngIf",o.registroMarcaForm.disabled)}}let se=(()=>{class t{constructor(o,i,a,n,u,m){this.paramsForms=o,this.matDialogRef=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.isCallingService=r.vU.False,this.colorSelected=r.MV.DefaultColor,this.userInfoLogueado=this.obtenerInfouserInfoLogueado()}ngOnInit(){this.registroMarcaForm=this._formBuilder.group({nombre:["",[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Cincuenta)]],descripcion:["",[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],color:["",[]]})}AddMarcaAsync(){if(this.registroMarcaForm.invalid)return;const o=this.registroMarcaForm.get("nombre").value,i=this.registroMarcaForm.get("descripcion").value,a=this.registroMarcaForm.get("color").value,n=this._toolService.getTimeZone(),u=this.userInfoLogueado.idUsuario;if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidOrigenRegistro,s.T.Tittle);if(!S.$.isValidMinTwoLength(o))return void this._toolService.showWarning(s.T.AllowMinTwoLength,s.T.Tittle);if(!S.$.isValidFiftyLength(o))return void this._toolService.showWarning(s.T.AllowMaxFiftyLength,s.T.Tittle);if(!S.$.isValidTwoHundredFiftyLength(i))return void this._toolService.showWarning(s.T.AllowMaxTwoHundredFiftyLength,s.T.Tittle);const m=new Bt;m.destinationTimeZoneIdRegistro=n,m.color=a,m.idUsuario=u,m.nombre=o,m.descripcion=i,this.registroMarcaForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.InsertMarcaAsync(m).subscribe(p=>{if(p.success==r.vU.SuccessTransaction)return this._toolService.showSuccess(p.message,p.titleMessage),this.matDialogRef.close(p),void(this.isCallingService=r.vU.False)},p=>{if(p.status==r.GL.Forbidden)return this._toolService.showWarning(p.error,s.T.Tittle),this.registroMarcaForm.enable(),this.isCallingService=r.vU.False,void console.log(p);this._toolService.showError(s.J.Transaction,s.J.Tittle),this.registroMarcaForm.enable(),this.isCallingService=r.vU.False,console.log(p)})}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.WI),e.Y36(P.so),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro-marca-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","50","required",""],[4,"ngIf"],["matInput","","formControlName","descripcion"],["autocomplete","off","matInput","","readonly","","placeholder","Color"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"ngModel","ngModelChange"],[1,"w-full","flex","justify-between"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],["mode","indeterminate",3,"diameter"],[1,"mb-2",3,"appearance"],["autocomplete","off","matInput","","maxlength","50","required","",3,"formControlName","placeholder"],[3,"appearance"],["matInput","","maxlength","250",3,"formControlName","placeholder"],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName","ngModel","ngModelChange"],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nueva marca"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Vt,24,7,"div",6)(8,Kt,19,14),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.registroMarcaForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,T.TO,R.Ou,U.lW,U.RK,y.Hw,I.qZ,I.u_]})}return t})();const $t=["marcaTable"],Xt=["matDrawer"];function eo(t,c){1&t&&e._UZ(0,"mat-icon",33),2&t&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function to(t,c){1&t&&(e.TgZ(0,"span",34),e._uU(1,"Buscar"),e.qZA())}function oo(t,c){1&t&&e._UZ(0,"mat-progress-spinner",35),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function ao(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",36),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,37)(4,"button",38),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarMarca())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",39),e._uU(7,"Nuevo"),e.qZA()(),e.TgZ(8,"button",38),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",39),e._uU(11,"Filtrar"),e.qZA()(),e.TgZ(12,"button",40),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(13,"mat-icon",6),e.TgZ(14,"span",39),e._uU(15,"Exportar"),e.qZA()()()}if(2&t){const o=e.MAs(3),i=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",i.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function io(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarMarca())}),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",34),e._uU(3,"Nuevo"),e.qZA()(),e.TgZ(4,"button",43),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(5,"mat-icon",42),e.TgZ(6,"span",34),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(9,"mat-icon",42),e.TgZ(10,"span",34),e._uU(11,"Exportar"),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("color","primary")("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",o.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}const ro=()=>({"border-radius":"0",height:"50px"});function no(t,c){if(1&t&&(e.TgZ(0,"div",45),e._UZ(1,"ngx-skeleton-loader",46),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("count",o.skeletonNumber)("theme",e.DdM(2,ro))}}function co(t,c){1&t&&(e.TgZ(0,"th",63),e._uU(1," Nombre "),e.qZA())}function lo(t,c){if(1&t&&(e.TgZ(0,"td",64)(1,"span",65),e._UZ(2,"span",66),e.TgZ(3,"span",67),e._uU(4),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(2),e.Udp("background-color",o.color),e.xp6(2),e.Oqu(o.nombre)}}function so(t,c){1&t&&(e.TgZ(0,"th",63),e._uU(1," Descripci\xf3n "),e.qZA())}function mo(t,c){if(1&t&&(e.TgZ(0,"td",68)(1,"span",69),e._uU(2),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.hij(" ",o.descripcion," ")}}function uo(t,c){1&t&&(e.TgZ(0,"th",63),e._uU(1," Fecha Registro "),e.qZA())}function po(t,c){if(1&t&&(e.TgZ(0,"td",70)(1,"span",69),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,o.fechaRegistro,"dd/MM/yyyy HH:mm")," ")}}function go(t,c){1&t&&(e.TgZ(0,"th",63),e._uU(1,"Activo"),e.qZA())}function _o(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",68)(1,"mat-slide-toggle",71),e.NdJ("change",function(a){const u=e.CHM(o).$implicit,m=e.oxw(2);return e.KtG(m.UpdateActivoMarcaAsync(u,a.checked))}),e.qZA()()}if(2&t){const o=c.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",o.activo)("disabled",i.disabledAcciones)}}function fo(t,c){1&t&&(e.TgZ(0,"th",63),e._uU(1," Acciones "),e.qZA())}function ho(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",68)(1,"div",72)(2,"button",73),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormDetalleMarca(n))}),e._UZ(3,"mat-icon",74),e.qZA(),e.TgZ(4,"button",75),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormModificaMarca(n))}),e._UZ(5,"mat-icon",76),e.qZA(),e.TgZ(6,"button",77),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.DeleteAsync(n))}),e._UZ(7,"mat-icon",78),e.qZA()()()}if(2&t){const o=e.oxw(2);e.xp6(2),e.Q6J("disabled",o.disabledAcciones),e.xp6(2),e.Q6J("disabled",o.disabledAcciones),e.xp6(2),e.Q6J("disabled",o.disabledAcciones)}}function xo(t,c){1&t&&e._UZ(0,"tr",79)}function Co(t,c){1&t&&e._UZ(0,"tr",80)}const vo=()=>[10,15,20];function Zo(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",81)(1,"mat-paginator",82,83),e.NdJ("page",function(a){e.CHM(o);const n=e.oxw(2);return e.KtG(n.onPageChange(a))}),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("length",o.allMarcaDataSource.data.length)("pageSize",5)("pageSizeOptions",e.DdM(3,vo))}}function bo(t,c){if(1&t&&(e.TgZ(0,"div",81),e._UZ(1,"img",84),e.TgZ(2,"div",85),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"p",86),e._uU(6,"Aplique otros filtros de b\xfasqueda"),e.qZA()()()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.imgNoDataUltimosRegistros,e.LSH),e.xp6(2),e.hij(" ",o.textoResultadoTable,"")}}function To(t,c){if(1&t&&(e.TgZ(0,"div",47)(1,"div",48)(2,"table",49,50),e.ynx(4,51),e.YNc(5,co,2,0,"th",52)(6,lo,5,3,"td",53),e.BQk(),e.ynx(7,54),e.YNc(8,so,2,0,"th",52)(9,mo,3,1,"td",55),e.BQk(),e.ynx(10,56),e.YNc(11,uo,2,0,"th",52)(12,po,4,4,"td",57),e.BQk(),e.ynx(13,58),e.YNc(14,go,2,0,"th",52)(15,_o,2,2,"td",55),e.BQk(),e.ynx(16,59),e.YNc(17,fo,2,0,"th",52)(18,ho,8,3,"td",55),e.BQk(),e.YNc(19,xo,1,0,"tr",60)(20,Co,1,0,"tr",61),e.qZA()(),e.YNc(21,Zo,3,4,"div",62)(22,bo,7,2,"div",62),e.qZA()),2&t){const o=e.oxw();e.xp6(2),e.Q6J("dataSource",o.pageSlice)("trackBy",o.trackByFn),e.xp6(17),e.Q6J("matHeaderRowDef",o.marcaTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.marcaTableColumns),e.xp6(1),e.Q6J("ngIf",o.allMarcaDataSource.data.length>0),e.xp6(1),e.Q6J("ngIf",0===o.allMarcaDataSource.data.length)}}let me=(()=>{class t{constructor(o,i,a,n,u,m){this._formBuilder=o,this._securityService=i,this._inventarioService=a,this._matDialog=n,this._fuseConfirmationService=u,this._toolService=m,this.disabledAcciones=r.vU.False,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.False,this.skeleton=r.vU.False,this.skeletonNumber=r.Q6.Ocho,this.textoResultadoTable="",this.imgNoDataUltimosRegistros=r.HZ.noDataUltimosRegistros,this.pageSlice=new b.by,this.allMarcaDataSource=new b.by,this.marcaTableColumns=["nombre","descripcion","fechaRegistro","activarDesactivar","acciones"],this._unsubscribeAll=new O.x,this.sortingActivoData=(p,d)=>this._toolService.sortingActivoData(p,d)}ngAfterViewInit(){this.allMarcaDataSource.sort=this.marcaTableMatSort,this.allMarcaDataSource.paginator=this._paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.GetAllMarcaByFilterAsync(r.vU.False,r.vU.False,r.vU.True)}formFiltros(){this.decodeToken=this.obtenerInfouserInfoLogueado(),this.filtroMarcaForm=this._formBuilder.group({nombre:[""],descripcion:["",[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],color:["",[]]})}GetAllMarcaByFilterAsync(o,i,a){const n=this.obtenerRequest();this.disabledBuscar=o,this._inventarioService.GetAllMarcaByFilterAsync(n).subscribe(u=>{if(this.allMarcaDataSource.data=u,this.pageSlice.data=[],this.allMarcaDataSource.data.length>r.Q6.Cero)return this.disabledExportar=r.vU.False,this.setPageSlice(this.allMarcaDataSource.data),this.disabledBuscar=r.vU.False,this.hideSkeleton(),void(i&&this.closedDrawer());this.textoResultadoTable=r.RO.NoDataResult,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,this.hideSkeleton(),i&&this.closedDrawer()},u=>{this.hideSkeleton(),this._toolService.showError(s.J.Transaction,s.J.Tittle),this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,console.log(u),i&&this.closedDrawer()})}UpdateActivoMarcaAsync(o,i){const a=this._toolService.getTimeZone(),n=this.decodeToken.idUsuario,u=o.id;if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidCategoria,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const m=new zt;m.destinationTimeZoneIdActualizacion=a,m.id=u,m.idUsuario=n,m.activo=i,this.disabledAcciones=r.vU.True,this._inventarioService.UpdateActivoMarcaAsync(m).subscribe(p=>{if(p.success){const d=this.allMarcaDataSource.data,Z=d.find(_=>_.id===o.id);return Z&&(Z.activo=i),this.allMarcaDataSource.data=d,void(this.disabledAcciones=r.vU.False)}this._toolService.showError(s.J.Transaction,s.J.Tittle)},p=>{this.disabledAcciones=r.vU.True,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(p)})}onShowFormRegistrarMarca(){this._matDialog.open(se,{}).afterClosed().subscribe(i=>{i&&i.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllMarcaByFilterAsync(r.vU.False,r.vU.False,r.vU.False))})}onShowFormModificaMarca(o){this._matDialog.open(ce,{data:{marca:o}}).afterClosed().subscribe(a=>{a&&a.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllMarcaByFilterAsync(r.vU.False,r.vU.False,r.vU.False))})}onShowFormDetalleMarca(o){this.showFormDetalleMarcaDialog(o)}showFormDetalleMarcaDialog(o){this._matDialog.open(le,{autoFocus:r.vU.False,data:{marca:o}})}DeleteAsync(o){this.configForm=this._formBuilder.group({title:"Borrar marca",message:"\xbfSeguro que quieres borrar la marca "+o.nombre+"?.",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation-triangle",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Borrar",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancelar"})}),dismissible:!0}),this._fuseConfirmationService.open(this.configForm.value).afterClosed().subscribe(a=>{if("confirmed"!=a)return;const n=this._toolService.getTimeZone(),u=this.decodeToken.idUsuario,m=o.id;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidMarca,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const p=new Mt;p.destinationTimeZoneIdActualizacion=n,p.id=m,p.idUsuario=u,this.disabledAcciones=r.vU.True,this._inventarioService.DeleteMarcaAsync(p).subscribe(d=>d.code==r.Pc.Advertencia?(this._toolService.showWarning(d.message,d.titleMessage),this.disabledAcciones=r.vU.False,void this.hideSkeleton()):d.success?(this._toolService.showSuccess(d.message,d.titleMessage),this.removeRowSelected(m),this.setPageSlice(this.allMarcaDataSource.data),this.disabledAcciones=r.vU.False,this.getSkeletonCount(),this.showSkeleton(),void this.GetAllMarcaByFilterAsync(r.vU.False,r.vU.False,r.vU.False)):(this._toolService.showError(s.J.Transaction,s.J.Tittle),void(this.disabledAcciones=r.vU.False)),d=>{this.hideSkeleton(),this.disabledAcciones=r.vU.False,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(d)})})}btnBuscar(){this.getSkeletonCount(),this.showSkeleton(),this.GetAllMarcaByFilterAsync(r.vU.True,r.vU.True,r.vU.True)}onExportar(){if(this.pageSlice.data.length===r.Q6.Cero)return;const o=r.Dq.NombreExcelExportarMarcas,i=r.Dq.NombreHojaExcelMarcas,n=[],u={};this.allMarcaDataSource.data.forEach(_=>{const x={"Nombre Marca":_.nombre,Descripcion:_.descripcion,"Fecha Registro":this._toolService.formatoFecha(_.fechaRegistro),"\xbfActivo?":_.activo==r.vU.False?"No":"Si"};n.push(x),_.color&&(u[_.nombre]=_.color)});const m=Q.utils.json_to_sheet(n,{header:["Nombre Marca","Descripcion","Fecha Registro","\xbfActivo?"]}),p=n.reduce((_,x)=>(Object.keys(x).forEach((g,v)=>{const q=x[g]?x[g].toString().length:20;_[v]=Math.max(_[v]||20,q)}),_),[]);m["!cols"]=p.map(_=>({width:_+r.Q6.Cuatro})),["A1","B1","C1","D1"].forEach(_=>{m[_]&&(m[_].s={fill:{fgColor:{rgb:"4f46e5"}},font:{bold:!0,color:{rgb:"ffffff"}},alignment:{horizontal:"center",vertical:"center"}})}),Object.keys(m).forEach(_=>{const x=_[0],g=parseInt(_.substring(1),10);if(!isNaN(g)&&g>1){if("A"===x){const v=m[_]?.v,q=u[v];q&&(m[_].s={fill:{fgColor:{rgb:q.replace("#","")}},font:{color:{rgb:"ffffff"}}})}("A"===x||"B"===x||"C"===x||"D"===x||"E"===x||"F"===x||"G"===x||"H"===x||"J"===x||"K"===x||"I"===x)&&m[_]&&(m[_].s={alignment:{horizontal:"center",vertical:"center"}})}});const Z=Q.utils.book_new();Q.utils.book_append_sheet(Z,m,i),Q.writeFile(Z,o)}obtenerRequest(){const o=new wt.Z;return o.nombre=""==this.filtroMarcaForm.get("nombre").value?"":this.filtroMarcaForm.get("nombre").value,o.idUsuario=this.decodeToken.idUsuario,o}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}trackByFn(o,i){return i.id||o}onPageChange(o){const i=o.pageIndex*o.pageSize;let a=i+o.pageSize;a>this.allMarcaDataSource.data.length&&(a=this.allMarcaDataSource.data.length),this.pageSlice.data=this.allMarcaDataSource.data.slice(i,a)}setPageSlice(o){this.pageSlice.data=o.slice(r.Q6.Cero,r.Q6.Cinco),this._paginator&&(this._paginator.pageIndex=r.Q6.Cero,this._paginator.pageSize=r.Q6.Cinco)}isMobilSize(){return this._toolService.isMobilSize()}removeRowSelected(o){const i=this.allMarcaDataSource.data.findIndex(a=>a.id===o);-1!==i&&this.allMarcaDataSource.data.splice(i,r.Q6.Uno)}closedDrawer(){this.matDrawer.close()}getSkeletonCount(){this.skeletonNumber=this.allMarcaDataSource.data.length==r.Q6.Cero?r.Q6.Ocho:this.allMarcaDataSource.data.length+r.Q6.Uno}showSkeleton(){this.skeleton=r.vU.Show}hideSkeleton(){this.skeleton=r.vU.Hide}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(l.QS),e.Y36(D.I),e.Y36(N.I),e.Y36(P.uw),e.Y36($.R),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-marca-page"]],viewQuery:function(i,a){if(1&i&&(e.Gf($t,5,F.YE),e.Gf(Xt,5),e.Gf(k.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(a.marcaTableMatSort=n.first),e.iGM(n=e.CRH())&&(a.matDrawer=n.first),e.iGM(n=e.CRH())&&(a._paginator=n.first)}},features:[e._Bn([{provide:k.ye,useClass:qt}])],decls:43,vars:13,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["matInput","","formControlName","nombre","maxlength","50","autocomplete","off"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","items-center","ml-6"],[1,"w-full"],["class","skeleton-default  bg-card shadow rounded-2xl overflow-hidden ",4,"ngIf"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class","xl:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden",4,"ngIf"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"disabled","click"],[1,"skeleton-default","bg-card","shadow","rounded-2xl","overflow-hidden"],[3,"count","theme"],[1,"xl:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent","mb-3",3,"dataSource","trackBy"],["marcaTable",""],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-50",4,"matCellDef"],["matColumnDef","descripcion"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaRegistro"],["mat-cell","","style","min-width: 180px",4,"matCellDef"],["matColumnDef","activarDesactivar"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","paginator",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"min-w-50"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full"],[1,"ml-3","leading-4"],["mat-cell",""],[1,"pr-6","whitespace-nowrap"],["mat-cell","",2,"min-width","180px"],["color","primary",3,"checked","disabled","change"],[1,"flex"],["mat-icon-button","","color","accent",1,"p-1",3,"disabled","click"],["svgIcon","feather:eye"],["mat-icon-button","","color","primary",1,"p-1",3,"disabled","click"],["svgIcon","feather:edit-2"],["mat-icon-button","","color","warn",1,"p-1",3,"disabled","click"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row",""],[1,"paginator"],["aria-label","Seleccione p\xe1gina",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["alt","No hay datos disponibles",1,"w-72","mx-auto","mt-2",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"]],template:function(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(n);const m=e.MAs(2);return e.KtG(m.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"Nombre"),e.qZA(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return a.btnBuscar()}),e.YNc(17,eo,1,1,"mat-icon",13)(18,to,2,0,"span",14)(19,oo,1,2,"mat-progress-spinner",15),e.qZA()()()()(),e.TgZ(20,"mat-drawer-content",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"h2",22),e._uU(27,"Lista de Marcas "),e.qZA()(),e.TgZ(28,"div",23)(29,"div")(30,"a",24),e._uU(31,"Marcas"),e.qZA()(),e.TgZ(32,"div",25),e._UZ(33,"mat-icon",26),e.TgZ(34,"a",27),e._uU(35,"Lista de Marcas"),e.qZA()()()(),e.TgZ(36,"div",28),e.YNc(37,ao,16,6)(38,io,12,6),e.qZA()(),e.TgZ(39,"div",29),e.YNc(40,no,2,3,"div",30),e.TgZ(41,"div",31),e.YNc(42,To,23,6,"div",32),e.qZA()()()()()()}2&i&&(e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",a.filtroMarcaForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("color","primary")("disabled",a.filtroMarcaForm.invalid||a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",a.disabledBuscar),e.xp6(14),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(4),e.um2(37,a.isMobilSize()?37:38),e.xp6(3),e.Q6J("ngIf",a.skeleton),e.xp6(2),e.Q6J("ngIf",!a.skeleton))},dependencies:[h.O5,X.Rr,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,z.VK,z.OP,z.p6,R.Ou,B.jA,B.kh,B.LW,U.lW,U.RK,y.Hw,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,k.NW,F.YE,F.nU,ee.xr,h.uU]})}return t})();class Ao{}class Uo{}class Po{}var W=C(2228);function Io(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function qo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function wo(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(18);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Mo(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Fo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function So(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(27);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Jo(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function yo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function Qo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function ko(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function No(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function Do(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 999 "),e.qZA())}function Eo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede ser menor a 0 "),e.qZA())}function Ro(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",40),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)}}function Yo(t,c){if(1&t&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Oqu(o.iniciales)}}function zo(t,c){if(1&t&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"SIN IMAGEN"),e.qZA(),e.YNc(3,Yo,2,1,"span",43),e.qZA()),2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.iniciales)}}function Bo(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.eliminarFoto())}),e._UZ(1,"mat-icon",46),e.qZA()}2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"))}function Go(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function jo(t,c){1&t&&e._UZ(0,"mat-progress-spinner",47),2&t&&e.Q6J("diameter",24)}function Lo(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"C\xf3digo"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Io,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",12),e.YNc(12,qo,2,0,"mat-error",11),e.qZA()(),e.TgZ(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),e._uU(16,"Seleccione Categor\xeda"),e.qZA(),e.TgZ(17,"mat-select",13,14),e.YNc(19,wo,3,3,"mat-select-trigger",11)(20,Mo,3,4,"mat-option",15),e.qZA(),e.YNc(21,Fo,2,0,"mat-error",11),e.qZA()(),e.TgZ(22,"div",8)(23,"mat-form-field",9)(24,"mat-label"),e._uU(25,"Seleccione Marca"),e.qZA(),e.TgZ(26,"mat-select",16,17),e.YNc(28,So,3,3,"mat-select-trigger",11)(29,Jo,3,4,"mat-option",15),e.qZA(),e.YNc(30,yo,2,0,"mat-error",11),e.qZA()(),e.TgZ(31,"div",8)(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Precio Compra"),e.qZA(),e._UZ(35,"input",18),e.YNc(36,Qo,2,0,"mat-error",11),e.qZA()(),e.TgZ(37,"div",8)(38,"mat-form-field",9)(39,"mat-label"),e._uU(40,"Precio Venta"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,ko,2,0,"mat-error",11),e.qZA()(),e.TgZ(43,"div",8)(44,"mat-form-field",9)(45,"mat-label"),e._uU(46,"Stock"),e.qZA(),e.TgZ(47,"input",20),e.NdJ("keydown",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.preventNegative(a))}),e.qZA(),e.YNc(48,No,2,0,"mat-error",11)(49,Do,2,0,"mat-error",11)(50,Eo,2,0,"mat-error",11),e.qZA()(),e.TgZ(51,"div",8)(52,"mat-form-field",9)(53,"mat-label"),e._uU(54,"Descripci\xf3n"),e.qZA(),e._UZ(55,"textarea",21),e.qZA()(),e.TgZ(56,"div",8)(57,"mat-form-field",8),e._UZ(58,"input",22),e.TgZ(59,"ngx-colors",23),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()()(),e.TgZ(60,"div",8)(61,"div",24)(62,"div",25),e.YNc(63,Ro,2,1,"ng-container",26)(64,zo,4,1,"ng-template",null,27,e.W1O),e.TgZ(66,"div",28)(67,"label",29),e._UZ(68,"mat-icon",30),e.qZA(),e.TgZ(69,"input",31),e.NdJ("change",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.onFileSelected(a))}),e.qZA(),e.YNc(70,Bo,2,1,"button",32),e.qZA()()()(),e.TgZ(71,"div",33)(72,"button",34),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(73,"span"),e._uU(74,"Cancelar"),e.qZA()(),e._UZ(75,"span",35),e.TgZ(76,"button",36),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.InsertAsync())}),e.YNc(77,Go,2,0,"span",11)(78,jo,1,1,"mat-progress-spinner",37),e.qZA()()()}if(2&t){const o=e.MAs(18),i=e.MAs(27),a=e.MAs(65),n=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("codigo").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allCategoria),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("categoria").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",n.allMarca),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("precioCompra").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("precioVenta").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("max")),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("min")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("ngModel",n.colorSelected),e.xp6(4),e.Q6J("ngIf",(null==n.selectedFiles?null:n.selectedFiles.length)>0||n.foto)("ngIfElse",a),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("accept","image/jpeg, image/png"),e.xp6(1),e.um2(70,(null==n.selectedFiles?null:n.selectedFiles.length)>0||""!==n.foto?70:-1),e.xp6(6),e.Q6J("disabled",n.registroProductoForm.invalid||n.isCallingService),e.xp6(1),e.Q6J("ngIf",!n.registroProductoForm.disabled),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.disabled)}}function Vo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function Oo(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function Ho(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(16);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Wo(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ko(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function $o(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(24);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Xo(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function ea(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function ta(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function oa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function aa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function ia(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 999 "),e.qZA())}function ra(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede ser menor a 0 "),e.qZA())}function na(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",40),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)}}function ca(t,c){1&t&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"SIN IMAGEN"),e.qZA()())}function la(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.eliminarFoto())}),e._UZ(1,"mat-icon",46),e.qZA()}2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"))}function sa(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function ma(t,c){1&t&&e._UZ(0,"mat-progress-spinner",58),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function ua(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",48)(1,"mat-form-field",49)(2,"mat-label"),e._uU(3,"C\xf3digo"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,Vo,2,0,"mat-error",11),e.qZA(),e.TgZ(6,"mat-form-field",49)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",12),e.YNc(10,Oo,2,0,"mat-error",11),e.qZA()(),e.TgZ(11,"div",48)(12,"mat-form-field",49)(13,"mat-label"),e._uU(14,"--Seleccione Categor\xeda--"),e.qZA(),e.TgZ(15,"mat-select",13,14),e.YNc(17,Ho,3,3,"mat-select-trigger",11)(18,Wo,3,4,"mat-option",15),e.qZA(),e.YNc(19,Ko,2,0,"mat-error",11),e.qZA(),e.TgZ(20,"mat-form-field",49)(21,"mat-label"),e._uU(22,"--Seleccione Marca--"),e.qZA(),e.TgZ(23,"mat-select",16,17),e.YNc(25,$o,3,3,"mat-select-trigger",11)(26,Xo,3,4,"mat-option",15),e.qZA(),e.YNc(27,ea,2,0,"mat-error",11),e.qZA()(),e.TgZ(28,"div",48)(29,"mat-form-field",49)(30,"mat-label"),e._uU(31,"Precio Compra"),e.qZA(),e._UZ(32,"input",18),e.YNc(33,ta,2,0,"mat-error",11),e.qZA(),e.TgZ(34,"mat-form-field",49)(35,"mat-label"),e._uU(36,"Precio Venta"),e.qZA(),e._UZ(37,"input",19),e.YNc(38,oa,2,0,"mat-error",11),e.qZA(),e.TgZ(39,"mat-form-field",49)(40,"mat-label"),e._uU(41,"Stock"),e.qZA(),e.TgZ(42,"input",20),e.NdJ("keydown",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.preventNegative(a))}),e.qZA(),e.YNc(43,aa,2,0,"mat-error",11)(44,ia,2,0,"mat-error",11)(45,ra,2,0,"mat-error",11),e.qZA()(),e.TgZ(46,"div",50)(47,"mat-form-field",49)(48,"mat-label"),e._uU(49,"Descripci\xf3n"),e.qZA(),e._UZ(50,"textarea",51),e.qZA()(),e.TgZ(51,"mat-form-field"),e._UZ(52,"input",22),e.TgZ(53,"ngx-colors",52),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()(),e.TgZ(54,"div",53)(55,"div",25),e.YNc(56,na,2,1,"ng-container",26)(57,ca,3,0,"ng-template",null,27,e.W1O),e.TgZ(59,"div",28)(60,"label",29),e._UZ(61,"mat-icon",30),e.qZA(),e.TgZ(62,"input",31),e.NdJ("change",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.onFileSelected(a))}),e.qZA(),e.YNc(63,la,2,1,"button",32),e.qZA()()(),e.TgZ(64,"div",54)(65,"button",55),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(66,"span"),e._uU(67," Cancelar "),e.qZA()(),e.TgZ(68,"button",56),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.InsertAsync())}),e.YNc(69,sa,2,0,"span",11)(70,ma,1,2,"mat-progress-spinner",57),e.qZA()()}if(2&t){const o=e.MAs(16),i=e.MAs(24),a=e.MAs(58),n=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("codigo").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allCategoria),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("categoria").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(5),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",n.allMarca),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("precioCompra").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("precioVenta").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("max")),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.get("stock").hasError("min")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(6),e.Q6J("formControlName","color")("ngModel",n.colorSelected),e.xp6(3),e.Q6J("ngIf",(null==n.selectedFiles?null:n.selectedFiles.length)>0||n.foto)("ngIfElse",a),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("accept","image/jpeg, image/png"),e.xp6(1),e.um2(63,(null==n.selectedFiles?null:n.selectedFiles.length)>0||""!==n.foto?63:-1),e.xp6(2),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",n.registroProductoForm.invalid||n.isCallingService),e.xp6(1),e.Q6J("ngIf",!n.registroProductoForm.disabled),e.xp6(1),e.Q6J("ngIf",n.registroProductoForm.disabled)}}let ue=(()=>{class t{constructor(o,i,a,n,u,m,p){this.paramsForms=o,this.matDialogRef=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.cdr=p,this.isCallingService=r.vU.False,this.userInfoLogueado=this.obtenerInfouserInfoLogueado(),this.colorSelected=r.MV.DefaultColor}ngOnInit(){this.allCategoria=this.paramsForms.lstCategoria,this.allMarca=this.paramsForms.lstMarca,this.registroProductoForm=this._formBuilder.group({categoria:["",[l.kI.required]],marca:["",[l.kI.required]],codigo:["",[l.kI.required,l.kI.minLength(r.Q6.Tres),l.kI.maxLength(r.Q6.Cien)]],nombre:["",[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Mil)]],descripcion:["",[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],precioCompra:["",[l.kI.required]],precioVenta:["",[l.kI.required]],stock:["",[l.kI.required]],color:["",[]]})}InsertAsync(){if(this.registroProductoForm.invalid)return;const o=this._toolService.getTimeZone(),i=this.userInfoLogueado.idUsuario,a=this.registroProductoForm.get("categoria").value.id,n=this.registroProductoForm.get("marca").value.id,u=this.registroProductoForm.get("codigo").value,m=this.registroProductoForm.get("color").value,p=this.registroProductoForm.get("nombre").value,d=this.registroProductoForm.get("descripcion").value,Z=this.registroProductoForm.get("precioCompra").value,_=this.registroProductoForm.get("precioVenta").value,x=this.registroProductoForm.get("stock").value;if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(i))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidCategoria,s.T.Tittle);if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidMarca,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidCodigo,s.T.Tittle);if(f.a.isEmptyInputValue(p))return void this._toolService.showWarning(s.T.InvalidNombre,s.T.Tittle);if(f.a.isEmptyInputValue(Z)||Z==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioCompra,s.T.Tittle);if(f.a.isEmptyInputValue(_)||_==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioVenta,s.T.Tittle);if(f.a.isEmptyInputValue(x)||x==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioStock,s.T.Tittle);const g=new Po;g.destinationTimeZoneIdRegistro=o,g.idUsuario=i,g.idCategoria=a,g.idMarca=n,g.codigo=u,g.nombre=p,g.descripcion=d,g.color=m,g.precioCompra=Z,g.precioVenta=_,g.stock=x,g.nombreArchivo=this.nombreArchivo,g.fotoBase64=this.foto,this.registroProductoForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.InsertProductoAsync(g).subscribe(v=>v.success==r.vU.SuccessTransaction?(this._toolService.showSuccess(v.message,v.titleMessage),this.matDialogRef.close(v),void(this.isCallingService=r.vU.False)):v.code==r.Pc.Advertencia?(this._toolService.showWarning(v.message,v.titleMessage),this.registroProductoForm.enable(),void(this.isCallingService=r.vU.False)):(this._toolService.showError(s.J.Transaction,s.J.Tittle),this.registroProductoForm.enable(),void(this.isCallingService=r.vU.False)),v=>{this._toolService.showError(s.J.Transaction,s.J.Tittle),this.registroProductoForm.enable(),this.isCallingService=r.vU.False,console.log(v)})}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}onFileSelected(o){if(this.excedeTamanioFiles(o.target.files))return o.target.value="",this.selectedFiles=null,void this._toolService.showWarning(s.T.ExcedeTamanioArchivos,s.T.Tittle);const i=o.target.files;if(i.length>r.Q6.Cero){const a=i[0],n=new FileReader;n.onload=u=>{this.selectedFiles=u.target.result,this.foto=u.target.result.split(",")[1],this.nombreArchivo=a.name,this.cdr.detectChanges()},n.readAsDataURL(a)}}excedeTamanioFiles(o){let i=r.Q6.Cero;for(let u=r.Q6.Cero;u<o.length;u++)i+=o[u].size;return i/1024>250?r.vU.True:r.vU.False}preventNegative(o){("-"===o.key||"e"===o.key)&&o.preventDefault()}eliminarFoto(){this.selectedFiles=null,this.nombreArchivo=null,this.foto=null}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.WI),e.Y36(P.so),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro-producto-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","formControlName","codigo","maxlength","20","required",""],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","250","required",""],["formControlName","categoria","required",""],["selectCategoriaItem",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","marca","required",""],["selectMarcaItem",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioCompra","maxlength","6","required",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioVenta","maxlength","6","required",""],["type","number","autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","stock","max","999","min","1","required","",3,"keydown"],["matInput","","formControlName","descripcion","maxlength","500"],["autocomplete","off","matInput","","readonly","","placeholder","Color"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"ngModel","ngModelChange"],[1,"flex","justify-center","items-center","gap-2","mb-4"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card","bg-gray-100","group"],[4,"ngIf","ngIfElse"],["noImage",""],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-10","opacity-0","group-hover:opacity-100","transition-opacity"],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["id","avatar-file-input","type","file",1,"hidden",3,"accept","change"],["mat-icon-button","","class","ml-2 text-white hover:text-red-500","aria-label","Eliminar avatar"],[1,"w-full","flex","justify-between","mb-2"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[1,"color-indicator"],[3,"value"],[1,"absolute","inset-0","object-cover","object-center","w-full","h-full",3,"src"],[1,"flex","flex-col","items-center","justify-center","w-full","h-full","bg-gray-200","text-gray-600"],[1,"text-lg","font-semibold"],["class","text-4xl font-bold uppercase",4,"ngIf"],[1,"text-4xl","font-bold","uppercase"],["mat-icon-button","","aria-label","Eliminar avatar",1,"ml-2","text-white","hover:text-red-500",3,"click"],["aria-hidden","true",1,"text-white",3,"svgIcon"],["mode","indeterminate",3,"diameter"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],[1,"flex","justify-between","gap-4"],["matInput","","formControlName","descripcion","maxlength","250"],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName","ngModel","ngModelChange"],[1,"flex","justify-center","items-center","gap-4"],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nuevo Producto"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Lo,79,30,"div",6)(8,ua,71,33),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.registroProductoForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,W.f,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.nD,l.qQ,l.Fd,l.sg,l.u,E.wG,J.Nt,T.KE,T.hX,T.TO,M.gD,M.$L,E.ey,R.Ou,U.lW,U.RK,y.Hw,I.qZ,I.u_]})}return t})();class da{}class pa{}function ga(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function _a(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function fa(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(18);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function ha(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function xa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function Ca(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(27);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function va(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Za(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function ba(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function Ta(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function Aa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function Ua(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 999 "),e.qZA())}function Pa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede ser menor a 0 "),e.qZA())}function Ia(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",40),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)}}function qa(t,c){if(1&t&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Oqu(o.iniciales)}}function wa(t,c){if(1&t&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"SIN IMAGEN"),e.qZA(),e.YNc(3,qa,2,1,"span",43),e.qZA()),2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.iniciales)}}function Ma(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.eliminarFoto())}),e._UZ(1,"mat-icon",46),e.qZA()}2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"))}function Fa(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Guardar"),e.qZA())}function Sa(t,c){1&t&&e._UZ(0,"mat-progress-spinner",47),2&t&&e.Q6J("diameter",24)}function Ja(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"C\xf3digo"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,ga,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",12),e.YNc(12,_a,2,0,"mat-error",11),e.qZA()(),e.TgZ(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),e._uU(16,"Seleccione Categor\xeda"),e.qZA(),e.TgZ(17,"mat-select",13,14),e.YNc(19,fa,3,3,"mat-select-trigger",11)(20,ha,3,4,"mat-option",15),e.qZA(),e.YNc(21,xa,2,0,"mat-error",11),e.qZA()(),e.TgZ(22,"div",8)(23,"mat-form-field",9)(24,"mat-label"),e._uU(25,"Seleccione Marca"),e.qZA(),e.TgZ(26,"mat-select",16,17),e.YNc(28,Ca,3,3,"mat-select-trigger",11)(29,va,3,4,"mat-option",15),e.qZA(),e.YNc(30,Za,2,0,"mat-error",11),e.qZA()(),e.TgZ(31,"div",8)(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Precio Compra"),e.qZA(),e._UZ(35,"input",18),e.YNc(36,ba,2,0,"mat-error",11),e.qZA()(),e.TgZ(37,"div",8)(38,"mat-form-field",9)(39,"mat-label"),e._uU(40,"Precio Venta"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,Ta,2,0,"mat-error",11),e.qZA()(),e.TgZ(43,"div",8)(44,"mat-form-field",9)(45,"mat-label"),e._uU(46,"Stock"),e.qZA(),e.TgZ(47,"input",20),e.NdJ("keydown",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.preventNegative(a))}),e.qZA(),e.YNc(48,Aa,2,0,"mat-error",11)(49,Ua,2,0,"mat-error",11)(50,Pa,2,0,"mat-error",11),e.qZA()(),e.TgZ(51,"div",8)(52,"mat-form-field",9)(53,"mat-label"),e._uU(54,"Descripci\xf3n"),e.qZA(),e._UZ(55,"textarea",21),e.qZA()(),e.TgZ(56,"div",8)(57,"mat-form-field",8),e._UZ(58,"input",22),e.TgZ(59,"ngx-colors",23),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()()(),e.TgZ(60,"div",8)(61,"div",24)(62,"div",25),e.YNc(63,Ia,2,1,"ng-container",26)(64,wa,4,1,"ng-template",null,27,e.W1O),e.TgZ(66,"div",28)(67,"label",29),e._UZ(68,"mat-icon",30),e.qZA(),e.TgZ(69,"input",31),e.NdJ("change",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.onFileSelected(a))}),e.qZA(),e.YNc(70,Ma,2,1,"button",32),e.qZA()()()(),e.TgZ(71,"div",33)(72,"button",34),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(73,"span"),e._uU(74,"Cancelar"),e.qZA()(),e._UZ(75,"span",35),e.TgZ(76,"button",36),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateAsync())}),e.YNc(77,Fa,2,0,"span",11)(78,Sa,1,1,"mat-progress-spinner",37),e.qZA()()()}if(2&t){const o=e.MAs(18),i=e.MAs(27),a=e.MAs(65),n=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("codigo").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allCategoria),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("categoria").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",n.allMarca),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("precioCompra").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("precioVenta").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("max")),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("min")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("ngModel",n.colorSelected),e.xp6(4),e.Q6J("ngIf",(null==n.selectedFiles?null:n.selectedFiles.length)>0||n.foto)("ngIfElse",a),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("accept","image/jpeg, image/png"),e.xp6(1),e.um2(70,(null==n.selectedFiles?null:n.selectedFiles.length)>0||""!==n.foto?70:-1),e.xp6(6),e.Q6J("disabled",n.actualizaProductoForm.invalid||n.isCallingService),e.xp6(1),e.Q6J("ngIf",!n.actualizaProductoForm.disabled),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.disabled)}}function ya(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function Qa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function ka(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(16);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Na(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Da(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function Ea(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(24);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Ra(t,c){if(1&t&&(e.TgZ(0,"mat-option",39),e._UZ(1,"span",38),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ya(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function za(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function Ba(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function Ga(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function ja(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 999 "),e.qZA())}function La(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede ser menor a 0 "),e.qZA())}function Va(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",40),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)}}function Oa(t,c){1&t&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"SIN IMAGEN"),e.qZA()())}function Ha(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.eliminarFoto())}),e._UZ(1,"mat-icon",46),e.qZA()}2&t&&(e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash"))}function Wa(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1," Guardar "),e.qZA())}function Ka(t,c){1&t&&e._UZ(0,"mat-progress-spinner",58),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function $a(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",48)(1,"mat-form-field",49)(2,"mat-label"),e._uU(3,"C\xf3digo"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,ya,2,0,"mat-error",11),e.qZA(),e.TgZ(6,"mat-form-field",49)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",12),e.YNc(10,Qa,2,0,"mat-error",11),e.qZA()(),e.TgZ(11,"div",48)(12,"mat-form-field",49)(13,"mat-label"),e._uU(14,"--Seleccione Categor\xeda--"),e.qZA(),e.TgZ(15,"mat-select",13,14),e.YNc(17,ka,3,3,"mat-select-trigger",11)(18,Na,3,4,"mat-option",15),e.qZA(),e.YNc(19,Da,2,0,"mat-error",11),e.qZA(),e.TgZ(20,"mat-form-field",49)(21,"mat-label"),e._uU(22,"--Seleccione Marca--"),e.qZA(),e.TgZ(23,"mat-select",16,17),e.YNc(25,Ea,3,3,"mat-select-trigger",11)(26,Ra,3,4,"mat-option",15),e.qZA(),e.YNc(27,Ya,2,0,"mat-error",11),e.qZA()(),e.TgZ(28,"div",48)(29,"mat-form-field",49)(30,"mat-label"),e._uU(31,"Precio Compra"),e.qZA(),e._UZ(32,"input",18),e.YNc(33,za,2,0,"mat-error",11),e.qZA(),e.TgZ(34,"mat-form-field",49)(35,"mat-label"),e._uU(36,"Precio Venta"),e.qZA(),e._UZ(37,"input",19),e.YNc(38,Ba,2,0,"mat-error",11),e.qZA(),e.TgZ(39,"mat-form-field",49)(40,"mat-label"),e._uU(41,"Stock"),e.qZA(),e.TgZ(42,"input",20),e.NdJ("keydown",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.preventNegative(a))}),e.qZA(),e.YNc(43,Ga,2,0,"mat-error",11)(44,ja,2,0,"mat-error",11)(45,La,2,0,"mat-error",11),e.qZA()(),e.TgZ(46,"div",50)(47,"mat-form-field",49)(48,"mat-label"),e._uU(49,"Descripci\xf3n"),e.qZA(),e._UZ(50,"textarea",51),e.qZA()(),e.TgZ(51,"mat-form-field"),e._UZ(52,"input",22),e.TgZ(53,"ngx-colors",52),e.NdJ("ngModelChange",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.colorSelected=a)}),e.qZA()(),e.TgZ(54,"div",53)(55,"div",25),e.YNc(56,Va,2,1,"ng-container",26)(57,Oa,3,0,"ng-template",null,27,e.W1O),e.TgZ(59,"div",28)(60,"label",29),e._UZ(61,"mat-icon",30),e.qZA(),e.TgZ(62,"input",31),e.NdJ("change",function(a){e.CHM(o);const n=e.oxw();return e.KtG(n.onFileSelected(a))}),e.qZA(),e.YNc(63,Ha,2,1,"button",32),e.qZA()()(),e.TgZ(64,"div",54)(65,"button",55),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(66,"span"),e._uU(67," Cancelar "),e.qZA()(),e.TgZ(68,"button",56),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.UpdateAsync())}),e.YNc(69,Wa,2,0,"span",11)(70,Ka,1,2,"mat-progress-spinner",57),e.qZA()()}if(2&t){const o=e.MAs(16),i=e.MAs(24),a=e.MAs(58),n=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("codigo").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",n.allCategoria),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("categoria").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",n.compareObjects),e.xp6(2),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",n.allMarca),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("precioCompra").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("precioVenta").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("max")),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.get("stock").hasError("min")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(6),e.Q6J("formControlName","color")("ngModel",n.colorSelected),e.xp6(3),e.Q6J("ngIf",(null==n.selectedFiles?null:n.selectedFiles.length)>0||n.foto)("ngIfElse",a),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("accept","image/jpeg, image/png"),e.xp6(1),e.um2(63,(null==n.selectedFiles?null:n.selectedFiles.length)>0||""!==n.foto?63:-1),e.xp6(2),e.Q6J("color","accent"),e.xp6(3),e.Q6J("color","primary")("disabled",n.actualizaProductoForm.invalid||n.isCallingService),e.xp6(1),e.Q6J("ngIf",!n.actualizaProductoForm.disabled),e.xp6(1),e.Q6J("ngIf",n.actualizaProductoForm.disabled)}}let de=(()=>{class t{constructor(o,i,a,n,u,m,p){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.cdr=p,this.isCallingService=r.vU.False,this.userInfoLogueado=this.obtenerInfouserInfoLogueado(),this.colorSelected=r.MV.DefaultColor}ngOnInit(){this.producto=this.paramsForms.producto,this.allCategoria=this.paramsForms.lstCategoria,this.allMarca=this.paramsForms.lstMarca,this.foto=this.producto.urlFoto,this.actualizaProductoForm=this._formBuilder.group({categoria:[this.producto.categoria,[l.kI.required]],marca:[this.producto.marca,[l.kI.required]],codigo:[{value:this.producto.codigo,disabled:!0}],nombre:[this.producto.nombre,[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Mil)]],descripcion:[this.producto.descripcion,[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],precioCompra:[this.producto.precioCompra,[l.kI.required]],precioVenta:[this.producto.precioVenta,[l.kI.required]],stock:[this.producto.stock,[l.kI.required]],color:[this.producto.color,[l.kI.required]]})}UpdateAsync(){if(this.actualizaProductoForm.invalid)return;const o=this._toolService.getTimeZone(),i=this.userInfoLogueado.idUsuario,a=this.producto.id,n=this.actualizaProductoForm.value.color,u=this.actualizaProductoForm.value.categoria.id,m=this.actualizaProductoForm.value.marca.id,p=this.actualizaProductoForm.value.nombre,d=this.actualizaProductoForm.value.descripcion,Z=this.actualizaProductoForm.value.precioCompra,_=this.actualizaProductoForm.value.precioVenta,x=this.actualizaProductoForm.value.stock;if(f.a.isEmptyInputValue(o))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(i))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidCategoria,s.T.Tittle);if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidMarca,s.T.Tittle);if(f.a.isEmptyInputValue(p))return void this._toolService.showWarning(s.T.InvalidNombre,s.T.Tittle);if(f.a.isEmptyInputValue(Z)||Z==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioCompra,s.T.Tittle);if(f.a.isEmptyInputValue(_)||_==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioVenta,s.T.Tittle);if(f.a.isEmptyInputValue(x)||x==r.Q6.Cero)return void this._toolService.showWarning(s.T.InvalidPrecioStock,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidColor,s.T.Tittle);const g=new pa;g.destinationTimeZoneIdActualizacion=o,g.idUsuario=i,g.id=a,g.idCategoria=u,g.idMarca=m,g.nombre=p,g.descripcion=d,g.color=n,g.precioCompra=Z,g.precioVenta=_,g.stock=x,g.nombreArchivo=this.nombreArchivo,g.foto=this.foto,this.actualizaProductoForm.disable(),this.isCallingService=r.vU.True,this._inventarioService.UpdateProductoAsync(g).subscribe(v=>v.success?(this._toolService.showSuccess(v.message,v.titleMessage),this.matDialogRef.close(v),void(this.isCallingService=r.vU.False)):v.code==r.Pc.Advertencia?(this._toolService.showWarning(v.message,v.titleMessage),this.actualizaProductoForm.enable(),void(this.isCallingService=r.vU.False)):(this._toolService.showError(s.J.Transaction,s.J.Tittle),this.actualizaProductoForm.enable(),void(this.isCallingService=r.vU.False)),v=>{this._toolService.showError(s.J.Transaction,s.J.Tittle),this.actualizaProductoForm.enable(),this.isCallingService=r.vU.False,console.log(v)})}compareObjects(o,i){return o.id===i.id}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}onFileSelected(o){if(this.excedeTamanioFiles(o.target.files))return o.target.value="",this.selectedFiles=null,void this._toolService.showWarning(s.T.ExcedeTamanioArchivos,s.T.Tittle);const i=o.target.files;if(i.length>r.Q6.Cero){const a=i[0],n=new FileReader;n.onload=u=>{this.selectedFiles=u.target.result,this.foto=u.target.result.split(",")[1],this.nombreArchivo=a.name,this.cdr.detectChanges()},n.readAsDataURL(a)}}excedeTamanioFiles(o){let i=r.Q6.Cero;for(let u=r.Q6.Cero;u<o.length;u++)i+=o[u].size;return i/1024>250?r.vU.True:r.vU.False}preventNegative(o){("-"===o.key||"e"===o.key)&&o.preventDefault()}eliminarFoto(){this.selectedFiles=null,this.nombreArchivo=null,this.foto=null}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-modifica-producto-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","formControlName","codigo","maxlength","5","required",""],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","250","required",""],["formControlName","categoria","required","",3,"compareWith"],["selectCategoriaItem",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","marca","required","",3,"compareWith"],["selectMarcaItem",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioCompra","maxlength","6","required",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioVenta","maxlength","6","required",""],["type","number","autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","stock","max","999","min","1","required","",3,"keydown"],["matInput","","formControlName","descripcion","maxlength","500"],["autocomplete","off","matInput","","readonly","","placeholder","Color"],["formControlName","color","ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"ngModel","ngModelChange"],[1,"flex","justify-center","items-center","gap-2","mb-4"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card","bg-gray-100","group"],[4,"ngIf","ngIfElse"],["noImage",""],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50","z-10","opacity-0","group-hover:opacity-100","transition-opacity"],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["id","avatar-file-input","type","file",1,"hidden",3,"accept","change"],["mat-icon-button","","class","ml-2 text-white hover:text-red-500","aria-label","Eliminar avatar"],[1,"w-full","flex","justify-between","mb-2"],["mat-stroked-button","","color","accent","type","button",1,"mobil-btn",3,"click"],[1,"w-4"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"disabled","click"],["mode","indeterminate",3,"diameter",4,"ngIf"],[1,"color-indicator"],[3,"value"],[1,"absolute","inset-0","object-cover","object-center","w-full","h-full",3,"src"],[1,"flex","flex-col","items-center","justify-center","w-full","h-full","bg-gray-200","text-gray-600"],[1,"text-lg","font-semibold"],["class","text-4xl font-bold uppercase",4,"ngIf"],[1,"text-4xl","font-bold","uppercase"],["mat-icon-button","","aria-label","Eliminar avatar",1,"ml-2","text-white","hover:text-red-500",3,"click"],["aria-hidden","true",1,"text-white",3,"svgIcon"],["mode","indeterminate",3,"diameter"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],[1,"flex","justify-between","gap-4"],["matInput","","formControlName","descripcion","maxlength","250"],["ngx-colors-trigger","","required","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName","ngModel","ngModelChange"],[1,"flex","justify-center","items-center","gap-4"],[1,"flex","justify-end","mt-2"],["mat-stroked-button","","type","button",1,"px-8",3,"color","click"],["mat-flat-button","","type","button",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Modifica Producto"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,Ja,79,32,"div",6)(8,$a,71,35),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.actualizaProductoForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,W.f,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.nD,l.qQ,l.Fd,l.sg,l.u,E.wG,J.Nt,T.KE,T.hX,T.TO,M.gD,M.$L,E.ey,R.Ou,U.lW,U.RK,y.Hw,I.qZ,I.u_]})}return t})();function Xa(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function ei(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function ti(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(18);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function oi(t,c){if(1&t&&(e.TgZ(0,"mat-option",37),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function ai(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function ii(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(27);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function ri(t,c){if(1&t&&(e.TgZ(0,"mat-option",37),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function ni(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function ci(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function li(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function si(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function mi(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 9999 "),e.qZA())}function ui(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",38),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)("disabled",!0)}}function di(t,c){if(1&t&&(e.TgZ(0,"span",42),e._uU(1),e.qZA()),2&t){const o=e.oxw(3);e.xp6(1),e.Oqu(o.iniciales)}}function pi(t,c){if(1&t&&(e.TgZ(0,"div",39)(1,"span",40),e._uU(2,"SIN IMAGEN"),e.qZA(),e.YNc(3,di,2,1,"span",41),e.qZA()),2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",o.iniciales)}}function gi(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"C\xf3digo"),e.qZA(),e._UZ(5,"input",10),e.YNc(6,Xa,2,0,"mat-error",11),e.qZA()(),e.TgZ(7,"div",8)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",12),e.YNc(12,ei,2,0,"mat-error",11),e.qZA()(),e.TgZ(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),e._uU(16,"Seleccione Categor\xeda"),e.qZA(),e.TgZ(17,"mat-select",13,14),e.YNc(19,ti,3,3,"mat-select-trigger",11)(20,oi,3,4,"mat-option",15),e.qZA(),e.YNc(21,ai,2,0,"mat-error",11),e.qZA()(),e.TgZ(22,"div",8)(23,"mat-form-field",9)(24,"mat-label"),e._uU(25,"Seleccione Marca"),e.qZA(),e.TgZ(26,"mat-select",16,17),e.YNc(28,ii,3,3,"mat-select-trigger",11)(29,ri,3,4,"mat-option",15),e.qZA(),e.YNc(30,ni,2,0,"mat-error",11),e.qZA()(),e.TgZ(31,"div",8)(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Precio Compra"),e.qZA(),e._UZ(35,"input",18),e.YNc(36,ci,2,0,"mat-error",11),e.qZA()(),e.TgZ(37,"div",8)(38,"mat-form-field",9)(39,"mat-label"),e._uU(40,"Precio Venta"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,li,2,0,"mat-error",11),e.qZA()(),e.TgZ(43,"div",8)(44,"mat-form-field",9)(45,"mat-label"),e._uU(46,"Stock"),e.qZA(),e._UZ(47,"input",20),e.YNc(48,si,2,0,"mat-error",11)(49,mi,2,0,"mat-error",11),e.qZA()(),e.TgZ(50,"div",8)(51,"mat-form-field",9)(52,"mat-label"),e._uU(53,"Descripci\xf3n"),e.qZA(),e._UZ(54,"textarea",21),e.qZA()(),e.TgZ(55,"div",8)(56,"mat-form-field",8),e._UZ(57,"input",22)(58,"ngx-colors",23),e.qZA()(),e.TgZ(59,"div",8)(60,"mat-form-field",9)(61,"mat-label"),e._uU(62,"Fecha registro"),e.qZA(),e._UZ(63,"input",24)(64,"mat-datetimepicker-toggle",25)(65,"mat-datetimepicker",26,27),e.qZA()(),e.TgZ(67,"div",8)(68,"mat-form-field",9)(69,"mat-label"),e._uU(70,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(71,"input",28)(72,"mat-datetimepicker-toggle",25)(73,"mat-datetimepicker",26,29),e.qZA()(),e.TgZ(75,"div",8)(76,"div",30)(77,"div",31),e.YNc(78,ui,2,2,"ng-container",32)(79,pi,4,1,"ng-template",null,33,e.W1O),e.qZA()()(),e.TgZ(81,"div",34)(82,"button",35),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(83,"span"),e._uU(84,"Cerrar"),e.qZA()()()()}if(2&t){const o=e.MAs(18),i=e.MAs(27),a=e.MAs(66),n=e.MAs(74),u=e.MAs(80),m=e.oxw();e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("codigo").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",m.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",m.allCategoria),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("categoria").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",m.compareObjects),e.xp6(2),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",m.allMarca),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("precioCompra").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("precioVenta").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("stock").hasError("max")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(6),e.Q6J("ngIf",(null==m.selectedFiles?null:m.selectedFiles.length)>0||m.foto)("ngIfElse",u)}}function _i(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," C\xf3digo es requerido "),e.qZA())}function fi(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es requerido "),e.qZA())}function hi(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(16);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function xi(t,c){if(1&t&&(e.TgZ(0,"mat-option",37),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function Ci(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Categor\xeda es requerido"),e.qZA())}function vi(t,c){if(1&t&&(e.TgZ(0,"mat-select-trigger"),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){e.oxw();const o=e.MAs(24);e.xp6(1),e.Udp("background-color",o.value.color),e.xp6(1),e.hij(" ",o.value.nombre," ")}}function Zi(t,c){if(1&t&&(e.TgZ(0,"mat-option",37),e._UZ(1,"span",36),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre," ")}}function bi(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Marca es requerido"),e.qZA())}function Ti(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Compra es requerido "),e.qZA())}function Ai(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Precio Venta es requerido "),e.qZA())}function Ui(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Stock es requerido "),e.qZA())}function Pi(t,c){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," El stock no puede exceder 9999 "),e.qZA())}function Ii(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"img",38),e.BQk()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFiles||o.foto,e.LSH)("disabled",!0)}}function qi(t,c){1&t&&(e.TgZ(0,"div",39)(1,"span",40),e._uU(2,"SIN IMAGEN"),e.qZA()())}function wi(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",43)(1,"mat-form-field",44)(2,"mat-label"),e._uU(3,"C\xf3digo"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,_i,2,0,"mat-error",11),e.qZA(),e.TgZ(6,"mat-form-field",44)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",12),e.YNc(10,fi,2,0,"mat-error",11),e.qZA()(),e.TgZ(11,"div",43)(12,"mat-form-field",44)(13,"mat-label"),e._uU(14,"--Seleccione Categor\xeda--"),e.qZA(),e.TgZ(15,"mat-select",13,14),e.YNc(17,hi,3,3,"mat-select-trigger",11)(18,xi,3,4,"mat-option",15),e.qZA(),e.YNc(19,Ci,2,0,"mat-error",11),e.qZA(),e.TgZ(20,"mat-form-field",44)(21,"mat-label"),e._uU(22,"--Seleccione Marca--"),e.qZA(),e.TgZ(23,"mat-select",16,17),e.YNc(25,vi,3,3,"mat-select-trigger",11)(26,Zi,3,4,"mat-option",15),e.qZA(),e.YNc(27,bi,2,0,"mat-error",11),e.qZA()(),e.TgZ(28,"div",43)(29,"mat-form-field",44)(30,"mat-label"),e._uU(31,"Precio Compra"),e.qZA(),e._UZ(32,"input",18),e.YNc(33,Ti,2,0,"mat-error",11),e.qZA(),e.TgZ(34,"mat-form-field",44)(35,"mat-label"),e._uU(36,"Precio Venta"),e.qZA(),e._UZ(37,"input",19),e.YNc(38,Ai,2,0,"mat-error",11),e.qZA(),e.TgZ(39,"mat-form-field",44)(40,"mat-label"),e._uU(41,"Stock"),e.qZA(),e._UZ(42,"input",20),e.YNc(43,Ui,2,0,"mat-error",11)(44,Pi,2,0,"mat-error",11),e.qZA()(),e.TgZ(45,"div",45)(46,"mat-form-field",44)(47,"mat-label"),e._uU(48,"Descripci\xf3n"),e.qZA(),e._UZ(49,"textarea",46),e.qZA()(),e.TgZ(50,"div",45)(51,"mat-form-field",47),e._UZ(52,"input",48)(53,"ngx-colors",23),e.qZA()(),e.TgZ(54,"div",43)(55,"mat-form-field",44)(56,"mat-label"),e._uU(57,"Fecha registro"),e.qZA(),e._UZ(58,"input",24)(59,"mat-datetimepicker-toggle",25)(60,"mat-datetimepicker",26,27),e.qZA(),e.TgZ(62,"mat-form-field",44)(63,"mat-label"),e._uU(64,"\xdaltima fecha modificaci\xf3n"),e.qZA(),e._UZ(65,"input",28)(66,"mat-datetimepicker-toggle",25)(67,"mat-datetimepicker",26,29),e.qZA()(),e.TgZ(69,"div",49)(70,"div",31),e.YNc(71,Ii,2,2,"ng-container",32)(72,qi,3,0,"ng-template",null,33,e.W1O),e.qZA()(),e.TgZ(74,"div",50)(75,"button",51),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cerrarVentanaEmergente())}),e.TgZ(76,"span"),e._uU(77," Cerrar "),e.qZA()(),e._UZ(78,"span",52),e.qZA()}if(2&t){const o=e.MAs(16),i=e.MAs(24),a=e.MAs(61),n=e.MAs(68),u=e.MAs(73),m=e.oxw();e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("codigo").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("nombre").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",m.compareObjects),e.xp6(2),e.Q6J("ngIf",o.value),e.xp6(1),e.Q6J("ngForOf",m.allCategoria),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("categoria").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("compareWith",m.compareObjects),e.xp6(2),e.Q6J("ngIf",i.value),e.xp6(1),e.Q6J("ngForOf",m.allMarca),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("marca").hasError("required")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("precioCompra").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("precioVenta").hasError("required")),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("ngIf",m.detalleProductoForm.get("stock").hasError("required")),e.xp6(1),e.Q6J("ngIf",m.detalleProductoForm.get("stock").hasError("max")),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(7),e.Q6J("formControlName","color"),e.xp6(2),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaRegistro")("matDatetimepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","fechaActualizacion")("matDatetimepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(5),e.Q6J("ngIf",(null==m.selectedFiles?null:m.selectedFiles.length)>0||m.foto)("ngIfElse",u),e.xp6(4),e.Q6J("color","primary")}}let pe=(()=>{class t{constructor(o,i,a,n,u,m,p){this.matDialogRef=o,this.paramsForms=i,this._formBuilder=a,this._inventarioService=n,this._toolService=u,this._securityService=m,this.cdr=p,this.isCallingService=r.vU.False,this.userInfoLogueado=this.obtenerInfouserInfoLogueado()}ngOnInit(){this.producto=this.paramsForms.producto,this.allCategoria=this.paramsForms.lstCategoria,this.allMarca=this.paramsForms.lstMarca,this.foto=this.producto.urlFoto,this.detalleProductoForm=this._formBuilder.group({categoria:[this.producto.categoria,[l.kI.required]],marca:[this.producto.marca,[l.kI.required]],codigo:[this.producto.codigo,[l.kI.required,l.kI.minLength(r.Q6.Tres),l.kI.maxLength(r.Q6.Cien)]],nombre:[this.producto.nombre,[l.kI.required,l.kI.minLength(r.Q6.Dos),l.kI.maxLength(r.Q6.Mil)]],descripcion:[this.producto.descripcion,[l.kI.maxLength(r.Q6.DoscientosCincuenta)]],precioCompra:[this.producto.precioCompra,[l.kI.required]],precioVenta:[this.producto.precioVenta,[l.kI.required]],stock:[this.producto.stock,[l.kI.required]],fechaRegistro:[this.producto.fechaRegistro],fechaActualizacion:[this.producto.fechaActualizacion],color:[this.producto.color]}),this.detalleProductoForm.disable()}compareObjects(o,i){return o.id===i.id}cerrarVentanaEmergente(){this.matDialogRef.close()}isMobilSize(){return this._toolService.isMobilSize()}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}onFileSelected(o){if(this.excedeTamanioFiles(o.target.files))return o.target.value="",this.selectedFiles=null,void this._toolService.showWarning(s.T.ExcedeTamanioArchivos,s.T.Tittle);const i=o.target.files;if(i.length>r.Q6.Cero){const a=i[0],n=new FileReader;n.onload=u=>{this.selectedFiles=u.target.result,this.foto=u.target.result.split(",")[1],this.nombreArchivo=a.name,this.cdr.detectChanges()},n.readAsDataURL(a)}}excedeTamanioFiles(o){let i=r.Q6.Cero;for(let u=r.Q6.Cero;u<o.length;u++)i+=o[u].size;return i/1024>250?r.vU.True:r.vU.False}eliminarFoto(){this.selectedFiles=null,this.nombreArchivo=null,this.foto=null}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(P.so),e.Y36(P.WI),e.Y36(l.QS),e.Y36(N.I),e.Y36(w.o),e.Y36(D.I),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-detalle-producto-page"]],decls:9,vars:4,consts:[[1,"flex","flex-col","max-w-3xl","md:min-w-200","max","-m-6","height-dialog"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],["class","flex flex-wrap space-y-2"],[1,"flex","flex-wrap","space-y-2"],[1,"w-full"],[1,"w-full",3,"appearance"],["autocomplete","off","matInput","","formControlName","codigo","maxlength","5","required",""],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","nombre","maxlength","250","required",""],["formControlName","categoria","required","",3,"compareWith"],["selectCategoriaItem",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","marca","required","",3,"compareWith"],["selectMarcaItem",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioCompra","maxlength","6","required",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioVenta","maxlength","6","required",""],["type","number","autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","stock","max","999","required",""],["matInput","","formControlName","descripcion","maxlength","500"],["matInput","","disabled","","placeholder","Color","autocomplete","off"],["ngx-colors-trigger","","acceptLabel","Aceptar","cancelLabel","Cancelar",3,"formControlName"],["autocomplete","off","matInput","","autocomplete","false","placeholder","Fecha registro",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["matSuffix","",3,"for"],["type","datetime","openOnFocus","false","timeInterval","5"],["fechaRegistro",""],["matInput","","autocomplete","false","placeholder","\xdaltima fecha modificaci\xf3n",1,"text-sm","h-8","p-1",3,"formControlName","matDatetimepicker"],["fechaActualizacion",""],[1,"flex","justify-center","items-center","gap-2","mb-4"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card","bg-gray-100","group"],[4,"ngIf","ngIfElse"],["noImage",""],[1,"w-full","flex","justify-between"],["mat-flat-button","","color","primary","type","button",1,"mobil-btn",3,"click"],[1,"color-indicator"],[3,"value"],[1,"absolute","inset-0","object-cover","object-center","w-full","h-full",3,"src","disabled"],[1,"flex","flex-col","items-center","justify-center","w-full","h-full","bg-gray-200","text-gray-600"],[1,"text-lg","font-semibold"],["class","text-4xl font-bold uppercase",4,"ngIf"],[1,"text-4xl","font-bold","uppercase"],[1,"flex","justify-between","gap-4","mb-2"],[1,"flex-1",3,"appearance"],[1,"flex","justify-between","gap-4"],["matInput","","formControlName","descripcion","maxlength","250"],[1,"flex-1"],["autocomplete","off","matInput","","disabled","","placeholder","Color"],[1,"flex","justify-center","items-center","gap-4"],[1,"flex","justify-end","mt-2"],["mat-flat-button","","type","button",1,"px-8",3,"color","click"],[1,"w-2"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Detalle Producto"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return a.cerrarVentanaEmergente()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5),e.YNc(7,gi,85,33,"div",6)(8,wi,79,34),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(1),e.Q6J("formGroup",a.detalleProductoForm),e.xp6(1),e.um2(7,a.isMobilSize()?7:8))},dependencies:[h.sg,h.O5,W.f,Y._R,Y.C,Y.RZ,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.nD,l.Fd,l.sg,l.u,J.Nt,T.KE,T.hX,T.TO,T.R9,M.gD,M.$L,E.ey,U.lW,U.RK,y.Hw,I.qZ,I.u_]})}return t})();var Mi=C(6670),te=C(8034);const Fi=["selectCategoriaItem"],Si=["selectMarcaItem"],Ji=["productoTable"],yi=["matDrawer"];function Qi(t,c){1&t&&(e.ynx(0),e._uU(1,", "),e.BQk())}function ki(t,c){if(1&t&&(e.TgZ(0,"span"),e._UZ(1,"span",49),e._uU(2),e.YNc(3,Qi,2,0,"ng-container",15),e.qZA()),2&t){const o=c.$implicit,i=c.index;e.oxw(2);const a=e.MAs(24);e.xp6(1),e.Udp("background-color",null==o?null:o.color),e.xp6(1),e.hij(" ",o.nombre||"",""),e.xp6(1),e.Q6J("ngIf",i<a.value.length-1)}}function Ni(t,c){if(1&t&&(e.ynx(0),e.YNc(1,ki,4,4,"span",48),e.BQk()),2&t){e.oxw();const o=e.MAs(24);e.xp6(1),e.Q6J("ngForOf",o.value)}}function Di(t,c){if(1&t&&(e.TgZ(0,"mat-option",50),e._UZ(1,"span",49),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre,"")}}function Ei(t,c){1&t&&(e.ynx(0),e._uU(1,", "),e.BQk())}function Ri(t,c){if(1&t&&(e.TgZ(0,"span"),e._UZ(1,"span",49),e._uU(2),e.YNc(3,Ei,2,0,"ng-container",15),e.qZA()),2&t){const o=c.$implicit,i=c.index;e.oxw(2);const a=e.MAs(33);e.xp6(1),e.Udp("background-color",null==o?null:o.color),e.xp6(1),e.hij(" ",o.nombre||"",""),e.xp6(1),e.Q6J("ngIf",i<a.value.length-1)}}function Yi(t,c){if(1&t&&(e.ynx(0),e.YNc(1,Ri,4,4,"span",48),e.BQk()),2&t){e.oxw();const o=e.MAs(33);e.xp6(1),e.Q6J("ngForOf",o.value)}}function zi(t,c){if(1&t&&(e.TgZ(0,"mat-option",50),e._UZ(1,"span",49),e._uU(2),e.qZA()),2&t){const o=c.$implicit;e.Q6J("value",o),e.xp6(1),e.Udp("background-color",o.color),e.xp6(1),e.hij(" ",o.nombre,"")}}function Bi(t,c){1&t&&e._UZ(0,"mat-icon",51),2&t&&e.Q6J("svgIcon","heroicons_solid:magnifying-glass")}function Gi(t,c){1&t&&(e.TgZ(0,"span",52),e._uU(1,"Buscar"),e.qZA())}function ji(t,c){1&t&&e._UZ(0,"mat-progress-spinner",53),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}function Li(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",54),e._UZ(1,"mat-icon",6),e.qZA(),e.TgZ(2,"mat-menu",null,55)(4,"button",56),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarProducto())}),e._UZ(5,"mat-icon",6),e.TgZ(6,"span",57),e._uU(7,"Nuevo"),e.qZA()(),e.TgZ(8,"button",56),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",57),e._uU(11,"Filtrar"),e.qZA()(),e.TgZ(12,"button",58),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(13,"mat-icon",6),e.TgZ(14,"span",57),e._uU(15,"Exportar"),e.qZA()()()}if(2&t){const o=e.MAs(3),i=e.oxw();e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",i.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}function Vi(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onShowFormRegistrarProducto())}),e._UZ(1,"mat-icon",60),e.TgZ(2,"span",52),e._uU(3,"Nuevo"),e.qZA()(),e.TgZ(4,"button",61),e.NdJ("click",function(){e.CHM(o),e.oxw();const a=e.MAs(2);return e.KtG(a.open())}),e._UZ(5,"mat-icon",60),e.TgZ(6,"span",52),e._uU(7,"Filtrar"),e.qZA()(),e.TgZ(8,"button",62),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onExportar())}),e._UZ(9,"mat-icon",60),e.TgZ(10,"span",52),e._uU(11,"Exportar"),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("color","primary")("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:adjustments-horizontal"),e.xp6(3),e.Q6J("disabled",o.disabledExportar),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:arrow-up-tray")}}const Oi=()=>({"border-radius":"0",height:"50px"});function Hi(t,c){if(1&t&&(e.TgZ(0,"div",63),e._UZ(1,"ngx-skeleton-loader",64),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("count",o.skeletonNumber)("theme",e.DdM(2,Oi))}}function Wi(t,c){1&t&&(e.TgZ(0,"th",92),e._uU(1,"Imagen"),e.qZA())}function Ki(t,c){if(1&t&&e._UZ(0,"img",98),2&t){const o=e.oxw().$implicit;e.Q6J("alt","Imagen de "+o.nombre)("src",o.urlFoto,e.LSH)}}function $i(t,c){1&t&&(e.TgZ(0,"div",99),e._uU(1," SIN IMAGEN "),e.qZA())}function Xi(t,c){if(1&t&&(e.TgZ(0,"td",93)(1,"div",94)(2,"div",95),e.YNc(3,Ki,1,2,"img",96)(4,$i,2,0,"div",97),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(3),e.Q6J("ngIf",o.urlFoto),e.xp6(1),e.Q6J("ngIf",!o.urlFoto)}}function er(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," C\xf3digo "),e.qZA())}function tr(t,c){if(1&t&&(e.TgZ(0,"td",93)(1,"span",101)(2,"span"),e._uU(3),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(3),e.Oqu(o.codigo)}}function or(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Nombre "),e.qZA())}function ar(t,c){if(1&t&&(e.TgZ(0,"td",102)(1,"span",94),e._UZ(2,"span",103),e.TgZ(3,"span",104),e._uU(4),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(2),e.Udp("background-color",o.color),e.xp6(2),e.Oqu(o.nombre)}}function ir(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Marca "),e.qZA())}function rr(t,c){if(1&t&&(e.TgZ(0,"td",102)(1,"span",94),e._UZ(2,"span",103),e.TgZ(3,"span",104),e._uU(4),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(2),e.Udp("background-color",o.marca.color),e.xp6(2),e.Oqu(o.marca.nombre)}}function nr(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Categor\xeda "),e.qZA())}function cr(t,c){if(1&t&&(e.TgZ(0,"td",102)(1,"span",94),e._UZ(2,"span",103),e.TgZ(3,"span",104),e._uU(4),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(2),e.Udp("background-color",o.categoria.color),e.xp6(2),e.Oqu(o.categoria.nombre)}}function lr(t,c){1&t&&(e.TgZ(0,"th",105),e._uU(1," Stock "),e.qZA())}const sr=(t,c,o)=>({"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":t,"bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50":c,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":o});function mr(t,c){if(1&t&&(e.TgZ(0,"td",106)(1,"span",107)(2,"span",108),e._uU(3),e.qZA()()()),2&t){const o=c.$implicit;e.xp6(1),e.Q6J("ngClass",e.kEZ(2,sr,(null==o?null:o.stock)<=0,(null==o?null:o.stock)>0&&(null==o?null:o.stock)<=5,(null==o?null:o.stock)>5)),e.xp6(2),e.Oqu(null==o?null:o.stock)}}function ur(t,c){1&t&&(e.TgZ(0,"th",109),e._uU(1," Precio Compra"),e.qZA())}const ge=(t,c,o)=>[t,c,"code","",o];function dr(t,c){if(1&t&&(e.TgZ(0,"td",110)(1,"span",111),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const o=c.$implicit,i=e.oxw(2);e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,ge,o.precioCompra,i.monedaInfo.codigoMoneda,i.monedaInfo.cultureInfo))," ")}}function pr(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Precio Venta"),e.qZA())}function gr(t,c){if(1&t&&(e.TgZ(0,"td",110)(1,"span",112),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const o=c.$implicit,i=e.oxw(2);e.xp6(2),e.hij(" ",e.G7q(3,1,e.kEZ(7,ge,o.precioVenta,i.monedaInfo.codigoMoneda,i.monedaInfo.cultureInfo))," ")}}function _r(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Fecha Registro "),e.qZA())}function fr(t,c){if(1&t&&(e.TgZ(0,"td",113)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,o.fechaRegistro,"dd/MM/yyyy HH:mm")," ")}}function hr(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1,"Activo"),e.qZA())}function xr(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",110)(1,"mat-slide-toggle",114),e.NdJ("change",function(a){const u=e.CHM(o).$implicit,m=e.oxw(2);return e.KtG(m.UpdateActivoProductoAsync(u,a.checked))}),e.qZA()()}if(2&t){const o=c.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("checked",o.activo)("disabled",i.disabledAcciones)}}function Cr(t,c){1&t&&(e.TgZ(0,"th",100),e._uU(1," Acciones "),e.qZA())}function vr(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"td",110)(1,"button",115)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,116)(6,"button",56),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormDetalleProducto(n))}),e._UZ(7,"mat-icon",117),e._uU(8," Ver "),e.qZA(),e.TgZ(9,"button",56),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.onShowFormModificaProducto(n))}),e._UZ(10,"mat-icon",118),e._uU(11," Editar "),e.qZA(),e.TgZ(12,"button",56),e.NdJ("click",function(){const n=e.CHM(o).$implicit,u=e.oxw(2);return e.KtG(u.DeleteAsync(n))}),e._UZ(13,"mat-icon",119),e._uU(14," Eliminar "),e.qZA()()()}if(2&t){const o=e.MAs(5),i=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",o)("disabled",i.disabledAcciones)}}function Zr(t,c){1&t&&e._UZ(0,"tr",120)}function br(t,c){1&t&&e._UZ(0,"tr",121)}const Tr=()=>[10,15,20];function Ar(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",122)(1,"mat-paginator",123,124),e.NdJ("page",function(a){e.CHM(o);const n=e.oxw(2);return e.KtG(n.onPageChange(a))}),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("length",o.allProductoDataSource.data.length)("pageSize",10)("pageSizeOptions",e.DdM(3,Tr))}}function Ur(t,c){if(1&t&&(e.TgZ(0,"div",122),e._UZ(1,"img",125),e.TgZ(2,"div",126),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"p",127),e._uU(6,"Aplique otros filtros de b\xfasqueda"),e.qZA()()()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.imgNoDataUltimosRegistros,e.LSH),e.xp6(2),e.hij(" ",o.textoResultadoTable,"")}}function Pr(t,c){if(1&t&&(e.TgZ(0,"div",65)(1,"div",66)(2,"table",67,68),e.ynx(4,69),e.YNc(5,Wi,2,0,"th",70)(6,Xi,5,2,"td",71),e.BQk(),e.ynx(7,72),e.YNc(8,er,2,0,"th",73)(9,tr,4,1,"td",71),e.BQk(),e.ynx(10,74),e.YNc(11,or,2,0,"th",73)(12,ar,5,3,"td",75),e.BQk(),e.ynx(13,76),e.YNc(14,ir,2,0,"th",73)(15,rr,5,3,"td",75),e.BQk(),e.ynx(16,77),e.YNc(17,nr,2,0,"th",73)(18,cr,5,3,"td",75),e.BQk(),e.ynx(19,78),e.YNc(20,lr,2,0,"th",79)(21,mr,4,6,"td",80),e.BQk(),e.ynx(22,81),e.YNc(23,ur,2,0,"th",82)(24,dr,4,11,"td",83),e.BQk(),e.ynx(25,84),e.YNc(26,pr,2,0,"th",73)(27,gr,4,11,"td",83),e.BQk(),e.ynx(28,85),e.YNc(29,_r,2,0,"th",73)(30,fr,4,4,"td",86),e.BQk(),e.ynx(31,87),e.YNc(32,hr,2,0,"th",73)(33,xr,2,2,"td",83),e.BQk(),e.ynx(34,88),e.YNc(35,Cr,2,0,"th",73)(36,vr,15,2,"td",83),e.BQk(),e.YNc(37,Zr,1,0,"tr",89)(38,br,1,0,"tr",90),e.qZA()(),e.YNc(39,Ar,3,4,"div",91)(40,Ur,7,2,"div",91),e.qZA()),2&t){const o=e.oxw();e.xp6(2),e.Q6J("dataSource",o.pageSlice)("trackBy",o.trackByFn),e.xp6(35),e.Q6J("matHeaderRowDef",o.productoTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.productoTableColumns),e.xp6(1),e.Q6J("ngIf",o.allProductoDataSource.data.length>0),e.xp6(1),e.Q6J("ngIf",0===o.allProductoDataSource.data.length)}}const Ir=[{path:"inventario",children:[{path:"productos",component:(()=>{class t{constructor(o,i,a,n,u,m){this._formBuilder=o,this._securityService=i,this._inventarioService=a,this._matDialog=n,this._fuseConfirmationService=u,this._toolService=m,this.decodeToken=this.obtenerInfouserInfoLogueado(),this.monedaInfo=this.obtenerInfoMoneda(),this.disabledAcciones=r.vU.False,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.False,this.skeleton=r.vU.False,this.skeletonNumber=r.Q6.Ocho,this.textoResultadoTable="",this.imgNoDataUltimosRegistros=r.HZ.noDataUltimosRegistros,this.minDate=this._toolService.getMinDateFIlter(),this.maxDate=this._toolService.getMaxDateFIlter(),this.pageSlice=new b.by,this.allProductoDataSource=new b.by,this.productoTableColumns=["foto","codigo","nombre","categoria","marca","stock","precioCompra","precioVenta","fechaRegistro","activarDesactivar","acciones"],this._unsubscribeAll=new O.x,this.sortingActivoData=(p,d)=>this._toolService.sortingActivoData(p,d)}ngAfterViewInit(){this.allProductoDataSource.sort=this.productoTableMatSort,this.allProductoDataSource.paginator=this._paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this.formFiltros(),this.showSkeleton(),this.getFilterComboConsulta()}formFiltros(){this.filtroProductoForm=this._formBuilder.group({codigo:[""],nombre:[""],categoria:[""],marca:[""],fechaRegistroInicio:[this._toolService.getStartDateOfMonth()],fechaRegistroFin:[this._toolService.getEndDateOfMonth()],precioCompraInicio:[""],precioCompraFin:[""],precioVentaInicio:[""],precioVentaFin:[""]})}getFilterComboConsulta(){const o=this.obtenerRequest();(0,j.D)({dataCategorias:this._inventarioService.GetAllCategoriasForComboBoxAsync(),dataProductos:this._inventarioService.GetAllProductoByFilterAsync(o),dataMarcas:this._inventarioService.GetAllMarcasForComboBoxAsync()}).subscribe({next:i=>{if(this.allCategoriaSource=i.dataCategorias,this.allMarcaSource=i.dataMarcas,this.allProductoDataSource.data=i.dataProductos,this.pageSlice.data=[],this.filtroProductoForm.get("categoria")?.setValue(this.allCategoriaSource),this.filtroProductoForm.get("marca")?.setValue(this.allMarcaSource),this.allProductoDataSource.data.length>r.Q6.Cero)return this.disabledExportar=r.vU.False,this.setPageSlice(this.allProductoDataSource.data),this.disabledBuscar=r.vU.False,void this.hideSkeleton();this.textoResultadoTable=r.RO.NoDataResult,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,this.hideSkeleton()},error:i=>{this.hideSkeleton(),this._toolService.showError(s.J.Transaction,s.J.Tittle),this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,console.log(i)}})}GetAllProductosByFilterAsync(o,i){const a=this.obtenerRequest();this.disabledBuscar=o,this._inventarioService.GetAllProductoByFilterAsync(a).subscribe(n=>{if(this.allProductoDataSource.data=n,this.pageSlice.data=[],this.allProductoDataSource.data.length>r.Q6.Cero)return this.disabledExportar=r.vU.False,this.setPageSlice(this.allProductoDataSource.data),this.disabledBuscar=r.vU.False,this.hideSkeleton(),void(i&&this.closedDrawer());this.textoResultadoTable=r.RO.NoDataResult,this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,this.hideSkeleton(),i&&this.closedDrawer()},n=>{this.hideSkeleton(),this._toolService.showError(s.J.Transaction,s.J.Tittle),this.disabledBuscar=r.vU.False,this.disabledExportar=r.vU.True,console.log(n),i&&this.closedDrawer()})}UpdateActivoProductoAsync(o,i){const a=this._toolService.getTimeZone(),n=this.isMobilSize()==r.vU.True?r.HK.PWA:r.HK.Web,u=this.decodeToken.idUsuario,m=o.id;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidProducto,s.T.Tittle);if(f.a.isEmptyInputValue(a))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidOrigenActualizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const p=new da;p.destinationTimeZoneIdActualizacion=a,p.id=m,p.idUsuario=u,p.activo=i,this.disabledAcciones=r.vU.True,this._inventarioService.UpdateActivoProductoAsync(p).subscribe(d=>{if(d.success){const Z=this.allProductoDataSource.data,_=Z.find(x=>x.id===o.id);return _&&(_.activo=i),this.allProductoDataSource.data=Z,void(this.disabledAcciones=r.vU.False)}this._toolService.showError(s.J.Transaction,s.J.Tittle)},d=>{this.hideSkeleton(),this.disabledAcciones=r.vU.False,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(d)})}onShowFormRegistrarProducto(){this._matDialog.open(ue,{data:{lstCategoria:this.allCategoriaSource,lstMarca:this.allMarcaSource}}).afterClosed().subscribe(i=>{i&&i.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllProductosByFilterAsync(r.vU.False,r.vU.False))})}onShowFormModificaProducto(o){this._matDialog.open(de,{data:{producto:o,lstCategoria:this.allCategoriaSource,lstMarca:this.allMarcaSource}}).afterClosed().subscribe(a=>{a&&a.success==r.vU.SuccessTransaction&&(this.getSkeletonCount(),this.showSkeleton(),this.GetAllProductosByFilterAsync(r.vU.False,r.vU.False))})}onShowFormDetalleProducto(o){this.showFormDetalleProductoDialog(o)}showFormDetalleProductoDialog(o){this._matDialog.open(pe,{autoFocus:r.vU.False,data:{producto:o,lstCategoria:this.allCategoriaSource,lstMarca:this.allMarcaSource}})}DeleteAsync(o){this.configForm=this._formBuilder.group({title:"Borrar Producto",message:"\xbfSeguro que quieres borrar el producto "+o.nombre+"?.",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation-triangle",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Borrar",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancelar"})}),dismissible:!0}),this._fuseConfirmationService.open(this.configForm.value).afterClosed().subscribe(a=>{if("confirmed"!=a)return;const n=this._toolService.getTimeZone(),u=this.decodeToken.idUsuario,m=o.id;if(f.a.isEmptyInputValue(m))return void this._toolService.showWarning(s.T.InvalidProducto,s.T.Tittle);if(f.a.isEmptyInputValue(n))return void this._toolService.showWarning(s.T.InvalidLocalizacion,s.T.Tittle);if(f.a.isEmptyInputValue(u))return void this._toolService.showWarning(s.T.InvalidUIdUsuario,s.T.Tittle);const p=new Uo;p.destinationTimeZoneIdActualizacion=n,p.id=m,p.idUsuario=u,this.disabledAcciones=r.vU.True,this._inventarioService.DeleteProductoAsync(p).subscribe(d=>d.code==r.Pc.Advertencia?(this._toolService.showWarning(d.message,d.titleMessage),this.disabledAcciones=r.vU.False,void this.hideSkeleton()):d.success?(this._toolService.showSuccess(d.message,d.titleMessage),this.removeRowSelected(m),this.setPageSlice(this.allProductoDataSource.data),this.disabledAcciones=r.vU.False,this.getSkeletonCount(),this.showSkeleton(),void this.GetAllProductosByFilterAsync(r.vU.False,r.vU.False)):(this._toolService.showError(s.J.Transaction,s.J.Tittle),void(this.disabledAcciones=r.vU.False)),d=>{this.hideSkeleton(),this.disabledAcciones=r.vU.False,this._toolService.showError(s.J.Transaction,s.J.Tittle),console.log(d)})})}btnBuscar(){this.getSkeletonCount(),this.showSkeleton(),this.GetAllProductosByFilterAsync(r.vU.True,r.vU.True)}onExportar(){if(this.pageSlice.data.length===r.Q6.Cero)return;const o=this._toolService.getCurrencyNumberFormat(this.monedaInfo.codigoMoneda),i=r.Dq.NombreExcelExportarProductos,a=r.Dq.NombreHojaExcelProductos,u=[],m={},p={};this.allProductoDataSource.data.forEach(g=>{const v={C\u00f3digo:g.codigo,Nombre:g.nombre,Categor\u00eda:g.categoria.nombre,Marca:g.marca.nombre,Stock:g.stock,"Precio Compra":o.format(g.precioCompra),"Precio Venta":o.format(g.precioVenta),"Fecha Registro":this._toolService.formatoFecha(g.fechaRegistro),"\xbfActivo?":g.activo==r.vU.False?"No":"Si"};u.push(v),g.marca.color&&(p[g.marca.nombre]=g.marca.color),g.categoria.color&&(m[g.categoria.nombre]=g.categoria.color)});const d=Q.utils.json_to_sheet(u,{header:["C\xf3digo","Nombre","Categor\xeda","Marca","Stock","Precio Compra","Precio Venta","Fecha Registro","\xbfActivo?"]}),Z=u.reduce((g,v)=>(Object.keys(v).forEach((q,V)=>{const L=v[q]?v[q].toString().length:20;g[V]=Math.max(g[V]||20,L)}),g),[]);d["!cols"]=Z.map(g=>({width:g+r.Q6.Cuatro})),["A1","B1","C1","D1","E1","F1","G1","H1","I1"].forEach(g=>{d[g]&&(d[g].s={fill:{fgColor:{rgb:"4f46e5"}},font:{bold:!0,color:{rgb:"ffffff"}},alignment:{horizontal:"center",vertical:"center"}})}),Object.keys(d).forEach(g=>{const v=g[0],q=parseInt(g.substring(1),10);if(!isNaN(q)&&q>1){if("C"===v){const V=d[g]?.v,L=m[V];L&&(d[g].s={fill:{fgColor:{rgb:L.replace("#","")}},font:{color:{rgb:"ffffff"}}})}if("D"===v){const V=d[g]?.v,L=p[V];L&&(d[g].s={fill:{fgColor:{rgb:L.replace("#","")}},font:{color:{rgb:"ffffff"}}})}("A"===v||"B"===v||"C"===v||"D"===v||"E"===v||"F"===v||"G"===v||"H"===v||"J"===v||"K"===v||"I"===v)&&d[g]&&(d[g].s={alignment:{horizontal:"center",vertical:"center"}})}});const x=Q.utils.book_new();Q.utils.book_append_sheet(x,d,a),Q.writeFile(x,i)}obtenerRequest(){const o=new Ao;return o.destinationTimeZoneId=this._toolService.getTimeZone(),o.idUsuario=this.decodeToken.idUsuario,o.codigo=""==this.filtroProductoForm.get("codigo").value?null:this.filtroProductoForm.get("codigo").value,o.nombre=""==this.filtroProductoForm.get("nombre").value?null:this.filtroProductoForm.get("nombre").value,o.lstCategorias=[],o.lstMarcas=[],o.fechaRegistroInicio=""==this.filtroProductoForm.get("fechaRegistroInicio").value?null:this.filtroProductoForm.get("fechaRegistroInicio").value,o.fechaRegistroFin=""==this.filtroProductoForm.get("fechaRegistroFin").value?null:this.filtroProductoForm.get("fechaRegistroFin").value,o.precioCompraInicio=""==this.filtroProductoForm.get("precioCompraInicio").value?null:this.filtroProductoForm.get("precioCompraInicio").value,o.precioCompraFin=""==this.filtroProductoForm.get("precioCompraFin").value?null:this.filtroProductoForm.get("precioCompraFin").value,o.precioVentaInicio=""==this.filtroProductoForm.get("precioVentaInicio").value?null:this.filtroProductoForm.get("precioVentaInicio").value,o.precioVentaFin=""==this.filtroProductoForm.get("precioVentaFin").value?null:this.filtroProductoForm.get("precioVentaFin").value,this.selectCategoriaItem&&this.selectCategoriaItem.options.filter(a=>1==a.selected&&0!=a.value).forEach(a=>{o.lstCategorias?.push(a.value.id)}),this.selectMarcaItem&&this.selectMarcaItem.options.filter(a=>1==a.selected&&0!=a.value).forEach(a=>{o.lstMarcas?.push(a.value.id)}),o}obtenerInfouserInfoLogueado(){return this._securityService.getDecodetoken()}obtenerInfoMoneda(){return this._securityService.getMonedaStorage()}trackByFn(o,i){return i.id||o}onPageChange(o){const i=o.pageIndex*o.pageSize;let a=i+o.pageSize;a>this.allProductoDataSource.data.length&&(a=this.allProductoDataSource.data.length),this.pageSlice.data=this.allProductoDataSource.data.slice(i,a)}setPageSlice(o){this.pageSlice.data=o.slice(r.Q6.Cero,r.Q6.Diez),this._paginator&&(this._paginator.pageIndex=r.Q6.Cero,this._paginator.pageSize=r.Q6.Diez)}isMobilSize(){return this._toolService.isMobilSize()}removeRowSelected(o){const i=this.allProductoDataSource.data.findIndex(a=>a.id===o);-1!==i&&this.allProductoDataSource.data.splice(i,r.Q6.Uno)}closedDrawer(){this.matDrawer.close()}getSkeletonCount(){this.skeletonNumber=this.allProductoDataSource.data.length==r.Q6.Cero?r.Q6.Ocho:this.allProductoDataSource.data.length+r.Q6.Uno}showSkeleton(){this.skeleton=r.vU.Show}hideSkeleton(){this.skeleton=r.vU.Hide}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(l.QS),e.Y36(D.I),e.Y36(N.I),e.Y36(P.uw),e.Y36($.R),e.Y36(w.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-producto-page"]],viewQuery:function(i,a){if(1&i&&(e.Gf(Fi,5),e.Gf(Si,5),e.Gf(Ji,5,F.YE),e.Gf(yi,5),e.Gf(k.NW,5)),2&i){let n;e.iGM(n=e.CRH())&&(a.selectCategoriaItem=n.first),e.iGM(n=e.CRH())&&(a.selectMarcaItem=n.first),e.iGM(n=e.CRH())&&(a.productoTableMatSort=n.first),e.iGM(n=e.CRH())&&(a.matDrawer=n.first),e.iGM(n=e.CRH())&&(a._paginator=n.first)}},features:[e._Bn([{provide:k.ye,useClass:re}])],decls:95,vars:42,consts:[[1,"flex-auto","h-full"],["autoFocus","false",1,"w-90",3,"mode"],["matDrawer",""],[1,"flex","items-center","justify-between","m-4","mr-3","sm:my-5"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","h-full","dark:bg-default"],[1,"flex","flex-col","flex-auto","shrink-0","pt-6","bg-card","dark:bg-transparent"],[1,"flex","flex-col","px-6",3,"formGroup"],[1,"w-full",3,"appearance"],["matInput","","formControlName","codigo","maxlength","50","autocomplete","off"],["matInput","","formControlName","nombre","maxlength","50","autocomplete","off"],["multiple","",3,"formControlName"],["selectCategoriaItem",""],[4,"ngIf"],[3,"model","values"],[3,"value",4,"ngFor","ngForOf"],["selectMarcaItem",""],["autocomplete","off","matInput","",3,"min","max","matDatepicker","formControlName","click"],["matSuffix","",3,"for"],["pickerInicio",""],["pickerFin",""],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioCompraInicio"],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioCompraFin"],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioVentaInicio"],["autocomplete","off","matInput","","appTwoDigitDecimaNumber","","formControlName","precioVentaFin"],["mat-flat-button","",1,"mt-4","mb-8",3,"color","disabled","click"],["class","icon-size-2",3,"svgIcon",4,"ngIf"],["class","ml-2",4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-8"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","items-center","ml-6"],[1,"w-full"],["class","skeleton-default  bg-card shadow rounded-2xl overflow-hidden ",4,"ngIf"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full","mt-6"],["class","xl:col-span-1 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"color-indicator"],[3,"value"],[1,"icon-size-2",3,"svgIcon"],[1,"ml-2"],[3,"diameter","mode"],["mat-icon-button","",3,"matMenuTriggerFor"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-1"],["mat-menu-item","",3,"disabled","click"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"click"],["mat-stroked-button","",1,"hidden","sm:inline-flex","ml-3","sm:w-40","sm:h-10","sm:items-center","sm:justify-center",3,"disabled","click"],[1,"skeleton-default","bg-card","shadow","rounded-2xl","overflow-hidden"],[3,"count","theme"],[1,"xl:col-span-1","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent","mb-3",3,"dataSource","trackBy"],["productoTable",""],["matColumnDef","foto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10",4,"matCellDef"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-cell","","class","min-w-30",4,"matCellDef"],["matColumnDef","marca"],["matColumnDef","categoria"],["matColumnDef","stock"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","min-w-10 text-center",4,"matCellDef"],["matColumnDef","precioCompra"],["mat-header-cell","","mat-sort-header","","class","min-w-10",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","precioVenta"],["matColumnDef","fechaRegistro"],["mat-cell","","style","min-width: 180px",4,"matCellDef"],["matColumnDef","activarDesactivar"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","paginator",4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"min-w-10"],[1,"flex","items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-full h-full object-cover",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase bg-gray-200",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase","bg-gray-200"],["mat-header-cell","","mat-sort-header",""],[1,"pr-2","whitespace-nowrap"],["mat-cell","",1,"min-w-30"],[1,"w-2","h-2","rounded-full"],[1,"ml-3","leading-4"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"min-w-10","text-center"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],["mat-header-cell","","mat-sort-header","",1,"min-w-10"],["mat-cell",""],[1,"pr-6","w-auto","h-auto","rounded-full",2,"color","#056DB6"],[1,"pr-2","w-auto","h-auto","rounded-full",2,"color","#056DB6"],["mat-cell","",2,"min-width","180px"],["color","primary",3,"checked","disabled","change"],["mat-icon-button","",3,"matMenuTriggerFor","disabled"],["menu","matMenu"],["svgIcon","feather:eye"],["svgIcon","feather:edit-2"],["svgIcon","feather:trash-2"],["mat-header-row",""],["mat-row",""],[1,"paginator"],["aria-label","Seleccione p\xe1gina",3,"length","pageSize","pageSizeOptions","page"],["paginator",""],["alt","No hay datos disponibles",1,"w-72","mx-auto","mt-2",3,"src"],[1,"mt-4","sm:mt-8","text-2xl","md:text-2xl","font-semibold","tracking-tight","leading-tight","md:leading-none","text-center"],[1,"mt-2","text-gray-500","text-center"]],template:function(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4),e._uU(5,"Filtrar por:"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(n);const m=e.MAs(2);return e.KtG(m.close())}),e._UZ(8,"mat-icon",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"form",9)(12,"mat-form-field",10)(13,"mat-label"),e._uU(14,"C\xf3digo"),e.qZA(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"Nombre"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Categor\xedas"),e.qZA(),e.TgZ(23,"mat-select",13,14)(25,"mat-select-trigger"),e.YNc(26,Ni,2,1,"ng-container",15),e.qZA(),e._UZ(27,"app-selectAll",16),e.YNc(28,Di,3,4,"mat-option",17),e.qZA()(),e.TgZ(29,"mat-form-field",10)(30,"mat-label"),e._uU(31,"Marcas"),e.qZA(),e.TgZ(32,"mat-select",13,18)(34,"mat-select-trigger"),e.YNc(35,Yi,2,1,"ng-container",15),e.qZA(),e._UZ(36,"app-selectAll",16),e.YNc(37,zi,3,4,"mat-option",17),e.qZA()(),e.TgZ(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"Fecha Registro Inicio"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("click",function(){e.CHM(n);const m=e.MAs(44);return e.KtG(m.open())}),e.qZA(),e._UZ(42,"mat-datepicker-toggle",20)(43,"mat-datepicker",null,21),e.qZA(),e.TgZ(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"Fecha Registro Fin"),e.qZA(),e.TgZ(48,"input",19),e.NdJ("click",function(){e.CHM(n);const m=e.MAs(51);return e.KtG(m.open())}),e.qZA(),e._UZ(49,"mat-datepicker-toggle",20)(50,"mat-datepicker",null,22),e.qZA(),e.TgZ(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Precio Compra Inicio"),e.qZA(),e._UZ(55,"input",23),e.qZA(),e.TgZ(56,"mat-form-field",10)(57,"mat-label"),e._uU(58,"Precio Compra Fin"),e.qZA(),e._UZ(59,"input",24),e.qZA(),e.TgZ(60,"mat-form-field",10)(61,"mat-label"),e._uU(62,"Precio Venta Inicio"),e.qZA(),e._UZ(63,"input",25),e.qZA(),e.TgZ(64,"mat-form-field",10)(65,"mat-label"),e._uU(66,"Precio Venta Fin"),e.qZA(),e._UZ(67,"input",26),e.qZA(),e.TgZ(68,"button",27),e.NdJ("click",function(){return a.btnBuscar()}),e.YNc(69,Bi,1,1,"mat-icon",28)(70,Gi,2,0,"span",29)(71,ji,1,2,"mat-progress-spinner",30),e.qZA()()()()(),e.TgZ(72,"mat-drawer-content",31)(73,"div",32)(74,"div",33)(75,"div",34)(76,"div",35)(77,"div",36)(78,"h2",37),e._uU(79,"Lista de Productos "),e.qZA()(),e.TgZ(80,"div",38)(81,"div")(82,"a",39),e._uU(83,"Productos"),e.qZA()(),e.TgZ(84,"div",40),e._UZ(85,"mat-icon",41),e.TgZ(86,"a",42),e._uU(87,"Lista de Productos"),e.qZA()()()(),e.TgZ(88,"div",43),e.YNc(89,Li,16,6)(90,Vi,12,6),e.qZA()(),e.TgZ(91,"div",44),e.YNc(92,Hi,2,3,"div",45),e.TgZ(93,"div",46),e.YNc(94,Pr,41,6,"div",47),e.qZA()()()()()()}if(2&i){const n=e.MAs(24),u=e.MAs(33),m=e.MAs(44),p=e.MAs(51);e.xp6(1),e.Q6J("mode","over"),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("formGroup",a.filtroProductoForm),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","categoria"),e.xp6(3),e.Q6J("ngIf",(null==n.value?null:n.value.length)>0),e.xp6(1),e.Q6J("model",a.filtroProductoForm.get("categoria"))("values",a.allCategoriaSource),e.xp6(1),e.Q6J("ngForOf",a.allCategoriaSource),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("formControlName","marca"),e.xp6(3),e.Q6J("ngIf",(null==u.value?null:u.value.length)>0),e.xp6(1),e.Q6J("model",a.filtroProductoForm.get("marca"))("values",a.allMarcaSource),e.xp6(1),e.Q6J("ngForOf",a.allMarcaSource),e.xp6(1),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",m)("formControlName","fechaRegistroInicio"),e.xp6(1),e.Q6J("for",m),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(3),e.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",p)("formControlName","fechaRegistroFin"),e.xp6(1),e.Q6J("for",p),e.xp6(3),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("appearance","outline"),e.xp6(4),e.Q6J("color","primary")("disabled",a.filtroProductoForm.invalid||a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",!a.disabledBuscar),e.xp6(1),e.Q6J("ngIf",a.disabledBuscar),e.xp6(14),e.Q6J("svgIcon","heroicons_mini:chevron-right"),e.xp6(4),e.um2(89,a.isMobilSize()?89:90),e.xp6(3),e.Q6J("ngIf",a.skeleton),e.xp6(2),e.Q6J("ngIf",!a.skeleton)}},dependencies:[h.mk,h.sg,h.O5,Mi.K,W.f,X.Rr,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,J.Nt,T.KE,T.hX,T.R9,z.VK,z.OP,z.p6,M.gD,M.$L,E.ey,R.Ou,B.jA,B.kh,B.LW,U.lW,U.RK,y.Hw,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,k.NW,F.YE,F.nU,te.Mq,te.hl,te.nW,ee.xr,h.H9,h.uU]})}return t})(),data:{title:"Listado de los Productos"}},{path:"categoria",component:ne,data:{title:"Categor\xeda de Producto"}},{path:"marca",component:me,data:{title:"Marca del Producto"}}]}];let fe=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[A.Bz.forChild(Ir),A.Bz]})}return t})();var he=C(1389);const qr=[h.ez,he.m,fe],wr=[{provide:E.Ad,useFactory:t=>t.getuserInfoLogueadoCultureInfo(),deps:[w.o]}];let Mr=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({providers:[h.uU,wr],imports:[qr,h.ez,he.m,fe]})}return t})()}}]);